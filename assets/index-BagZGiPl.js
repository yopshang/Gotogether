(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function dA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Md={exports:{}},yl={};var D_;function mA(){if(D_)return yl;D_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var O_;function pA(){return O_||(O_=1,Md.exports=mA()),Md.exports}var G=pA(),xd={exports:{}},Et={};var V_;function gA(){if(V_)return Et;V_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Z={};function lt(M,Q,W){this.props=M,this.context=Q,this.refs=Z,this.updater=W||J}lt.prototype.isReactComponent={},lt.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},lt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ct(){}ct.prototype=lt.prototype;function ut(M,Q,W){this.props=M,this.context=Q,this.refs=Z,this.updater=W||J}var vt=ut.prototype=new ct;vt.constructor=ut,et(vt,lt.prototype),vt.isPureReactComponent=!0;var qt=Array.isArray;function It(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function S(M,Q,W){var st=W.ref;return{$$typeof:s,type:M,key:Q,ref:st!==void 0?st:null,props:W}}function C(M,Q){return S(M.type,Q,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function x(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(W){return Q[W]})}var R=/\/+/g;function Ae(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):Q.toString(36)}function xe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(It,It):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,Q,W,st,gt){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var xt=!1;if(M===null)xt=!0;else switch(bt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(M.$$typeof){case s:case t:xt=!0;break;case A:return xt=M._init,F(xt(M._payload),Q,W,st,gt)}}if(xt)return gt=gt(M),xt=st===""?"."+Ae(M,0):st,qt(gt)?(W="",xt!=null&&(W=xt.replace(R,"$&/")+"/"),F(gt,Q,W,"",function(Xn){return Xn})):gt!=null&&(V(gt)&&(gt=C(gt,W+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+xt)),Q.push(gt)),1;xt=0;var Ue=st===""?".":st+":";if(qt(M))for(var ie=0;ie<M.length;ie++)st=M[ie],bt=Ue+Ae(st,ie),xt+=F(st,Q,W,bt,gt);else if(ie=q(M),typeof ie=="function")for(M=ie.call(M),ie=0;!(st=M.next()).done;)st=st.value,bt=Ue+Ae(st,ie++),xt+=F(st,Q,W,bt,gt);else if(bt==="object"){if(typeof M.then=="function")return F(xe(M),Q,W,st,gt);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return xt}function nt(M,Q,W){if(M==null)return M;var st=[],gt=0;return F(M,st,"","",function(bt){return Q.call(W,bt,gt++)}),st}function ft(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(W){(M._status===0||M._status===-1)&&(M._status=1,M._result=W)},function(W){(M._status===0||M._status===-1)&&(M._status=2,M._result=W)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:nt,forEach:function(M,Q,W){nt(M,function(){Q.apply(this,arguments)},W)},count:function(M){var Q=0;return nt(M,function(){Q++}),Q},toArray:function(M){return nt(M,function(Q){return Q})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=b,Et.Children=Ht,Et.Component=lt,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=ut,Et.StrictMode=a,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,Q,W){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=et({},M.props),gt=M.key;if(Q!=null)for(bt in Q.key!==void 0&&(gt=""+Q.key),Q)!w.call(Q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Q.ref===void 0||(st[bt]=Q[bt]);var bt=arguments.length-2;if(bt===1)st.children=W;else if(1<bt){for(var xt=Array(bt),Ue=0;Ue<bt;Ue++)xt[Ue]=arguments[Ue+2];st.children=xt}return S(M.type,gt,st)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Et.createElement=function(M,Q,W){var st,gt={},bt=null;if(Q!=null)for(st in Q.key!==void 0&&(bt=""+Q.key),Q)w.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=Q[st]);var xt=arguments.length-2;if(xt===1)gt.children=W;else if(1<xt){for(var Ue=Array(xt),ie=0;ie<xt;ie++)Ue[ie]=arguments[ie+2];gt.children=Ue}if(M&&M.defaultProps)for(st in xt=M.defaultProps,xt)gt[st]===void 0&&(gt[st]=xt[st]);return S(M,bt,gt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:p,render:M}},Et.isValidElement=V,Et.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ft}},Et.memo=function(M,Q){return{$$typeof:v,type:M,compare:Q===void 0?null:Q}},Et.startTransition=function(M){var Q=D.T,W={};D.T=W;try{var st=M(),gt=D.S;gt!==null&&gt(W,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(It,Lt)}catch(bt){Lt(bt)}finally{Q!==null&&W.types!==null&&(Q.types=W.types),D.T=Q}},Et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Et.use=function(M){return D.H.use(M)},Et.useActionState=function(M,Q,W){return D.H.useActionState(M,Q,W)},Et.useCallback=function(M,Q){return D.H.useCallback(M,Q)},Et.useContext=function(M){return D.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,Q){return D.H.useDeferredValue(M,Q)},Et.useEffect=function(M,Q){return D.H.useEffect(M,Q)},Et.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Et.useId=function(){return D.H.useId()},Et.useImperativeHandle=function(M,Q,W){return D.H.useImperativeHandle(M,Q,W)},Et.useInsertionEffect=function(M,Q){return D.H.useInsertionEffect(M,Q)},Et.useLayoutEffect=function(M,Q){return D.H.useLayoutEffect(M,Q)},Et.useMemo=function(M,Q){return D.H.useMemo(M,Q)},Et.useOptimistic=function(M,Q){return D.H.useOptimistic(M,Q)},Et.useReducer=function(M,Q,W){return D.H.useReducer(M,Q,W)},Et.useRef=function(M){return D.H.useRef(M)},Et.useState=function(M){return D.H.useState(M)},Et.useSyncExternalStore=function(M,Q,W){return D.H.useSyncExternalStore(M,Q,W)},Et.useTransition=function(){return D.H.useTransition()},Et.version="19.2.4",Et}var M_;function Sm(){return M_||(M_=1,xd.exports=gA()),xd.exports}var Ve=Sm();const yA=dA(Ve);var Ud={exports:{}},_l={},kd={exports:{}},Ld={};var x_;function _A(){return x_||(x_=1,(function(s){function t(F,nt){var ft=F.length;F.push(nt);t:for(;0<ft;){var Lt=ft-1>>>1,Ht=F[Lt];if(0<l(Ht,nt))F[Lt]=nt,F[ft]=Ht,ft=Lt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var nt=F[0],ft=F.pop();if(ft!==nt){F[0]=ft;t:for(var Lt=0,Ht=F.length,M=Ht>>>1;Lt<M;){var Q=2*(Lt+1)-1,W=F[Q],st=Q+1,gt=F[st];if(0>l(W,ft))st<Ht&&0>l(gt,W)?(F[Lt]=gt,F[st]=ft,Lt=st):(F[Lt]=W,F[Q]=ft,Lt=Q);else if(st<Ht&&0>l(gt,ft))F[Lt]=gt,F[st]=ft,Lt=st;else break t}}return nt}function l(F,nt){var ft=F.sortIndex-nt.sortIndex;return ft!==0?ft:F.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],v=[],A=1,b=null,N=3,q=!1,J=!1,et=!1,Z=!1,lt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function vt(F){for(var nt=i(v);nt!==null;){if(nt.callback===null)a(v);else if(nt.startTime<=F)a(v),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(v)}}function qt(F){if(et=!1,vt(F),!J)if(i(y)!==null)J=!0,It||(It=!0,x());else{var nt=i(v);nt!==null&&xe(qt,nt.startTime-F)}}var It=!1,D=-1,w=5,S=-1;function C(){return Z?!0:!(s.unstable_now()-S<w)}function V(){if(Z=!1,It){var F=s.unstable_now();S=F;var nt=!0;try{t:{J=!1,et&&(et=!1,ct(D),D=-1),q=!0;var ft=N;try{e:{for(vt(F),b=i(y);b!==null&&!(b.expirationTime>F&&C());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,N=b.priorityLevel;var Ht=Lt(b.expirationTime<=F);if(F=s.unstable_now(),typeof Ht=="function"){b.callback=Ht,vt(F),nt=!0;break e}b===i(y)&&a(y),vt(F)}else a(y);b=i(y)}if(b!==null)nt=!0;else{var M=i(v);M!==null&&xe(qt,M.startTime-F),nt=!1}}break t}finally{b=null,N=ft,q=!1}nt=void 0}}finally{nt?x():It=!1}}}var x;if(typeof ut=="function")x=function(){ut(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ae=R.port2;R.port1.onmessage=V,x=function(){Ae.postMessage(null)}}else x=function(){lt(V,0)};function xe(F,nt){D=lt(function(){F(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(F){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ft=N;N=nt;try{return F()}finally{N=ft}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=N;N=F;try{return nt()}finally{N=ft}},s.unstable_scheduleCallback=function(F,nt,ft){var Lt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Lt+ft:Lt):ft=Lt,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,F={id:A++,callback:nt,priorityLevel:F,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>Lt?(F.sortIndex=ft,t(v,F),i(y)===null&&F===i(v)&&(et?(ct(D),D=-1):et=!0,xe(qt,ft-Lt))):(F.sortIndex=Ht,t(y,F),J||q||(J=!0,It||(It=!0,x()))),F},s.unstable_shouldYield=C,s.unstable_wrapCallback=function(F){var nt=N;return function(){var ft=N;N=nt;try{return F.apply(this,arguments)}finally{N=ft}}}})(Ld)),Ld}var U_;function vA(){return U_||(U_=1,kd.exports=_A()),kd.exports}var Pd={exports:{}},Ye={};var k_;function EA(){if(k_)return Ye;k_=1;var s=Sm();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,A)},Ye.flushSync=function(y){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=v,a.p=A,a.d.f()}},Ye.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},Ye.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ye.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:q}):A==="script"&&a.d.X(y,{crossOrigin:b,integrity:N,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ye.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},Ye.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin);a.d.L(y,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ye.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},Ye.requestFormReset=function(y){a.d.r(y)},Ye.unstable_batchedUpdates=function(y,v){return y(v)},Ye.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var L_;function TA(){if(L_)return Pd.exports;L_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Pd.exports=EA(),Pd.exports}var P_;function AA(){if(P_)return _l;P_=1;var s=vA(),t=Sm(),i=TA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ct=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),qt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case lt:return"Profiler";case Z:return"StrictMode";case qt:return"Suspense";case It:return"SuspenseList";case S:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ut:return e.displayName||"Context";case ct:return(e._context.displayName||"Context")+".Consumer";case vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:Ae(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Ae(e(n))}catch{}}return null}var xe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function M(e){return{current:e}}function Q(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function W(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var st=M(null),gt=M(null),bt=M(null),xt=M(null);function Ue(e,n){switch(W(bt,n),W(gt,e),W(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Wy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Wy(n),e=t_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(st),W(st,e)}function ie(){Q(st),Q(gt),Q(bt)}function Xn(e){e.memoizedState!==null&&W(xt,e);var n=st.current,r=t_(n,e.type);n!==r&&(W(gt,e),W(st,r))}function vi(e){gt.current===e&&(Q(st),Q(gt)),xt.current===e&&(Q(xt),dl._currentValue=ft)}var fs,ea;function jn(e){if(fs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);fs=n&&n[1]||"",ea=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+e+ea}var ds=!1;function na(e,n){if(!e||ds)return"";ds=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var z=j}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(j){z=j}e.call(Y.prototype)}}else{try{throw Error()}catch(j){z=j}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var H=`
`+I[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{ds=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?jn(r):""}function Nh(e,n){switch(e.tag){case 26:case 27:case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return e.child!==n&&n!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return na(e.type,!1);case 11:return na(e.type.render,!1);case 1:return na(e.type,!0);case 31:return jn("Activity");default:return""}}function Jl(e){try{var n="",r=null;do n+=Nh(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ia=Object.prototype.hasOwnProperty,ms=s.unstable_scheduleCallback,ra=s.unstable_cancelCallback,Dh=s.unstable_shouldYield,go=s.unstable_requestPaint,ke=s.unstable_now,$l=s.unstable_getCurrentPriorityLevel,Se=s.unstable_ImmediatePriority,Ie=s.unstable_UserBlockingPriority,Ei=s.unstable_NormalPriority,Wl=s.unstable_LowPriority,yo=s.unstable_IdlePriority,Oh=s.log,ps=s.unstable_setDisableYieldValue,nr=null,Qe=null;function Rn(e){if(typeof Oh=="function"&&ps(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(nr,e)}catch{}}var tn=Math.clz32?Math.clz32:tu,Vh=Math.log,_o=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Vh(e)/_o|0)|0}var gs=256,Zn=262144,ir=4194304;function Bn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function In(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Bn(o):(g&=E,g!==0?h=Bn(g):r||(r=E&~e,r!==0&&(h=Bn(r))))):(E=o&~f,E!==0?h=Bn(E):g!==0?h=Bn(g):r||(r=o&~e,r!==0&&(h=Bn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function rr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function sa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var e=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),e}function Ti(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var H=31-tn(r),Y=1<<H;E[H]=0,I[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}r&=~Y}o!==0&&Eo(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Eo(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-tn(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function ar(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-tn(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function or(e,n){var r=n&-n;return r=(r&42)!==0?1:To(r),(r&(e.suspendedLanes|n))!==0?0:r}function To(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ao(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ai(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function eu(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var Jn=Math.random().toString(36).slice(2),ae="__reactFiber$"+Jn,Pe="__reactProps$"+Jn,$n="__reactContainer$"+Jn,lr="__reactEvents$"+Jn,Wn="__reactListeners$"+Jn,nu="__reactHandles$"+Jn,So="__reactResources$"+Jn,Si="__reactMarker$"+Jn;function ys(e){delete e[ae],delete e[Pe],delete e[lr],delete e[Wn],delete e[nu]}function bi(e){var n=e[ae];if(n)return n;for(var r=e.parentNode;r;){if(n=r[$n]||r[ae]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=o_(e);e!==null;){if(r=e[ae])return r;e=o_(e)}return n}e=r,r=e.parentNode}return null}function wi(e){if(e=e[ae]||e[$n]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _s(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function qn(e){var n=e[So];return n||(n=e[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(e){e[Si]=!0}var aa=new Set,ur={};function en(e,n){ti(e,n),ti(e+"Capture",n)}function ti(e,n){for(ur[e]=n,e=0;e<n.length;e++)aa.add(n[e])}var Mh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},wo={};function iu(e){return ia.call(wo,e)?!0:ia.call(bo,e)?!1:Mh.test(e)?wo[e]=!0:(bo[e]=!0,!1)}function cr(e,n,r){if(iu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hr(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Cn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ru(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xh(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function oa(e){if(!e._valueTracker){var n=ru(e)?"checked":"value";e._valueTracker=xh(e,n,""+e[n])}}function Ro(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ru(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function la(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ri=/[\n"\\]/g;function oe(e){return e.replace(Ri,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fr(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+nn(n)):e.value!==""+nn(n)&&(e.value=""+nn(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?ua(e,g,nn(n)):r!=null?ua(e,g,nn(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+nn(E):e.removeAttribute("name")}function vs(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){oa(e);return}r=r!=null?""+nn(r):"",n=n!=null?""+nn(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),oa(e)}function ua(e,n,r){n==="number"&&la(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Pt(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+nn(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Es(e,n,r){if(n!=null&&(n=""+nn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+nn(r):""}function dr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(xe(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=nn(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),oa(e)}function Nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Uh.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function su(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function Co(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(e){return Lh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ce(){}var ca=null;function ha(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,gn=null;function au(e){var n=wi(e);if(n&&(e=n.stateNode)){var r=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(fr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+oe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(a(90));fr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Ro(o)}break t;case"textarea":Es(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Pt(e,!!r.multiple,n,!1)}}}var No=!1;function ou(e,n,r){if(No)return e(n,r);No=!0;try{var o=e(n);return o}finally{if(No=!1,(Ii!==null||gn!==null)&&(ic(),Ii&&(n=Ii,e=gn,gn=Ii=null,au(n),e)))for(n=0;n<e.length;n++)au(e[n])}}function on(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Pe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Do=!1;if(Hn)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Do=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Do=!1}var yn=null,fa=null,ii=null;function mr(){if(ii)return ii;var e,n=fa,r=n.length,o,h="value"in yn?yn.value:yn.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return ii=h.slice(e,1<o?1-o:void 0)}function Ts(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function pr(){return!0}function $t(){return!1}function Ke(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?pr:$t,this.isPropagationStopped=$t,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),n}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=Ke(Ci),gr=b({},Ci,{view:0,detail:0}),lu=Ke(gr),yr,da,rn,Ss=b({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rn&&(rn&&e.type==="mousemove"?(yr=e.screenX-rn.screenX,da=e.screenY-rn.screenY):da=yr=0,rn=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:da}}),uu=Ke(Ss),bs=b({},Ss,{dataTransfer:0}),cu=Ke(bs),Oo=b({},gr,{relatedTarget:0}),_r=Ke(Oo),hu=b({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=Ke(hu),Ph=b({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fu=Ke(Ph),ws=b({},Ci,{data:0}),Vo=Ke(ws),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=xo[e])?!!n[e]:!1}function vr(){return mu}var pu=b({},gr,{key:function(e){if(e.key){var n=du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=Ke(pu),Ni=b({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uo=Ke(Ni),yu=b({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),_u=Ke(yu),vu=b({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),pa=Ke(vu),sn=b({},Ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Eu=Ke(sn),Tu=b({},Ci,{newState:0,oldState:0}),Er=Ke(Tu),u=[9,13,27,32],m=Hn&&"CompositionEvent"in window,_=null;Hn&&"documentMode"in document&&(_=document.documentMode);var T=Hn&&"TextEvent"in window&&!_,k=Hn&&(!m||_&&8<_&&11>=_),B=" ",tt=!1;function Ft(e,n){switch(e){case"keyup":return u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wt=!1;function Ne(e,n){switch(e){case"compositionend":return me(n);case"keypress":return n.which!==32?null:(tt=!0,B);case"textInput":return e=n.data,e===B&&tt?null:e;default:return null}}function De(e,n){if(wt)return e==="compositionend"||!m&&Ft(e,n)?(e=mr(),ii=fa=yn=null,wt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return k&&n.locale!=="ko"?null:n.data;default:return null}}var Tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ln(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Tr[e.type]:n==="textarea"}function Rs(e,n,r,o){Ii?gn?gn.push(o):gn=[o]:Ii=o,n=cc(n,"onChange"),0<n.length&&(r=new As("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Di=null,ko=null;function jT(e){Ky(e,0)}function Au(e){var n=_s(e);if(Ro(n))return e}function fp(e,n){if(e==="change")return n}var dp=!1;if(Hn){var zh;if(Hn){var jh="oninput"in document;if(!jh){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),jh=typeof mp.oninput=="function"}zh=jh}else zh=!1;dp=zh&&(!document.documentMode||9<document.documentMode)}function pp(){Di&&(Di.detachEvent("onpropertychange",gp),ko=Di=null)}function gp(e){if(e.propertyName==="value"&&Au(ko)){var n=[];Rs(n,ko,e,ha(e)),ou(jT,n)}}function BT(e,n,r){e==="focusin"?(pp(),Di=n,ko=r,Di.attachEvent("onpropertychange",gp)):e==="focusout"&&pp()}function qT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(ko)}function HT(e,n){if(e==="click")return Au(n)}function FT(e,n){if(e==="input"||e==="change")return Au(n)}function GT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:GT;function Lo(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ia.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _p(e,n){var r=yp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=yp(r)}}function vp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ep(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=la(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=la(e.document)}return n}function Bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var QT=Hn&&"documentMode"in document&&11>=document.documentMode,ga=null,qh=null,Po=null,Hh=!1;function Tp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hh||ga==null||ga!==la(o)||(o=ga,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Lo(Po,o)||(Po=o,o=cc(qh,"onSelect"),0<o.length&&(n=new As("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ga)))}function Is(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ya={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Fh={},Ap={};Hn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Cs(e){if(Fh[e])return Fh[e];if(!ya[e])return e;var n=ya[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ap)return Fh[e]=n[r];return e}var Sp=Cs("animationend"),bp=Cs("animationiteration"),wp=Cs("animationstart"),KT=Cs("transitionrun"),YT=Cs("transitionstart"),XT=Cs("transitioncancel"),Rp=Cs("transitionend"),Ip=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Fn(e,n){Ip.set(e,n),en(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],_a=0,Qh=0;function bu(){for(var e=_a,n=Qh=_a=0;n<e;){var r=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Cp(r,h,f)}}function wu(e,n,r,o){Dn[_a++]=e,Dn[_a++]=n,Dn[_a++]=r,Dn[_a++]=o,Qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,n,r,o){return wu(e,n,r,o),Ru(e)}function Ns(e,n){return wu(e,null,null,n),Ru(e)}function Cp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-tn(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Ru(e){if(50<al)throw al=0,id=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function ZT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,r,o){return new ZT(e,n,r,o)}function Yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var r=e.alternate;return r===null?(r=vn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Np(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Yh(e)&&(g=1);else if(typeof e=="string")g=eA(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case S:return e=vn(31,r,n,h),e.elementType=S,e.lanes=f,e;case et:return Ds(r.children,h,f,n);case Z:g=8,h|=24;break;case lt:return e=vn(12,r,n,h|2),e.elementType=lt,e.lanes=f,e;case qt:return e=vn(13,r,n,h),e.elementType=qt,e.lanes=f,e;case It:return e=vn(19,r,n,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:g=10;break t;case ct:g=9;break t;case vt:g=11;break t;case D:g=14;break t;case w:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=vn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ds(e,n,r,o){return e=vn(7,e,o,n),e.lanes=r,e}function Xh(e,n,r){return e=vn(6,e,null,n),e.lanes=r,e}function Dp(e){var n=vn(18,null,null,0);return n.stateNode=e,n}function Zh(e,n,r){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Op=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var r=Op.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Jl(n)},Op.set(e,n),n)}return{value:e,source:n,stack:Jl(n)}}var Ea=[],Ta=0,Cu=null,zo=0,Vn=[],Mn=0,Ar=null,ri=1,si="";function Vi(e,n){Ea[Ta++]=zo,Ea[Ta++]=Cu,Cu=e,zo=n}function Vp(e,n,r){Vn[Mn++]=ri,Vn[Mn++]=si,Vn[Mn++]=Ar,Ar=e;var o=ri;e=si;var h=32-tn(o)-1;o&=~(1<<h),r+=1;var f=32-tn(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,ri=1<<32-tn(n)+h|r<<h|o,si=f+e}else ri=1<<f|r<<h|o,si=e}function Jh(e){e.return!==null&&(Vi(e,1),Vp(e,1,0))}function $h(e){for(;e===Cu;)Cu=Ea[--Ta],Ea[Ta]=null,zo=Ea[--Ta],Ea[Ta]=null;for(;e===Ar;)Ar=Vn[--Mn],Vn[Mn]=null,si=Vn[--Mn],Vn[Mn]=null,ri=Vn[--Mn],Vn[Mn]=null}function Mp(e,n){Vn[Mn++]=ri,Vn[Mn++]=si,Vn[Mn++]=Ar,ri=n.id,si=n.overflow,Ar=e}var ze=null,Wt=null,Ut=!1,Sr=null,xn=!1,Wh=Error(a(519));function br(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(On(n,e)),Wh}function xp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ae]=e,n[Pe]=o,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<ll.length;r++)Nt(ll[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),vs(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),dr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Jy(n.textContent,r)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Ce),n=!0):n=!1,n||br(e,!0)}function Up(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:ze=ze.return}}function Aa(e){if(e!==ze)return!1;if(!Ut)return Up(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||_d(e.type,e.memoizedProps)),r=!r),r&&Wt&&br(e),Up(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=a_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=a_(e)}else n===27?(n=Wt,Pr(e.type)?(e=Sd,Sd=null,Wt=e):Wt=n):Wt=ze?kn(e.stateNode.nextSibling):null;return!0}function Os(){Wt=ze=null,Ut=!1}function tf(){var e=Sr;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Sr=null),e}function jo(e){Sr===null?Sr=[e]:Sr.push(e)}var ef=M(null),Vs=null,Mi=null;function wr(e,n,r){W(ef,n._currentValue),n._currentValue=r}function xi(e){e._currentValue=ef.current,Q(ef)}function nf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function rf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),nf(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),nf(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Sa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;_n(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}h=h.return}e!==null&&rf(n,e,r,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Vs=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return kp(Vs,e)}function Du(e,n){return Vs===null&&Ms(e),kp(e,n)}function kp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Mi===null){if(e===null)throw Error(a(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return r}var JT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},$T=s.unstable_scheduleCallback,WT=s.unstable_NormalPriority,pe={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new JT,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&$T(WT,function(){e.controller.abort()})}var qo=null,af=0,ba=0,wa=null;function t1(e,n){if(qo===null){var r=qo=[];af=0,ba=ud(),wa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return af++,n.then(Lp,Lp),n}function Lp(){if(--af===0&&qo!==null){wa!==null&&(wa.status="fulfilled");var e=qo;qo=null,ba=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function e1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Pp=F.S;F.S=function(e,n){Ty=ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&t1(e,n),Pp!==null&&Pp(e,n)};var xs=M(null);function of(){var e=xs.current;return e!==null?e:Jt.pooledCache}function Ou(e,n){n===null?W(xs,xs.current):W(xs,n.pool)}function zp(){var e=of();return e===null?null:{parent:pe._currentValue,pool:e}}var Ra=Error(a(460)),lf=Error(a(474)),Vu=Error(a(542)),Mu={then:function(){}};function jp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Ce,Ce),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hp(e),e;default:if(typeof n.status=="string")n.then(Ce,Ce);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hp(e),e}throw ks=n,Ra}}function Us(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ks=r,Ra):r}}var ks=null;function qp(){if(ks===null)throw Error(a(459));var e=ks;return ks=null,e}function Hp(e){if(e===Ra||e===Vu)throw Error(a(483))}var Ia=null,Ho=0;function xu(e){var n=Ho;return Ho+=1,Ia===null&&(Ia=[]),Bp(Ia,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===N?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fp(e){function n(U,O){if(e){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function r(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Oi(U,O),U.index=0,U.sibling=null,U}function f(U,O,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=67108866,O):L):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,L,K){return O===null||O.tag!==6?(O=Xh(L,U.mode,K),O.return=U,O):(O=h(O,L),O.return=U,O)}function I(U,O,L,K){var ht=L.type;return ht===et?H(U,O,L.props.children,K,L.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Us(ht)===O.type)?(O=h(O,L.props),Fo(O,L),O.return=U,O):(O=Iu(L.type,L.key,L.props,null,U.mode,K),Fo(O,L),O.return=U,O)}function P(U,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Zh(L,U.mode,K),O.return=U,O):(O=h(O,L.children||[]),O.return=U,O)}function H(U,O,L,K,ht){return O===null||O.tag!==7?(O=Ds(L,U.mode,K,ht),O.return=U,O):(O=h(O,L),O.return=U,O)}function Y(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Xh(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return L=Iu(O.type,O.key,O.props,null,U.mode,L),Fo(L,O),L.return=U,L;case J:return O=Zh(O,U.mode,L),O.return=U,O;case w:return O=Us(O),Y(U,O,L)}if(xe(O)||x(O))return O=Ds(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return Y(U,xu(O),L);if(O.$$typeof===ut)return Y(U,Du(U,O),L);Uu(U,O)}return null}function z(U,O,L,K){var ht=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(U,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===ht?I(U,O,L,K):null;case J:return L.key===ht?P(U,O,L,K):null;case w:return L=Us(L),z(U,O,L,K)}if(xe(L)||x(L))return ht!==null?null:H(U,O,L,K,null);if(typeof L.then=="function")return z(U,O,xu(L),K);if(L.$$typeof===ut)return z(U,O,Du(U,L),K);Uu(U,L)}return null}function j(U,O,L,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(L)||null,E(O,U,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return U=U.get(K.key===null?L:K.key)||null,I(O,U,K,ht);case J:return U=U.get(K.key===null?L:K.key)||null,P(O,U,K,ht);case w:return K=Us(K),j(U,O,L,K,ht)}if(xe(K)||x(K))return U=U.get(L)||null,H(O,U,K,ht,null);if(typeof K.then=="function")return j(U,O,L,xu(K),ht);if(K.$$typeof===ut)return j(U,O,L,Du(O,K),ht);Uu(O,K)}return null}function rt(U,O,L,K){for(var ht=null,zt=null,at=O,St=O=0,Ot=null;at!==null&&St<L.length;St++){at.index>St?(Ot=at,at=null):Ot=at.sibling;var jt=z(U,at,L[St],K);if(jt===null){at===null&&(at=Ot);break}e&&at&&jt.alternate===null&&n(U,at),O=f(jt,O,St),zt===null?ht=jt:zt.sibling=jt,zt=jt,at=Ot}if(St===L.length)return r(U,at),Ut&&Vi(U,St),ht;if(at===null){for(;St<L.length;St++)at=Y(U,L[St],K),at!==null&&(O=f(at,O,St),zt===null?ht=at:zt.sibling=at,zt=at);return Ut&&Vi(U,St),ht}for(at=o(at);St<L.length;St++)Ot=j(at,U,St,L[St],K),Ot!==null&&(e&&Ot.alternate!==null&&at.delete(Ot.key===null?St:Ot.key),O=f(Ot,O,St),zt===null?ht=Ot:zt.sibling=Ot,zt=Ot);return e&&at.forEach(function(Hr){return n(U,Hr)}),Ut&&Vi(U,St),ht}function mt(U,O,L,K){if(L==null)throw Error(a(151));for(var ht=null,zt=null,at=O,St=O=0,Ot=null,jt=L.next();at!==null&&!jt.done;St++,jt=L.next()){at.index>St?(Ot=at,at=null):Ot=at.sibling;var Hr=z(U,at,jt.value,K);if(Hr===null){at===null&&(at=Ot);break}e&&at&&Hr.alternate===null&&n(U,at),O=f(Hr,O,St),zt===null?ht=Hr:zt.sibling=Hr,zt=Hr,at=Ot}if(jt.done)return r(U,at),Ut&&Vi(U,St),ht;if(at===null){for(;!jt.done;St++,jt=L.next())jt=Y(U,jt.value,K),jt!==null&&(O=f(jt,O,St),zt===null?ht=jt:zt.sibling=jt,zt=jt);return Ut&&Vi(U,St),ht}for(at=o(at);!jt.done;St++,jt=L.next())jt=j(at,U,St,jt.value,K),jt!==null&&(e&&jt.alternate!==null&&at.delete(jt.key===null?St:jt.key),O=f(jt,O,St),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&at.forEach(function(fA){return n(U,fA)}),Ut&&Vi(U,St),ht}function Zt(U,O,L,K){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:t:{for(var ht=L.key;O!==null;){if(O.key===ht){if(ht=L.type,ht===et){if(O.tag===7){r(U,O.sibling),K=h(O,L.props.children),K.return=U,U=K;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Us(ht)===O.type){r(U,O.sibling),K=h(O,L.props),Fo(K,L),K.return=U,U=K;break t}r(U,O);break}else n(U,O);O=O.sibling}L.type===et?(K=Ds(L.props.children,U.mode,K,L.key),K.return=U,U=K):(K=Iu(L.type,L.key,L.props,null,U.mode,K),Fo(K,L),K.return=U,U=K)}return g(U);case J:t:{for(ht=L.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(U,O.sibling),K=h(O,L.children||[]),K.return=U,U=K;break t}else{r(U,O);break}else n(U,O);O=O.sibling}K=Zh(L,U.mode,K),K.return=U,U=K}return g(U);case w:return L=Us(L),Zt(U,O,L,K)}if(xe(L))return rt(U,O,L,K);if(x(L)){if(ht=x(L),typeof ht!="function")throw Error(a(150));return L=ht.call(L),mt(U,O,L,K)}if(typeof L.then=="function")return Zt(U,O,xu(L),K);if(L.$$typeof===ut)return Zt(U,O,Du(U,L),K);Uu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(U,O.sibling),K=h(O,L),K.return=U,U=K):(r(U,O),K=Xh(L,U.mode,K),K.return=U,U=K),g(U)):r(U,O)}return function(U,O,L,K){try{Ho=0;var ht=Zt(U,O,L,K);return Ia=null,ht}catch(at){if(at===Ra||at===Vu)throw at;var zt=vn(29,at,null,U.mode);return zt.lanes=K,zt.return=U,zt}}}var Ls=Fp(!0),Gp=Fp(!1),Rr=!1;function uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Cp(e,null,r),n}return wu(e,o,n,r),Ru(e)}function Go(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ar(e,r)}}function hf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var ff=!1;function Qo(){if(ff){var e=wa;if(e!==null)throw e}}function Ko(e,n,r,o){ff=!1;var h=e.updateQueue;Rr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;g=0,H=P=I=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Dt&z)===z:(o&z)===z){z!==0&&z===ba&&(ff=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,mt=E;z=n;var Zt=r;switch(mt.tag){case 1:if(rt=mt.payload,typeof rt=="function"){Y=rt.call(Zt,Y,z);break t}Y=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=mt.payload,z=typeof rt=="function"?rt.call(Zt,Y,z):rt,z==null)break t;Y=b({},Y,z);break t;case 2:Rr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=j,I=Y):H=H.next=j,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);H===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Mr|=g,e.lanes=g,e.memoizedState=Y}}function Qp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Qp(r[e],n)}var Ca=M(null),ku=M(0);function Yp(e,n){e=Hi,W(ku,e),W(Ca,n),Hi=e|n.baseLanes}function df(){W(ku,Hi),W(Ca,Ca.current)}function mf(){Hi=ku.current,Q(Ca),Q(ku)}var En=M(null),Un=null;function Nr(e){var n=e.alternate;W(he,he.current&1),W(En,e),Un===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Un=e)}function pf(e){W(he,he.current),W(En,e),Un===null&&(Un=e)}function Xp(e){e.tag===22?(W(he,he.current),W(En,e),Un===null&&(Un=e)):Dr()}function Dr(){W(he,he.current),W(En,En.current)}function Tn(e){Q(En),Un===e&&(Un=null),Q(he)}var he=M(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,At=null,Yt=null,ge=null,Pu=!1,Na=!1,Ps=!1,zu=0,Yo=0,Da=null,n1=0;function le(){throw Error(a(321))}function gf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!_n(e[r],n[r]))return!1;return!0}function yf(e,n,r,o,h,f){return Ui=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Vg:Vf,Ps=!1,f=r(o,h),Ps=!1,Na&&(f=Jp(n,r,o,h)),Zp(e),f}function Zp(e){F.H=Jo;var n=Yt!==null&&Yt.next!==null;if(Ui=0,ge=Yt=At=null,Pu=!1,Yo=0,Da=null,n)throw Error(a(300));e===null||ye||(e=e.dependencies,e!==null&&Nu(e)&&(ye=!0))}function Jp(e,n,r,o){At=e;var h=0;do{if(Na&&(Da=null),Yo=0,Na=!1,25<=h)throw Error(a(301));if(h+=1,ge=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Mg,f=n(r,o)}while(Na);return f}function i1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Xo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),n}function _f(){var e=zu!==0;return zu=0,e}function vf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Ef(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}Ui=0,ge=Yt=At=null,Na=!1,Yo=zu=0,Da=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?At.memoizedState=ge=e:ge=ge.next=e,ge}function fe(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=ge===null?At.memoizedState:ge.next;if(n!==null)ge=n,Yt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?At.memoizedState=ge=e:ge=ge.next=e}return ge}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(e){var n=Yo;return Yo+=1,Da===null&&(Da=[]),e=Bp(Da,e,n),n=At,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Vg:Vf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===ut)return je(e)}throw Error(a(438,String(e)))}function Tf(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ju(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=C;return n.index++,r}function ki(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=fe();return Af(n,Yt,e)}function Af(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Dt&Y)===Y:(Ui&Y)===Y){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===ba&&(H=!0);else if((Ui&z)===z){P=P.next,z===ba&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Y,g=f):I=I.next=Y,At.lanes|=z,Mr|=z;Y=P.action,Ps&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,At.lanes|=Y,Mr|=Y;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!_n(f,e.memoizedState)&&(ye=!0,H&&(r=wa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Sf(e){var n=fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);_n(f,n.memoizedState)||(ye=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function $p(e,n,r){var o=At,h=fe(),f=Ut;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!_n((Yt||h).memoizedState,r);if(g&&(h.memoizedState=r,ye=!0),h=h.queue,Rf(eg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},tg.bind(null,o,h,r,n),null),Jt===null)throw Error(a(349));f||(Ui&127)!==0||Wp(o,n,r)}return r}function Wp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=ju(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function tg(e,n,r,o){n.value=r,n.getSnapshot=o,ng(n)&&ig(e)}function eg(e,n,r){return r(function(){ng(n)&&ig(e)})}function ng(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!_n(e,r)}catch{return!0}}function ig(e){var n=Ns(e,2);n!==null&&dn(n,e,2)}function bf(e){var n=an();if(typeof e=="function"){var r=e;if(e=r(),Ps){Rn(!0);try{r()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function rg(e,n,r,o){return e.baseState=r,Af(e,Yt,typeof o=="function"?o:ki)}function r1(e,n,r,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,sg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function sg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=r(h,o),I=F.S;I!==null&&I(g,E),ag(e,n,E)}catch(P){wf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=r(h,o),ag(e,n,f)}catch(P){wf(e,n,P)}}function ag(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){og(e,n,o)},function(o){return wf(e,n,o)}):og(e,n,r)}function og(e,n,r){n.status="fulfilled",n.value=r,lg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,sg(e,r)))}function wf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,lg(n),n=n.next;while(n!==o)}e.action=null}function lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ug(e,n){return n}function cg(e,n){if(Ut){var r=Jt.formState;if(r!==null){t:{var o=At;if(Ut){if(Wt){e:{for(var h=Wt,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=kn(h.nextSibling),o=h.data==="F!";break t}}br(o)}o=!1}o&&(n=r[0])}}return r=an(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:n},r.queue=o,r=Ng.bind(null,At,o),o.dispatch=r,o=bf(!1),f=Of.bind(null,At,!1,o.queue),o=an(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=r1.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function hg(e){var n=fe();return fg(n,Yt,e)}function fg(e,n,r){if(n=Af(e,n,ug)[0],e=qu(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Xo(n)}catch(g){throw g===Ra?Vu:g}else o=n;n=fe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Oa(9,{destroy:void 0},s1.bind(null,h,r),null)),[o,f,e]}function s1(e,n){e.action=n}function dg(e){var n=fe(),r=Yt;if(r!==null)return fg(n,r,e);fe(),n=n.memoizedState,r=fe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Oa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=ju(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function mg(){return fe().memoizedState}function Hu(e,n,r,o){var h=an();At.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Fu(e,n,r,o){var h=fe();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&gf(o,Yt.memoizedState.deps)?h.memoizedState=Oa(n,f,r,o):(At.flags|=e,h.memoizedState=Oa(1|n,f,r,o))}function pg(e,n){Hu(8390656,8,e,n)}function Rf(e,n){Fu(2048,8,e,n)}function a1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=ju(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function gg(e){var n=fe().memoizedState;return a1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function yg(e,n){return Fu(4,2,e,n)}function _g(e,n){return Fu(4,4,e,n)}function vg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Eg(e,n,r){r=r!=null?r.concat([e]):null,Fu(4,4,vg.bind(null,n,e),r)}function If(){}function Tg(e,n){var r=fe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&gf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ag(e,n){var r=fe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&gf(n,o[1]))return o[0];if(o=e(),Ps){Rn(!0);try{e()}finally{Rn(!1)}}return r.memoizedState=[o,n],o}function Cf(e,n,r){return r===void 0||(Ui&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Sy(),At.lanes|=e,Mr|=e,r)}function Sg(e,n,r,o){return _n(r,n)?r:Ca.current!==null?(e=Cf(e,r,o),_n(e,n)||(ye=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(Dt&261930)===0?(ye=!0,e.memoizedState=r):(e=Sy(),At.lanes|=e,Mr|=e,n)}function bg(e,n,r,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Of(e,!1,n,r);try{var I=h(),P=F.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var H=e1(I,o);Zo(e,n,H,bn(e))}else Zo(e,n,o,bn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},bn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function o1(){}function Nf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=wg(e).queue;bg(e,h,n,ft,r===null?o1:function(){return Rg(e),r(o)})}function wg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Rg(e){var n=wg(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},bn())}function Df(){return je(dl)}function Ig(){return fe().memoizedState}function Cg(){return fe().memoizedState}function l1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=bn();e=Ir(r);var o=Cr(n,e,r);o!==null&&(dn(o,n,r),Go(o,n,r)),n={cache:sf()},e.payload=n;return}n=n.return}}function u1(e,n,r){var o=bn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Dg(n,r):(r=Kh(e,n,r,o),r!==null&&(dn(r,e,o),Og(r,n,o)))}function Ng(e,n,r){var o=bn();Zo(e,n,r,o)}function Zo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Dg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,_n(E,g))return wu(e,n,h,0),Jt===null&&bu(),!1}catch{}if(r=Kh(e,n,h,o),r!==null)return dn(r,e,o),Og(r,n,o),!0}return!1}function Of(e,n,r,o){if(o={lane:2,revertLane:ud(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=Kh(e,r,o,2),n!==null&&dn(n,e,2)}function Gu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Dg(e,n){Na=Pu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Og(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ar(e,r)}}var Jo={readContext:je,use:Bu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Jo.useEffectEvent=le;var Vg={readContext:je,use:Bu,useCallback:function(e,n){return an().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:pg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Hu(4194308,4,vg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var r=an();n=n===void 0?null:n;var o=e();if(Ps){Rn(!0);try{e()}finally{Rn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=an();if(r!==void 0){var h=r(n);if(Ps){Rn(!0);try{r(n)}finally{Rn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=u1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=an();return e={current:e},n.memoizedState=e},useState:function(e){e=bf(e);var n=e.queue,r=Ng.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:If,useDeferredValue:function(e,n){var r=an();return Cf(r,e,n)},useTransition:function(){var e=bf(!1);return e=bg.bind(null,At,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=an();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(Dt&127)!==0||Wp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,pg(eg.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},tg.bind(null,o,f,r,n),null),r},useId:function(){var e=an(),n=Jt.identifierPrefix;if(Ut){var r=si,o=ri;r=(o&~(1<<32-tn(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=n1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Df,useFormState:cg,useActionState:cg,useOptimistic:function(e){var n=an();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:Tf,useCacheRefresh:function(){return an().memoizedState=l1.bind(null,At)},useEffectEvent:function(e){var n=an(),r={impl:e};return n.memoizedState=r,function(){if((Bt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Vf={readContext:je,use:Bu,useCallback:Tg,useContext:je,useEffect:Rf,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Ag,useReducer:qu,useRef:mg,useState:function(){return qu(ki)},useDebugValue:If,useDeferredValue:function(e,n){var r=fe();return Sg(r,Yt.memoizedState,e,n)},useTransition:function(){var e=qu(ki)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:$p,useId:Ig,useHostTransitionStatus:Df,useFormState:hg,useActionState:hg,useOptimistic:function(e,n){var r=fe();return rg(r,Yt,e,n)},useMemoCache:Tf,useCacheRefresh:Cg};Vf.useEffectEvent=gg;var Mg={readContext:je,use:Bu,useCallback:Tg,useContext:je,useEffect:Rf,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Ag,useReducer:Sf,useRef:mg,useState:function(){return Sf(ki)},useDebugValue:If,useDeferredValue:function(e,n){var r=fe();return Yt===null?Cf(r,e,n):Sg(r,Yt.memoizedState,e,n)},useTransition:function(){var e=Sf(ki)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:$p,useId:Ig,useHostTransitionStatus:Df,useFormState:dg,useActionState:dg,useOptimistic:function(e,n){var r=fe();return Yt!==null?rg(r,Yt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Cg};Mg.useEffectEvent=gg;function Mf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=bn(),h=Ir(o);h.payload=n,r!=null&&(h.callback=r),n=Cr(e,h,o),n!==null&&(dn(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=bn(),h=Ir(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Cr(e,h,o),n!==null&&(dn(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=bn(),o=Ir(r);o.tag=2,n!=null&&(o.callback=n),n=Cr(e,o,r),n!==null&&(dn(n,e,r),Go(n,e,r))}};function xg(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Lo(r,o)||!Lo(h,f):!0}function Ug(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function zs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function kg(e){Su(e)}function Lg(e){console.error(e)}function Pg(e){Su(e)}function Qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function zg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(e,n,r){return r=Ir(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(e,n)},r}function jg(e){return e=Ir(e),e.tag=3,e}function Bg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){zg(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){zg(n,r,o),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function c1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Sa(n,r,h,!0),r=En.current,r!==null){switch(r.tag){case 31:case 13:return Un===null?rc():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Mu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ad(e,o,h)),!1;case 22:return r.flags|=65536,o===Mu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ad(e,o,h)),!1}throw Error(a(435,r.tag))}return ad(e,o,h),rc(),!1}if(Ut)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Wh&&(e=Error(a(422),{cause:o}),jo(On(e,r)))):(o!==Wh&&(n=Error(a(423),{cause:o}),jo(On(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,r),h=Uf(e.stateNode,o,h),hf(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=On(f,r),sl===null?sl=[f]:sl.push(f),ue!==4&&(ue=2),n===null)return!0;o=On(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Uf(r.stateNode,o,e),hf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xr===null||!xr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=jg(h),Bg(h,e,r,o),hf(r,h),!1}r=r.return}while(r!==null);return!1}var kf=Error(a(461)),ye=!1;function Be(e,n,r,o){n.child=e===null?Gp(n,null,r,o):Ls(n,e.child,r,o)}function qg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ms(n),o=yf(e,n,r,g,f,h),E=_f(),e!==null&&!ye?(vf(e,n,h),Li(e,n,h)):(Ut&&E&&Jh(n),n.flags|=1,Be(e,n,o,h),n.child)}function Hg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Fg(e,n,f,o,h)):(e=Iu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ff(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Lo,r(g,o)&&e.ref===n.ref)return Li(e,n,h)}return n.flags|=1,e=Oi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Fg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(ye=!1,n.pendingProps=o=f,Ff(e,h))(e.flags&131072)!==0&&(ye=!0);else return n.lanes=e.lanes,Li(e,n,h)}return Lf(e,n,r,o,h)}function Gg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Qg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Yp(n,f):df(),Xp(n);else return o=n.lanes=536870912,Qg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Ou(n,f.cachePool),Yp(n,f),Dr(),n.memoizedState=null):(e!==null&&Ou(n,null),df(),Dr());return Be(e,n,h,r),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qg(e,n,r,o,h){var f=of();return f=f===null?null:{parent:pe._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ou(n,null),df(),Xp(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kg(e,n,r){return Ls(n,e.child,null,r),e=Ku(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function h1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,$o(null,e);if(pf(n),(e=Wt)?(e=s_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ar!==null?{id:ri,overflow:si}:null,retryLane:536870912,hydrationErrors:null},r=Dp(e),r.return=n,n.child=r,ze=n,Wt=null)):e=null,e===null)throw br(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=Kg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ye||Sa(e,n,r,!1),h=(r&e.childLanes)!==0,ye||h){if(o=Jt,o!==null&&(g=or(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ns(e,g),dn(o,e,g),kf;rc(),n=Kg(e,n,r)}else e=f.treeContext,Wt=kn(g.nextSibling),ze=n,Ut=!0,Sr=null,xn=!1,e!==null&&Mp(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Lf(e,n,r,o,h){return Ms(n),r=yf(e,n,r,o,void 0,h),o=_f(),e!==null&&!ye?(vf(e,n,h),Li(e,n,h)):(Ut&&o&&Jh(n),n.flags|=1,Be(e,n,r,h),n.child)}function Yg(e,n,r,o,h,f){return Ms(n),n.updateQueue=null,r=Jp(n,o,r,h),Zp(e),o=_f(),e!==null&&!ye?(vf(e,n,f),Li(e,n,f)):(Ut&&o&&Jh(n),n.flags|=1,Be(e,n,r,f),n.child)}function Xg(e,n,r,o,h){if(Ms(n),n.stateNode===null){var f=va,g=r.contextType;typeof g=="object"&&g!==null&&(f=je(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},uf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?je(g):va,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Mf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&xf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=zs(r,E);f.props=I;var P=f.context,H=r.contextType;g=va,typeof H=="object"&&H!==null&&(g=je(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Ug(n,f,o,g),Rr=!1;var z=n.memoizedState;f.state=z,Ko(n,o,f,h),Qo(),P=n.memoizedState,E||z!==P||Rr?(typeof Y=="function"&&(Mf(n,r,Y,o),P=n.memoizedState),(I=Rr||xg(n,r,I,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,cf(e,n),g=n.memoizedProps,H=zs(r,g),f.props=H,Y=n.pendingProps,z=f.context,P=r.contextType,I=va,typeof P=="object"&&P!==null&&(I=je(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==I)&&Ug(n,f,o,I),Rr=!1,z=n.memoizedState,f.state=z,Ko(n,o,f,h),Qo();var j=n.memoizedState;g!==Y||z!==j||Rr||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(Mf(n,r,E,o),j=n.memoizedState),(H=Rr||xg(n,r,H,o,z,j,I)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=I,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ls(n,e.child,null,h),n.child=Ls(n,null,r,h)):Be(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Li(e,n,h),e}function Zg(e,n,r,o){return Os(),n.flags|=256,Be(e,n,r,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(e){return{baseLanes:e,cachePool:zp()}}function jf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Sn),e}function Jg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(he.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Nr(n):Dr(),(e=Wt)?(e=s_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ar!==null?{id:ri,overflow:si}:null,retryLane:536870912,hydrationErrors:null},r=Dp(e),r.return=n,n.child=r,ze=n,Wt=null)):e=null,e===null)throw br(n);return Ad(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Dr(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=Ds(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=zf(r),o.childLanes=jf(e,g,r),n.memoizedState=Pf,$o(null,o)):(Nr(n),Bf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Nr(n),n.flags&=-257,n=qf(e,n,r)):n.memoizedState!==null?(Dr(),n.child=e.child,n.flags|=128,n=null):(Dr(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=Ds(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ls(n,e.child,null,r),o=n.child,o.memoizedState=zf(r),o.childLanes=jf(e,g,r),n.memoizedState=Pf,n=$o(null,o));else if(Nr(n),Ad(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,jo({value:o,source:null,stack:null}),n=qf(e,n,r)}else if(ye||Sa(e,n,r,!1),g=(r&e.childLanes)!==0,ye||g){if(g=Jt,g!==null&&(o=or(g,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ns(e,o),dn(g,e,o),kf;Td(E)||rc(),n=qf(e,n,r)}else Td(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,Wt=kn(E.nextSibling),ze=n,Ut=!0,Sr=null,xn=!1,e!==null&&Mp(n,e),n=Bf(n,o.children),n.flags|=4096);return n}return h?(Dr(),E=o.fallback,h=n.mode,I=e.child,P=I.sibling,o=Oi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Oi(P,E):(E=Ds(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=zf(r):(h=E.cachePool,h!==null?(I=pe._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=zp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=jf(e,g,r),n.memoizedState=Pf,$o(e.child,o)):(Nr(n),r=e.child,e=r.sibling,r=Oi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Bf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=vn(22,e,null,n),e.lanes=0,e}function qf(e,n,r){return Ls(n,e.child,null,r),e=Bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $g(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),nf(e.return,n,r)}function Hf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Wg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,W(he,g),Be(e,n,o,r),o=Ut?zo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$g(e,r,n);else if(e.tag===19)$g(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Lu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Hf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Hf(n,!0,r,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Li(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Mr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Sa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Oi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Oi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function f1(e,n,r){switch(n.tag){case 3:Ue(n,n.stateNode.containerInfo),wr(n,pe,e.memoizedState.cache),Os();break;case 27:case 5:Xn(n);break;case 4:Ue(n,n.stateNode.containerInfo);break;case 10:wr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Nr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Jg(e,n,r):(Nr(n),e=Li(e,n,r),e!==null?e.sibling:null);Nr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Sa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Wg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(he,he.current),o)break;return null;case 22:return n.lanes=0,Gg(e,n,r,n.pendingProps);case 24:wr(n,pe,e.memoizedState.cache)}return Li(e,n,r)}function ty(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ye=!0;else{if(!Ff(e,r)&&(n.flags&128)===0)return ye=!1,f1(e,n,r);ye=(e.flags&131072)!==0}else ye=!1,Ut&&(n.flags&1048576)!==0&&Vp(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Us(n.elementType),n.type=e,typeof e=="function")Yh(e)?(o=zs(e,o),n.tag=1,n=Xg(null,n,e,o,r)):(n.tag=0,n=Lf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===vt){n.tag=11,n=qg(null,n,e,o,r);break t}else if(h===D){n.tag=14,n=Hg(null,n,e,o,r);break t}}throw n=Ae(e)||e,Error(a(306,n,""))}}return n;case 0:return Lf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=zs(o,n.pendingProps),Xg(e,n,o,h,r);case 3:t:{if(Ue(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,cf(e,n),Ko(n,o,null,r);var g=n.memoizedState;if(o=g.cache,wr(n,pe,o),o!==f.cache&&rf(n,[pe],r,!0),Qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zg(e,n,o,r);break t}else if(o!==h){h=On(Error(a(424)),n),jo(h),n=Zg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Wt=kn(e.firstChild),ze=n,Ut=!0,Sr=null,xn=!0,r=Gp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Os(),o===h){n=Li(e,n,r);break t}Be(e,n,o,r)}n=n.child}return n;case 26:return Yu(e,n),e===null?(r=h_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=hc(bt.current).createElement(r),o[ae]=n,o[Pe]=e,qe(o,r,e),ce(o),n.stateNode=o):n.memoizedState=h_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Xn(n),e===null&&Ut&&(o=n.stateNode=l_(n.type,n.pendingProps,bt.current),ze=n,xn=!0,h=Wt,Pr(n.type)?(Sd=h,Wt=kn(o.firstChild)):Wt=h),Be(e,n,n.pendingProps.children,r),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=Wt)&&(o=q1(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,ze=n,Wt=kn(o.firstChild),xn=!1,h=!0):h=!1),h||br(n)),Xn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,_d(h,f)?o=null:g!==null&&_d(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(e,n,i1,null,null,r),dl._currentValue=h),Yu(e,n),Be(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=Wt)&&(r=H1(r,n.pendingProps,xn),r!==null?(n.stateNode=r,ze=n,Wt=null,e=!0):e=!1),e||br(n)),null;case 13:return Jg(e,n,r);case 4:return Ue(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ls(n,null,o,r):Be(e,n,o,r),n.child;case 11:return qg(e,n,n.type,n.pendingProps,r);case 7:return Be(e,n,n.pendingProps,r),n.child;case 8:return Be(e,n,n.pendingProps.children,r),n.child;case 12:return Be(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,wr(n,n.type,o.value),Be(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ms(n),h=je(h),o=o(h),n.flags|=1,Be(e,n,o,r),n.child;case 14:return Hg(e,n,n.type,n.pendingProps,r);case 15:return Fg(e,n,n.type,n.pendingProps,r);case 19:return Wg(e,n,r);case 31:return h1(e,n,r);case 22:return Gg(e,n,r,n.pendingProps);case 24:return Ms(n),o=je(pe),e===null?(h=of(),h===null&&(h=Jt,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},uf(n),wr(n,pe,h)):((e.lanes&r)!==0&&(cf(e,n),Ko(n,null,null,r),Qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),wr(n,pe,o)):(o=f.cache,wr(n,pe,o),o!==h.cache&&rf(n,[pe],r,!0))),Be(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(e){e.flags|=4}function Gf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw ks=Mu,lf}else e.flags&=-16777217}function ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g_(n))if(Iy())e.flags|=8192;else throw ks=Mu,lf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?vo():536870912,e.lanes|=n,Ua|=n)}function Wo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function d1(e,n,r){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xi(pe),ie(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(te(n),ey(n,f)):(te(n),Gf(n,h,null,o,r))):f?f!==e.memoizedState?(Pi(n),te(n),ey(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pi(n),te(n),Gf(n,h,e,o,r)),null;case 27:if(vi(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}e=st.current,Aa(n)?xp(n):(e=l_(h,o,r),n.stateNode=e,Pi(n))}return te(n),null;case 5:if(vi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(f=st.current,Aa(n))xp(n);else{var g=hc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ae]=n,f[Pe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Pi(n)}}return te(n),Gf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,Aa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ae]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Jy(e.nodeValue,r)),e||br(n,!0)}else e=hc(e).createTextNode(o),e[ae]=n,n.stateNode=e}return te(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ae]=n}else Os(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else r=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ae]=n}else Os(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),te(n),null);case 4:return ie(),e===null&&dd(n.stateNode.containerInfo),te(n),null;case 10:return xi(n.type),te(n),null;case 19:if(Q(he),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Wo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Wo(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Np(r,e),r=r.sibling;return W(he,he.current&1|2),Ut&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ke()>ec&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return te(n),null}else 2*ke()-o.renderingStartTime>ec&&r!==536870912&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ke(),e.sibling=null,r=he.current,W(he,h?r&1|2:r&1),Ut&&Vi(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return Tn(n),mf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(xs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xi(pe),te(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function m1(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xi(pe),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return vi(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(a(340));Os()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Os()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(he),null;case 4:return ie(),null;case 10:return xi(n.type),null;case 22:case 23:return Tn(n),mf(),e!==null&&Q(xs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xi(pe),null;case 25:return null;default:return null}}function ny(e,n){switch($h(n),n.tag){case 3:xi(pe),ie();break;case 26:case 27:case 5:vi(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:Q(he);break;case 10:xi(n.type);break;case 22:case 23:Tn(n),mf(),e!==null&&Q(xs);break;case 24:xi(pe)}}function tl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Kt(n,n.return,E)}}function Or(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,P=E;try{P()}catch(H){Kt(h,I,H)}}}o=o.next}while(o!==f)}}catch(H){Kt(n,n.return,H)}}function iy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Kp(n,r)}catch(o){Kt(e,e.return,o)}}}function ry(e,n,r){r.props=zs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Kt(e,n,o)}}function el(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Kt(e,n,h)}}function ai(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Kt(e,n,h)}else r.current=null}function sy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Kt(e,e.return,h)}}function Qf(e,n,r){try{var o=e.stateNode;k1(o,e.type,r,n),o[Pe]=n}catch(h){Kt(e,e.return,h)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ce));else if(o!==4&&(o===27&&Pr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Yf(e,n,r),e=e.sibling;e!==null;)Yf(e,n,r),e=e.sibling}function Ju(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Pr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ju(e,n,r),e=e.sibling;e!==null;)Ju(e,n,r),e=e.sibling}function oy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qe(n,o,r),n[ae]=e,n[Pe]=r}catch(f){Kt(e,e.return,f)}}var zi=!1,_e=!1,Xf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function p1(e,n){if(e=e.containerInfo,gd=_c,e=Ep(e),Bh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,I=-1,P=0,H=0,Y=e,z=null;e:for(;;){for(var j;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(I=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(j=Y.firstChild)!==null;)z=Y,Y=j;for(;;){if(Y===e)break e;if(z===r&&++P===h&&(E=g),z===f&&++H===o&&(I=g),(j=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=j}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(yd={focusedElem:e,selectionRange:r},_c=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var rt=zs(r.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Kt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Ed(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function uy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Bi(e,r),o&4&&tl(5,r);break;case 1:if(Bi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(r,r.return,g)}else{var h=zs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(r,r.return,g)}}o&64&&iy(r),o&512&&el(r,r.return);break;case 3:if(Bi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Kp(e,n)}catch(g){Kt(r,r.return,g)}}break;case 27:n===null&&o&4&&oy(r);case 26:case 5:Bi(e,r),n===null&&o&4&&sy(r),o&512&&el(r,r.return);break;case 12:Bi(e,r);break;case 31:Bi(e,r),o&4&&fy(e,r);break;case 13:Bi(e,r),o&4&&dy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=b1.bind(null,r),F1(e,r))));break;case 22:if(o=r.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||_e,h=zi;var f=_e;zi=o,(_e=n)&&!f?qi(e,r,(r.subtreeFlags&8772)!==0):Bi(e,r),zi=h,_e=f}break;case 30:break;default:Bi(e,r)}}function cy(e){var n=e.alternate;n!==null&&(e.alternate=null,cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ys(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,un=!1;function ji(e,n,r){for(r=r.child;r!==null;)hy(e,n,r),r=r.sibling}function hy(e,n,r){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(nr,r)}catch{}switch(r.tag){case 26:_e||ai(r,n),ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:_e||ai(r,n);var o=ne,h=un;Pr(r.type)&&(ne=r.stateNode,un=!1),ji(e,n,r),cl(r.stateNode),ne=o,un=h;break;case 5:_e||ai(r,n);case 6:if(o=ne,h=un,ne=null,ji(e,n,r),ne=o,un=h,ne!==null)if(un)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:ne!==null&&(un?(e=ne,i_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ha(e)):i_(ne,r.stateNode));break;case 4:o=ne,h=un,ne=r.stateNode.containerInfo,un=!0,ji(e,n,r),ne=o,un=h;break;case 0:case 11:case 14:case 15:Or(2,r,n),_e||Or(4,r,n),ji(e,n,r);break;case 1:_e||(ai(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ry(r,n,o)),ji(e,n,r);break;case 21:ji(e,n,r);break;case 22:_e=(o=_e)||r.memoizedState!==null,ji(e,n,r),_e=o;break;default:ji(e,n,r)}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(r){Kt(n,n.return,r)}}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(r){Kt(n,n.return,r)}}function g1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function $u(e,n){var r=g1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=w1.bind(null,e,o);o.then(h,h)}})}function cn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Pr(E.type)){ne=E.stateNode,un=!1;break t}break;case 5:ne=E.stateNode,un=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(ne===null)throw Error(a(160));hy(f,g,h),ne=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)my(n,e),n=n.sibling}var Gn=null;function my(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),o&4&&(Or(3,e,e.return),tl(3,e),Or(5,e,e.return));break;case 1:cn(n,e),hn(e),o&512&&(_e||r===null||ai(r,r.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Gn;if(cn(n,e),hn(e),o&512&&(_e||r===null||ai(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),qe(f,o,r),f[ae]=e,ce(f),o=f;break t;case"link":var g=m_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=m_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ae]=e,ce(f),o=f}e.stateNode=o}else p_(h,e.type,e.stateNode);else e.stateNode=d_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?p_(h,e.type,e.stateNode):d_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Qf(e,e.memoizedProps,r.memoizedProps)}break;case 27:cn(n,e),hn(e),o&512&&(_e||r===null||ai(r,r.return)),r!==null&&o&4&&Qf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,e),hn(e),o&512&&(_e||r===null||ai(r,r.return)),e.flags&32){h=e.stateNode;try{Nn(h,"")}catch(rt){Kt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Qf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Xf=!0);break;case 6:if(cn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(rt){Kt(e,e.return,rt)}}break;case 3:if(mc=null,h=Gn,Gn=fc(n.containerInfo),cn(n,e),Gn=h,hn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(rt){Kt(e,e.return,rt)}Xf&&(Xf=!1,py(e));break;case 4:o=Gn,Gn=fc(e.stateNode.containerInfo),cn(n,e),hn(e),Gn=o;break;case 12:cn(n,e),hn(e);break;case 31:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(tc=ke()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,P=zi,H=_e;if(zi=P||h,_e=H||I,cn(n,e),_e=H,zi=P,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||zi||_e||js(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Kt(I,I.return,rt)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(rt){Kt(I,I.return,rt)}}}else if(n.tag===18){if(r===null){I=n;try{var j=I.stateNode;h?r_(j,!0):r_(I.stateNode,!1)}catch(rt){Kt(I,I.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,$u(e,r))));break;case 19:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ay(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Kf(e);Ju(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Nn(g,""),r.flags&=-33);var E=Kf(e);Ju(e,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,P=Kf(e);Yf(e,P,I);break;default:throw Error(a(161))}}catch(H){Kt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Bi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(e,n.alternate,n),n=n.sibling}function js(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Or(4,n,n.return),js(n);break;case 1:ai(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ry(n,n.return,r),js(n);break;case 27:cl(n.stateNode);case 26:case 5:ai(n,n.return),js(n);break;case 22:n.memoizedState===null&&js(n);break;case 30:js(n);break;default:js(n)}e=e.sibling}}function qi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:qi(h,f,r),tl(4,f);break;case 1:if(qi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Qp(I[h],E)}catch(P){Kt(o,o.return,P)}}r&&g&64&&iy(f),el(f,f.return);break;case 27:oy(f);case 26:case 5:qi(h,f,r),r&&o===null&&g&4&&sy(f),el(f,f.return);break;case 12:qi(h,f,r);break;case 31:qi(h,f,r),r&&g&4&&fy(h,f);break;case 13:qi(h,f,r),r&&g&4&&dy(h,f);break;case 22:f.memoizedState===null&&qi(h,f,r),el(f,f.return);break;case 30:break;default:qi(h,f,r)}n=n.sibling}}function Zf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Bo(r))}function Jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e))}function Qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gy(e,n,r,o),n=n.sibling}function gy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,r,o),h&2048&&tl(9,n);break;case 1:Qn(e,n,r,o);break;case 3:Qn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e)));break;case 12:if(h&2048){Qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Kt(n,n.return,I)}}else Qn(e,n,r,o);break;case 31:Qn(e,n,r,o);break;case 13:Qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,r,o):nl(e,n):f._visibility&2?Qn(e,n,r,o):(f._visibility|=2,Va(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(g,n);break;case 24:Qn(e,n,r,o),h&2048&&Jf(n.alternate,n);break;default:Qn(e,n,r,o)}}function Va(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Va(f,g,E,I,h),tl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Va(f,g,E,I,h):nl(f,g):(H._visibility|=2,Va(f,g,E,I,h)),h&&P&2048&&Zf(g.alternate,g);break;case 24:Va(f,g,E,I,h),h&&P&2048&&Jf(g.alternate,g);break;default:Va(f,g,E,I,h)}n=n.sibling}}function nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:nl(r,o),h&2048&&Zf(o.alternate,o);break;case 24:nl(r,o),h&2048&&Jf(o.alternate,o);break;default:nl(r,o)}n=n.sibling}}var il=8192;function Ma(e,n,r){if(e.subtreeFlags&il)for(e=e.child;e!==null;)yy(e,n,r),e=e.sibling}function yy(e,n,r){switch(e.tag){case 26:Ma(e,n,r),e.flags&il&&e.memoizedState!==null&&nA(r,Gn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,r);break;case 3:case 4:var o=Gn;Gn=fc(e.stateNode.containerInfo),Ma(e,n,r),Gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=il,il=16777216,Ma(e,n,r),il=o):Ma(e,n,r));break;default:Ma(e,n,r)}}function _y(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Oe=o,Ey(o,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Or(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):rl(e);break;default:rl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Oe=o,Ey(o,e)}_y(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Or(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function Ey(e,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:Or(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Oe=o;else t:for(r=e;Oe!==null;){o=Oe;var h=o.sibling,f=o.return;if(cy(o),o===r){Oe=null;break t}if(h!==null){h.return=f,Oe=h;break t}Oe=f}}}var y1={getCacheForType:function(e){var n=je(pe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return je(pe).controller.signal}},_1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,Ct=null,Dt=0,Qt=0,An=null,Vr=!1,xa=!1,$f=!1,Hi=0,ue=0,Mr=0,Bs=0,Wf=0,Sn=0,Ua=0,sl=null,fn=null,td=!1,tc=0,Ty=0,ec=1/0,nc=null,xr=null,be=0,Ur=null,ka=null,Fi=0,ed=0,nd=null,Ay=null,al=0,id=null;function bn(){return(Bt&2)!==0&&Dt!==0?Dt&-Dt:F.T!==null?ud():Ai()}function Sy(){if(Sn===0)if((Dt&536870912)===0||Ut){var e=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),Sn=e}else Sn=536870912;return e=En.current,e!==null&&(e.flags|=32),Sn}function dn(e,n,r){(e===Jt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(La(e,0),kr(e,Dt,Sn,!1)),sr(e,r),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(Bs|=r),ue===4&&kr(e,Dt,Sn,!1)),oi(e))}function by(e,n,r){if((Bt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||rr(e,n),h=o?T1(e,n):sd(e,n,!0),f=o;do{if(h===0){xa&&!o&&kr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!v1(r)){h=sd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=sl;var I=E.current.memoizedState.isDehydrated;if(I&&(La(E,g).flags|=256),g=sd(E,g,!1),g!==2){if($f&&!I){E.errorRecoveryDisabledLanes|=f,Bs|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){La(e,0),kr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:kr(o,n,Sn,!Vr);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-ke(),10<h)){if(kr(o,n,Sn,!Vr),In(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=e_(wy.bind(null,o,r,fn,nc,td,n,Sn,Bs,Ua,Vr,f,"Throttled",-0,0),h);break t}wy(o,r,fn,nc,td,n,Sn,Bs,Ua,Vr,f,null,-0,0)}}break}while(!0);oi(e)}function wy(e,n,r,o,h,f,g,E,I,P,H,Y,z,j){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ce},yy(n,f,Y);var rt=(f&62914560)===f?tc-ke():(f&4194048)===f?Ty-ke():0;if(rt=iA(Y,rt),rt!==null){Fi=f,e.cancelPendingCommit=rt(My.bind(null,e,n,f,r,o,h,g,E,I,H,Y,null,z,j)),kr(e,f,g,!P);return}}My(e,n,f,r,o,h,g,E,I)}function v1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function kr(e,n,r,o){n&=~Wf,n&=~Bs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-tn(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Eo(e,r,n)}function ic(){return(Bt&6)===0?(ol(0),!1):!0}function rd(){if(Ct!==null){if(Qt===0)var e=Ct.return;else e=Ct,Mi=Vs=null,Ef(e),Ia=null,Ho=0,e=Ct;for(;e!==null;)ny(e.alternate,e),e=e.return;Ct=null}}function La(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,z1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Fi=0,rd(),Jt=e,Ct=r=Oi(e.current,null),Dt=n,Qt=0,An=null,Vr=!1,xa=rr(e,n),$f=!1,Ua=Sn=Wf=Bs=Mr=ue=0,fn=sl=null,td=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-tn(o),f=1<<h;n|=e[h],o&=~f}return Hi=n,bu(),r}function Ry(e,n){At=null,F.H=Jo,n===Ra||n===Vu?(n=qp(),Qt=3):n===lf?(n=qp(),Qt=4):Qt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Ct===null&&(ue=1,Qu(e,On(n,e.current)))}function Iy(){var e=En.current;return e===null?!0:(Dt&4194048)===Dt?Un===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Un:!1}function Cy(){var e=F.H;return F.H=Jo,e===null?Jo:e}function Ny(){var e=F.A;return F.A=y1,e}function rc(){ue=4,Vr||(Dt&4194048)!==Dt&&En.current!==null||(xa=!0),(Mr&134217727)===0&&(Bs&134217727)===0||Jt===null||kr(Jt,Dt,Sn,!1)}function sd(e,n,r){var o=Bt;Bt|=2;var h=Cy(),f=Ny();(Jt!==e||Dt!==n)&&(nc=null,La(e,n)),n=!1;var g=ue;t:do try{if(Qt!==0&&Ct!==null){var E=Ct,I=An;switch(Qt){case 8:rd(),g=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var P=Qt;if(Qt=0,An=null,Pa(e,E,I,P),r&&xa){g=0;break t}break;default:P=Qt,Qt=0,An=null,Pa(e,E,I,P)}}E1(),g=ue;break}catch(H){Ry(e,H)}while(!0);return n&&e.shellSuspendCounter++,Mi=Vs=null,Bt=o,F.H=h,F.A=f,Ct===null&&(Jt=null,Dt=0,bu()),g}function E1(){for(;Ct!==null;)Dy(Ct)}function T1(e,n){var r=Bt;Bt|=2;var o=Cy(),h=Ny();Jt!==e||Dt!==n?(nc=null,ec=ke()+500,La(e,n)):xa=rr(e,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var f=An;e:switch(Qt){case 1:Qt=0,An=null,Pa(e,n,f,1);break;case 2:case 9:if(jp(f)){Qt=0,An=null,Oy(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==e||(Qt=7),oi(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:jp(f)?(Qt=0,An=null,Oy(n)):(Qt=0,An=null,Pa(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?g_(g):E.stateNode.complete){Qt=0,An=null;var I=E.sibling;if(I!==null)Ct=I;else{var P=E.return;P!==null?(Ct=P,sc(P)):Ct=null}break e}}Qt=0,An=null,Pa(e,n,f,5);break;case 6:Qt=0,An=null,Pa(e,n,f,6);break;case 8:rd(),ue=6;break t;default:throw Error(a(462))}}A1();break}catch(H){Ry(e,H)}while(!0);return Mi=Vs=null,F.H=o,F.A=h,Bt=r,Ct!==null?0:(Jt=null,Dt=0,bu(),ue)}function A1(){for(;Ct!==null&&!Dh();)Dy(Ct)}function Dy(e){var n=ty(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,n===null?sc(e):Ct=n}function Oy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Yg(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Yg(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:Ef(n);default:ny(r,n),n=Ct=Np(n,Hi),n=ty(r,n,Hi)}e.memoizedProps=e.pendingProps,n===null?sc(e):Ct=n}function Pa(e,n,r,o){Mi=Vs=null,Ef(n),Ia=null,Ho=0;var h=n.return;try{if(c1(e,h,n,r,Dt)){ue=1,Qu(e,On(r,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ue=1,Qu(e,On(r,e.current)),Ct=null;return}n.flags&32768?(Ut||o===1?e=!0:xa||(Dt&536870912)!==0?e=!1:(Vr=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Vy(n,Vr);return}e=n.return;var r=d1(n.alternate,n,Hi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ue===0&&(ue=5)}function Vy(e,n){do{var r=m1(e.alternate,e);if(r!==null){r.flags&=32767,Ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=r}while(e!==null);ue=6,Ct=null}function My(e,n,r,o,h,f,g,E,I){e.cancelPendingCommit=null;do ac();while(be!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Qh,Le(e,r,f,g,E,I),e===Jt&&(Ct=Jt=null,Dt=0),ka=n,Ur=e,Fi=r,ed=f,nd=h,Ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,R1(Ei,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,g=Bt,Bt|=4;try{p1(e,n,r)}finally{Bt=g,nt.p=h,F.T=o}}be=1,xy(),Uy(),ky()}}function xy(){if(be===1){be=0;var e=Ur,n=ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{my(n,e);var f=yd,g=Ep(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&vp(E.ownerDocument.documentElement,E)){if(I!==null&&Bh(E)){var P=I.start,H=I.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var j=z.getSelection(),rt=E.textContent.length,mt=Math.min(I.start,rt),Zt=I.end===void 0?mt:Math.min(I.end,rt);!j.extend&&mt>Zt&&(g=Zt,Zt=mt,mt=g);var U=_p(E,mt),O=_p(E,Zt);if(U&&O&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(U.node,U.offset),j.removeAllRanges(),mt>Zt?(j.addRange(L),j.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),j.addRange(L))}}}}for(Y=[],j=E;j=j.parentNode;)j.nodeType===1&&Y.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}_c=!!gd,yd=gd=null}finally{Bt=h,nt.p=o,F.T=r}}e.current=n,be=2}}function Uy(){if(be===2){be=0;var e=Ur,n=ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{uy(e,n.alternate,n)}finally{Bt=h,nt.p=o,F.T=r}}be=3}}function ky(){if(be===4||be===3){be=0,go();var e=Ur,n=ka,r=Fi,o=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?be=5:(be=0,ka=Ur=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(xr=null),Ao(r),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(nr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(Fi&3)!==0&&ac(),oi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===id?al++:(al=0,id=e):al=0,ol(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bo(n)))}function ac(){return xy(),Uy(),ky(),Py()}function Py(){if(be!==5)return!1;var e=Ur,n=ed;ed=0;var r=Ao(Fi),o=F.T,h=nt.p;try{nt.p=32>r?32:r,F.T=null,r=nd,nd=null;var f=Ur,g=Fi;if(be=0,ka=Ur=null,Fi=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,vy(f.current),gy(f,f.current,g,r),Bt=E,ol(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(nr,f)}catch{}return!0}finally{nt.p=h,F.T=o,Ly(e,n)}}function zy(e,n,r){n=On(r,n),n=Uf(e.stateNode,n,2),e=Cr(e,n,2),e!==null&&(sr(e,2),oi(e))}function Kt(e,n,r){if(e.tag===3)zy(e,e,r);else for(;n!==null;){if(n.tag===3){zy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xr===null||!xr.has(o))){e=On(r,e),r=jg(2),o=Cr(n,r,2),o!==null&&(Bg(r,o,n,e),sr(o,2),oi(o));break}}n=n.return}}function ad(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new _1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||($f=!0,h.add(r),e=S1.bind(null,e,n,r),n.then(e,e))}function S1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Jt===e&&(Dt&r)===r&&(ue===4||ue===3&&(Dt&62914560)===Dt&&300>ke()-tc?(Bt&2)===0&&La(e,0):Wf|=r,Ua===Dt&&(Ua=0)),oi(e)}function jy(e,n){n===0&&(n=vo()),e=Ns(e,n),e!==null&&(sr(e,n),oi(e))}function b1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),jy(e,r)}function w1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),jy(e,r)}function R1(e,n){return ms(e,n)}var oc=null,za=null,od=!1,lc=!1,ld=!1,Lr=0;function oi(e){e!==za&&e.next===null&&(za===null?oc=za=e:za=za.next=e),lc=!0,od||(od=!0,C1())}function ol(e,n){if(!ld&&lc){ld=!0;do for(var r=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-tn(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Fy(o,f))}else f=Dt,f=In(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||rr(o,f)||(r=!0,Fy(o,f));o=o.next}while(r);ld=!1}}function I1(){By()}function By(){lc=od=!1;var e=0;Lr!==0&&P1()&&(e=Lr);for(var n=ke(),r=null,o=oc;o!==null;){var h=o.next,f=qy(o,n);f===0?(o.next=null,r===null?oc=h:r.next=h,h===null&&(za=r)):(r=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}be!==0&&be!==5||ol(e),Lr!==0&&(Lr=0)}function qy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-tn(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&o)!==0)&&(h[g]=sa(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,r=Dt,r=In(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ra(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||rr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ra(o),Ao(r)){case 2:case 8:r=Ie;break;case 32:r=Ei;break;case 268435456:r=yo;break;default:r=Ei}return o=Hy.bind(null,e),r=ms(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ra(o),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,n){if(be!==0&&be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ac()&&e.callbackNode!==r)return null;var o=Dt;return o=In(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(by(e,o,n),qy(e,ke()),e.callbackNode!=null&&e.callbackNode===r?Hy.bind(null,e):null)}function Fy(e,n){if(ac())return null;by(e,n,!0)}function C1(){j1(function(){(Bt&6)!==0?ms(Se,I1):By()})}function ud(){if(Lr===0){var e=ba;e===0&&(e=gs,gs<<=1,(gs&261888)===0&&(gs=256)),Lr=e}return Lr}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ei(""+e)}function Qy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function N1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Gy((h[Pe]||null).action),g=o.submitter;g&&(n=(n=g[Pe]||null)?Gy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new As("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Lr!==0){var I=g?Qy(h,g):new FormData(h);Nf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Qy(h,g):new FormData(h),Nf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var cd=0;cd<Gh.length;cd++){var hd=Gh[cd],D1=hd.toLowerCase(),O1=hd[0].toUpperCase()+hd.slice(1);Fn(D1,"on"+O1)}Fn(Sp,"onAnimationEnd"),Fn(bp,"onAnimationIteration"),Fn(wp,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(KT,"onTransitionRun"),Fn(YT,"onTransitionStart"),Fn(XT,"onTransitionCancel"),Fn(Rp,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function Ky(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Su(H)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Su(H)}h.currentTarget=null,f=I}}}}function Nt(e,n){var r=n[lr];r===void 0&&(r=n[lr]=new Set);var o=e+"__bubble";r.has(o)||(Yy(n,e,2,!1),r.add(o))}function fd(e,n,r){var o=0;n&&(o|=4),Yy(r,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[uc]){e[uc]=!0,aa.forEach(function(r){r!=="selectionchange"&&(V1.has(r)||fd(r,!1,e),fd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,fd("selectionchange",!1,n))}}function Yy(e,n,r,o){switch(S_(n)){case 2:var h=aA;break;case 8:h=oA;break;default:h=Cd}r=h.bind(null,n,r,e),h=void 0,!Do||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function md(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=bi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ou(function(){var P=f,H=ha(r),Y=[];t:{var z=Ip.get(e);if(z!==void 0){var j=As,rt=e;switch(e){case"keypress":if(Ts(r)===0)break t;case"keydown":case"keyup":j=gu;break;case"focusin":rt="focus",j=_r;break;case"focusout":rt="blur",j=_r;break;case"beforeblur":case"afterblur":j=_r;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=_u;break;case Sp:case bp:case wp:j=ma;break;case Rp:j=pa;break;case"scroll":case"scrollend":j=lu;break;case"wheel":j=Eu;break;case"copy":case"cut":case"paste":j=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Uo;break;case"toggle":case"beforetoggle":j=Er}var mt=(n&4)!==0,Zt=!mt&&(e==="scroll"||e==="scrollend"),U=mt?z!==null?z+"Capture":null:z;mt=[];for(var O=P,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||U===null||(K=on(O,U),K!=null&&mt.push(ul(O,K,L))),Zt)break;O=O.return}0<mt.length&&(z=new j(z,rt,null,r,H),Y.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&r!==ca&&(rt=r.relatedTarget||r.fromElement)&&(bi(rt)||rt[$n]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(rt=r.relatedTarget||r.toElement,j=P,rt=rt?bi(rt):null,rt!==null&&(Zt=c(rt),mt=rt.tag,rt!==Zt||mt!==5&&mt!==27&&mt!==6)&&(rt=null)):(j=null,rt=P),j!==rt)){if(mt=uu,K="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Uo,K="onPointerLeave",U="onPointerEnter",O="pointer"),Zt=j==null?z:_s(j),L=rt==null?z:_s(rt),z=new mt(K,O+"leave",j,r,H),z.target=Zt,z.relatedTarget=L,K=null,bi(H)===P&&(mt=new mt(U,O+"enter",rt,r,H),mt.target=L,mt.relatedTarget=Zt,K=mt),Zt=K,j&&rt)e:{for(mt=M1,U=j,O=rt,L=0,K=U;K;K=mt(K))L++;K=0;for(var ht=O;ht;ht=mt(ht))K++;for(;0<L-K;)U=mt(U),L--;for(;0<K-L;)O=mt(O),K--;for(;L--;){if(U===O||O!==null&&U===O.alternate){mt=U;break e}U=mt(U),O=mt(O)}mt=null}else mt=null;j!==null&&Xy(Y,z,j,mt,!1),rt!==null&&Zt!==null&&Xy(Y,Zt,rt,mt,!0)}}t:{if(z=P?_s(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var zt=fp;else if(ln(z))if(dp)zt=FT;else{zt=qT;var at=BT}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Co(P.elementType)&&(zt=fp):zt=HT;if(zt&&(zt=zt(e,P))){Rs(Y,zt,r,H);break t}at&&at(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&ua(z,"number",z.value)}switch(at=P?_s(P):window,e){case"focusin":(ln(at)||at.contentEditable==="true")&&(ga=at,qh=P,Po=null);break;case"focusout":Po=qh=ga=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Tp(Y,r,H);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":Tp(Y,r,H)}var St;if(m)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else wt?Ft(e,r)&&(Ot="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ot="onCompositionStart");Ot&&(k&&r.locale!=="ko"&&(wt||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&wt&&(St=mr()):(yn=H,fa="value"in yn?yn.value:yn.textContent,wt=!0)),at=cc(P,Ot),0<at.length&&(Ot=new Vo(Ot,e,null,r,H),Y.push({event:Ot,listeners:at}),St?Ot.data=St:(St=me(r),St!==null&&(Ot.data=St)))),(St=T?Ne(e,r):De(e,r))&&(Ot=cc(P,"onBeforeInput"),0<Ot.length&&(at=new Vo("onBeforeInput","beforeinput",null,r,H),Y.push({event:at,listeners:Ot}),at.data=St)),N1(Y,e,P,r,H)}Ky(Y,n)})}function ul(e,n,r){return{instance:e,listener:n,currentTarget:r}}function cc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=on(e,r),h!=null&&o.unshift(ul(e,h,f)),h=on(e,n),h!=null&&o.push(ul(e,h,f))),e.tag===3)return o;e=e.return}return[]}function M1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=on(r,f),P!=null&&g.unshift(ul(r,P,I))):h||(P=on(r,f),P!=null&&g.push(ul(r,P,I)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var x1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Zy(e){return(typeof e=="string"?e:""+e).replace(x1,`
`).replace(U1,"")}function Jy(e,n){return n=Zy(n),Zy(e)===n}function Xt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Nn(e,""+o);break;case"className":hr(e,"class",o);break;case"tabIndex":hr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(e,r,o);break;case"style":su(e,o,f);break;case"data":if(n!=="object"){hr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ei(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ei(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Ce);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ei(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),cr(e,"popover",o);break;case"xlinkActuate":Cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Cn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Cn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Cn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Cn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":cr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=kh.get(r)||r,cr(e,r,o))}}function pd(e,n,r,o,h,f){switch(r){case"style":su(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Nn(e,o):(typeof o=="number"||typeof o=="bigint")&&Nn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ce);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ur.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Pe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):cr(e,r,o)}}}function qe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,r,null)}}h&&Xt(e,n,"srcSet",r.srcSet,r,null),o&&Xt(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var E=f=g=h=null,I=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":I=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Xt(e,n,o,H,r,null)}}vs(e,f,E,I,P,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?Pt(e,!!o,n,!1):r!=null&&Pt(e,!!o,r,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,r,null)}dr(e,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Xt(e,n,I,o,r,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<ll.length;o++)Nt(ll[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,P,o,r,null)}return;default:if(Co(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&pd(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Xt(e,n,E,o,r,null))}function k1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,P=null,H=null;for(j in r){var Y=r[j];if(r.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(j)||Xt(e,n,j,null,o,Y)}}for(var z in o){var j=o[z];if(Y=r[z],o.hasOwnProperty(z)&&(j!=null||Y!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":P=j;break;case"defaultChecked":H=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==Y&&Xt(e,n,z,j,o,Y)}}fr(e,g,E,I,P,H,f,h);return;case"select":j=g=E=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":j=I;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Xt(e,n,h,f,o,I)}n=E,r=g,o=j,z!=null?Pt(e,!!r,z,!1):!!o!=!!r&&(n!=null?Pt(e,!!r,n,!0):Pt(e,!!r,r?[]:"",!1));return;case"textarea":j=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,g,h,o,f)}Es(e,z,j);return;case"option":for(var rt in r)z=r[rt],r.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Xt(e,n,rt,null,o,z));for(I in o)z=o[I],j=r[I],o.hasOwnProperty(I)&&z!==j&&(z!=null||j!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Xt(e,n,I,z,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)z=r[mt],r.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Xt(e,n,mt,null,o,z);for(P in o)if(z=o[P],j=r[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Xt(e,n,P,z,o,j)}return;default:if(Co(n)){for(var Zt in r)z=r[Zt],r.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&pd(e,n,Zt,void 0,o,z);for(H in o)z=o[H],j=r[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||pd(e,n,H,z,o,j);return}}for(var U in r)z=r[U],r.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Xt(e,n,U,null,o,z);for(Y in o)z=o[Y],j=r[Y],!o.hasOwnProperty(Y)||z===j||z==null&&j==null||Xt(e,n,Y,z,o,j)}function $y(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&$y(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],P=I.startTime;if(P>E)break;var H=I.transferSize,Y=I.initiatorType;H&&$y(Y)&&(I=I.responseEnd,g+=H*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gd=null,yd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function Wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function _d(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function P1(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,j1=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(e){return n_.resolve(null).then(e).catch(B1)}:e_;function B1(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function i_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")cl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,cl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&cl(e.ownerDocument.body);r=h}while(r);Ha(n)}function r_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Ed(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ed(r),ys(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function q1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function H1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=kn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function Td(e){return e.data==="$?"||e.data==="$~"}function Ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function F1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Sd=null;function a_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return kn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function o_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,r){switch(n=hc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ys(e)}var Ln=new Map,u_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gi=nt.d;nt.d={f:G1,r:Q1,D:K1,C:Y1,L:X1,m:Z1,X:$1,S:J1,M:W1};function G1(){var e=Gi.f(),n=ic();return e||n}function Q1(e){var n=wi(e);n!==null&&n.tag===5&&n.type==="form"?Rg(n):Gi.r(e)}var ja=typeof document>"u"?null:document;function c_(e,n,r){var o=ja;if(o&&typeof n=="string"&&n){var h=oe(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),u_.has(h)||(u_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),qe(n,"link",e),ce(n),o.head.appendChild(n)))}}function K1(e){Gi.D(e),c_("dns-prefetch",e,null)}function Y1(e,n){Gi.C(e,n),c_("preconnect",e,n)}function X1(e,n,r){Gi.L(e,n,r);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+oe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+oe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+oe(r.imageSizes)+'"]')):h+='[href="'+oe(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=qa(e)}Ln.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Ln.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(hl(f))||n==="script"&&o.querySelector(fl(f))||(n=o.createElement("link"),qe(n,"link",e),ce(n),o.head.appendChild(n)))}}function Z1(e,n){Gi.m(e,n);var r=ja;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+oe(o)+'"][href="'+oe(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Ln.has(f)&&(e=b({rel:"modulepreload",href:e},n),Ln.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(fl(f)))return}o=r.createElement("link"),qe(o,"link",e),ce(o),r.head.appendChild(o)}}}function J1(e,n,r){Gi.S(e,n,r);var o=ja;if(o&&e){var h=qn(o).hoistableStyles,f=Ba(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(hl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Ln.get(f))&&bd(e,r);var I=g=o.createElement("link");ce(I),qe(I,"link",e),I._p=new Promise(function(P,H){I.onload=P,I.onerror=H}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function $1(e,n){Gi.X(e,n);var r=ja;if(r&&e){var o=qn(r).hoistableScripts,h=qa(e),f=o.get(h);f||(f=r.querySelector(fl(h)),f||(e=b({src:e,async:!0},n),(n=Ln.get(h))&&wd(e,n),f=r.createElement("script"),ce(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function W1(e,n){Gi.M(e,n);var r=ja;if(r&&e){var o=qn(r).hoistableScripts,h=qa(e),f=o.get(h);f||(f=r.querySelector(fl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Ln.get(h))&&wd(e,n),f=r.createElement("script"),ce(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function h_(e,n,r,o){var h=(h=bt.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ba(r.href),r=qn(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ba(r.href);var f=qn(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(hl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Ln.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ln.set(e,r),f||tA(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(r),r=qn(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ba(e){return'href="'+oe(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function tA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",r),ce(n),e.head.appendChild(n))}function qa(e){return'[src="'+oe(e)+'"]'}function fl(e){return"script[async]"+e}function d_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+oe(r.href)+'"]');if(o)return n.instance=o,ce(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),qe(o,"style",h),dc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ba(r.href);var f=e.querySelector(hl(h));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;o=f_(r),(h=Ln.get(h))&&bd(o,h),f=(e.ownerDocument||e).createElement("link"),ce(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),qe(f,"link",o),n.state.loading|=4,dc(f,r.precedence,e),n.instance=f;case"script":return f=qa(r.src),(h=e.querySelector(fl(f)))?(n.instance=h,ce(h),h):(o=r,(h=Ln.get(f))&&(o=b({},r),wd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,r.precedence,e));return n.instance}function dc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function m_(e,n,r){if(mc===null){var o=new Map,h=mc=new Map;h.set(r,o)}else h=mc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[Si]||f[ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function p_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function eA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ba(o.href),f=n.querySelector(hl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ce(f);return}f=n.ownerDocument||n,o=f_(o),(h=Ln.get(h))&&bd(o,h),f=f.createElement("link"),ce(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),qe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=pc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Rd=0;function iA(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Rd===0&&(Rd=62500*L1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Rd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(rA,e),gc=null,pc.call(e))}function rA(e,n){if(!(n.state.loading&4)){var r=gc.get(e);if(r)var o=r.get(null);else{r=new Map,gc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var dl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function sA(e,n,r,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function y_(e,n,r,o,h,f,g,E,I,P,H,Y){return e=new sA(e,n,r,g,I,P,H,Y,E),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),e.current=f,f.stateNode=e,n=sf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},uf(f),e}function __(e){return e?(e=va,e):va}function v_(e,n,r,o,h,f){h=__(h),o.context===null?o.context=h:o.pendingContext=h,o=Ir(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Cr(e,o,n),r!==null&&(dn(r,e,n),Go(r,e,n))}function E_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Id(e,n){E_(e,n),(e=e.alternate)&&E_(e,n)}function T_(e){if(e.tag===13||e.tag===31){var n=Ns(e,67108864);n!==null&&dn(n,e,67108864),Id(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=bn();n=To(n);var r=Ns(e,n);r!==null&&dn(r,e,n),Id(e,n)}}var _c=!0;function aA(e,n,r,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,Cd(e,n,r,o)}finally{nt.p=f,F.T=h}}function oA(e,n,r,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,Cd(e,n,r,o)}finally{nt.p=f,F.T=h}}function Cd(e,n,r,o){if(_c){var h=Nd(o);if(h===null)md(e,n,o,vc,r),b_(e,o);else if(uA(h,e,n,r,o))o.stopPropagation();else if(b_(e,o),n&4&&-1<lA.indexOf(e)){for(;h!==null;){var f=wi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Bn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-tn(g);E.entanglements[1]|=I,g&=~I}oi(f),(Bt&6)===0&&(ec=ke()+500,ol(0))}}break;case 31:case 13:E=Ns(f,2),E!==null&&dn(E,f,2),ic(),Id(f,2)}if(f=Nd(o),f===null&&md(e,n,o,vc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else md(e,n,o,null,r)}}function Nd(e){return e=ha(e),Dd(e)}var vc=null;function Dd(e){if(vc=null,e=bi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case Se:return 2;case Ie:return 8;case Ei:case Wl:return 32;case yo:return 268435456;default:return 32}default:return 32}}var Od=!1,zr=null,jr=null,Br=null,ml=new Map,pl=new Map,qr=[],lA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(e,n){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function gl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wi(n),n!==null&&T_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function uA(e,n,r,o,h){switch(n){case"focusin":return zr=gl(zr,e,n,r,o,h),!0;case"dragenter":return jr=gl(jr,e,n,r,o,h),!0;case"mouseover":return Br=gl(Br,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ml.set(f,gl(ml.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,gl(pl.get(f)||null,e,n,r,o,h)),!0}return!1}function w_(e){var n=bi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,eu(e.priority,function(){A_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,eu(e.priority,function(){A_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Nd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);ca=o,r.target.dispatchEvent(o),ca=null}else return n=wi(r),n!==null&&T_(n),e.blockedOn=r,!1;n.shift()}return!0}function R_(e,n,r){Ec(e)&&r.delete(n)}function cA(){Od=!1,zr!==null&&Ec(zr)&&(zr=null),jr!==null&&Ec(jr)&&(jr=null),Br!==null&&Ec(Br)&&(Br=null),ml.forEach(R_),pl.forEach(R_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cA)))}var Ac=null;function I_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Dd(o||r)===null)continue;break}var f=wi(r);f!==null&&(e.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ha(e){function n(I){return Tc(I,e)}zr!==null&&Tc(zr,e),jr!==null&&Tc(jr,e),Br!==null&&Tc(Br,e),ml.forEach(n),pl.forEach(n);for(var r=0;r<qr.length;r++){var o=qr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qr.length&&(r=qr[0],r.blockedOn===null);)w_(r),r.blockedOn===null&&qr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Pe]||null;if(typeof f=="function")g||I_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Pe]||null)E=g.formAction;else if(Dd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),I_(r)}}}function C_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(e){this._internalRoot=e}Sc.prototype.render=Vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=bn();v_(r,o,e,n,null,null)},Sc.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;v_(e.current,2,null,e,null,null),ic(),n[$n]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ai();e={blockedOn:null,target:e,priority:n};for(var r=0;r<qr.length&&n!==0&&n<qr[r].priority;r++);qr.splice(r,0,e),r===0&&w_(e)}};var N_=t.version;if(N_!=="19.2.4")throw Error(a(527,N_,"19.2.4"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var hA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{nr=bc.inject(hA),Qe=bc}catch{}}return _l.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=kg,f=Lg,g=Pg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=y_(e,1,!1,null,null,r,o,null,h,f,g,C_),e[$n]=n.current,dd(e),new Vd(n)},_l.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=kg,g=Lg,E=Pg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=y_(e,1,!0,n,r??null,o,h,I,f,g,E,C_),n.context=__(null),r=n.current,o=bn(),o=To(o),h=Ir(o),h.callback=null,Cr(r,h,o),r=o,n.current.lanes=r,sr(n,r),oi(n),e[$n]=n.current,dd(e),new Sc(n)},_l.version="19.2.4",_l}var z_;function SA(){if(z_)return Ud.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=AA(),Ud.exports}var bA=SA();const wA=()=>{};var j_={};const m0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},RA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},p0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,v=y?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let N=(p&15)<<2|v>>6,q=v&63;y||(q=64,d||(N=64)),a.push(i[A],i[b],i[N],i[q])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(m0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):RA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||v==null||b==null)throw new IA;const N=c<<2|p>>4;if(a.push(N),v!==64){const q=p<<4&240|v>>2;if(a.push(q),b!==64){const J=v<<6&192|b;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(s){const t=m0(s);return p0.encodeByteArray(t,!0)},qc=function(s){return CA(s).replace(/\./g,"")},g0=function(s){try{return p0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DA=()=>NA().__FIREBASE_DEFAULTS__,OA=()=>{if(typeof process>"u"||typeof j_>"u")return;const s=j_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},VA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&g0(s[1]);return t&&JSON.parse(t)},lh=()=>{try{return wA()||DA()||OA()||VA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},y0=s=>{var t,i;return(i=(t=lh())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},MA=s=>{const t=y0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},_0=()=>{var s;return(s=lh())===null||s===void 0?void 0:s.config},v0=s=>{var t;return(t=lh())===null||t===void 0?void 0:t[`_${s}`]};class xA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function uo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E0(s){return(await fetch(s,{credentials:"include"})).ok}function UA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const wl={};function kA(){const s={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?s.emulator.push(t):s.prod.push(t);return s}function LA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let B_=!1;function T0(s,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||wl[s]===t||wl[s]||B_)return;wl[s]=t;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=kA().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{B_=!0,d()},N}function A(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=LA(a),q=i("text"),J=document.getElementById(q)||document.createElement("span"),et=i("learnmore"),Z=document.getElementById(et)||document.createElement("a"),lt=i("preprendIcon"),ct=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ut=N.element;p(ut),A(Z,et);const vt=v();y(ct,lt),ut.append(ct,J,Z,vt),document.body.appendChild(ut)}c?(J.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function zA(){var s;const t=(s=lh())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function qA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const s=$e();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function FA(){return!zA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GA(){try{return typeof indexedDB=="object"}catch{return!1}}function QA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}const KA="FirebaseError";class er extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=KA,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?YA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new er(l,p,a)}}function YA(s,t){return s.replace(XA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const XA=/\{\$([^}]+)}/g;function ZA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ns(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(q_(c)&&q_(d)){if(!ns(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function q_(s){return s!==null&&typeof s=="object"}function zl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function JA(s,t){const i=new $A(s,t);return i.subscribe.bind(i)}class $A{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");WA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function zd(){}function We(s){return s&&s._delegate?s._delegate:s}class Ys{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Gs="[DEFAULT]";class tS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new xA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t?.identifier),l=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nS(t))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Gs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gs){return this.instances.has(t)}getOptions(t=Gs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:eS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Gs){return this.component?this.component.multipleInstances?t:Gs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(s){return s===Gs?void 0:s}function nS(s){return s.instantiationMode==="EAGER"}class iS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new tS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Vt||(Vt={}));const rS={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},sS=Vt.INFO,aS={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},oS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=aS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bm{constructor(t){this.name=t,this._logLevel=sS,this._logHandler=oS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const lS=(s,t)=>t.some(i=>s instanceof i);let H_,F_;function uS(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cS(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A0=new WeakMap,Jd=new WeakMap,S0=new WeakMap,jd=new WeakMap,wm=new WeakMap;function hS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Jr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&A0.set(i,s)}).catch(()=>{}),wm.set(t,s),t}function fS(s){if(Jd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Jd.set(s,t)}let $d={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Jd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||S0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Jr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function dS(s){$d=s($d)}function mS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Bd(this),t,...i);return S0.set(a,t.sort?t.sort():[t]),Jr(a)}:cS().includes(s)?function(...t){return s.apply(Bd(this),t),Jr(A0.get(this))}:function(...t){return Jr(s.apply(Bd(this),t))}}function pS(s){return typeof s=="function"?mS(s):(s instanceof IDBTransaction&&fS(s),lS(s,uS())?new Proxy(s,$d):s)}function Jr(s){if(s instanceof IDBRequest)return hS(s);if(jd.has(s))return jd.get(s);const t=pS(s);return t!==s&&(jd.set(s,t),wm.set(t,s)),t}const Bd=s=>wm.get(s);function gS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Jr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Jr(d.result),y.oldVersion,y.newVersion,Jr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const yS=["get","getKey","getAll","getAllKeys","count"],_S=["put","add","delete","clear"],qd=new Map;function G_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(qd.get(t))return qd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=_S.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||yS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&y.done]))[0]};return qd.set(t,c),c}dS(s=>({...s,get:(t,i,a)=>G_(t,i)||s.get(t,i,a),has:(t,i)=>!!G_(t,i)||s.has(t,i)}));class vS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ES(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ES(s){const t=s.getComponent();return t?.type==="VERSION"}const Wd="@firebase/app",Q_="0.13.2";const Xi=new bm("@firebase/app"),TS="@firebase/app-compat",AS="@firebase/analytics-compat",SS="@firebase/analytics",bS="@firebase/app-check-compat",wS="@firebase/app-check",RS="@firebase/auth",IS="@firebase/auth-compat",CS="@firebase/database",NS="@firebase/data-connect",DS="@firebase/database-compat",OS="@firebase/functions",VS="@firebase/functions-compat",MS="@firebase/installations",xS="@firebase/installations-compat",US="@firebase/messaging",kS="@firebase/messaging-compat",LS="@firebase/performance",PS="@firebase/performance-compat",zS="@firebase/remote-config",jS="@firebase/remote-config-compat",BS="@firebase/storage",qS="@firebase/storage-compat",HS="@firebase/firestore",FS="@firebase/ai",GS="@firebase/firestore-compat",QS="firebase",KS="11.10.0";const tm="[DEFAULT]",YS={[Wd]:"fire-core",[TS]:"fire-core-compat",[SS]:"fire-analytics",[AS]:"fire-analytics-compat",[wS]:"fire-app-check",[bS]:"fire-app-check-compat",[RS]:"fire-auth",[IS]:"fire-auth-compat",[CS]:"fire-rtdb",[NS]:"fire-data-connect",[DS]:"fire-rtdb-compat",[OS]:"fire-fn",[VS]:"fire-fn-compat",[MS]:"fire-iid",[xS]:"fire-iid-compat",[US]:"fire-fcm",[kS]:"fire-fcm-compat",[LS]:"fire-perf",[PS]:"fire-perf-compat",[zS]:"fire-rc",[jS]:"fire-rc-compat",[BS]:"fire-gcs",[qS]:"fire-gcs-compat",[HS]:"fire-fst",[GS]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[QS]:"fire-js-all"};const Hc=new Map,XS=new Map,em=new Map;function K_(s,t){try{s.container.addComponent(t)}catch(i){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function to(s){const t=s.name;if(em.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;em.set(t,s);for(const i of Hc.values())K_(i,s);for(const i of XS.values())K_(i,s);return!0}function Rm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Pn(s){return s==null?!1:s.settings!==void 0}const ZS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Pl("app","Firebase",ZS);class JS{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const co=KS;function b0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:tm,automaticDataCollectionEnabled:!0},t),l=a.name;if(typeof l!="string"||!l)throw $r.create("bad-app-name",{appName:String(l)});if(i||(i=_0()),!i)throw $r.create("no-options");const c=Hc.get(l);if(c){if(ns(i,c.options)&&ns(a,c.config))return c;throw $r.create("duplicate-app",{appName:l})}const d=new iS(l);for(const y of em.values())d.addComponent(y);const p=new JS(i,a,d);return Hc.set(l,p),p}function w0(s=tm){const t=Hc.get(s);if(!t&&s===tm&&_0())return b0();if(!t)throw $r.create("no-app",{appName:s});return t}function Wr(s,t,i){var a;let l=(a=YS[s])!==null&&a!==void 0?a:s;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const p=[`Unable to register library "${l}" with version "${t}":`];c&&p.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(p.join(" "));return}to(new Ys(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}const $S="firebase-heartbeat-database",WS=1,Ol="firebase-heartbeat-store";let Hd=null;function R0(){return Hd||(Hd=gS($S,WS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(s=>{throw $r.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function tb(s){try{const i=(await R0()).transaction(Ol),a=await i.objectStore(Ol).get(I0(s));return await i.done,a}catch(t){if(t instanceof er)Xi.warn(t.message);else{const i=$r.create("idb-get",{originalErrorMessage:t?.message});Xi.warn(i.message)}}}async function Y_(s,t){try{const a=(await R0()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(t,I0(s)),await a.done}catch(i){if(i instanceof er)Xi.warn(i.message);else{const a=$r.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(a.message)}}}function I0(s){return`${s.name}!${s.options.appId}`}const eb=1024,nb=30;class ib{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=X_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>nb){const d=ab(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Xi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=X_(),{heartbeatsToSend:a,unsentEntries:l}=rb(this._heartbeatsCache.heartbeats),c=qc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Xi.warn(i),""}}}function X_(){return new Date().toISOString().substring(0,10)}function rb(s,t=eb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Z_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Z_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class sb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GA()?QA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function Z_(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function ab(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function ob(s){to(new Ys("platform-logger",t=>new vS(t),"PRIVATE")),to(new Ys("heartbeat",t=>new ib(t),"PRIVATE")),Wr(Wd,Q_,s),Wr(Wd,Q_,"esm2017"),Wr("fire-js","")}ob("");var lb="firebase",ub="11.10.0";Wr(lb,ub,"app");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ts,C0;(function(){var s;function t(D,w){function S(){}S.prototype=w.prototype,D.D=w.prototype,D.prototype=new S,D.prototype.constructor=D,D.C=function(C,V,x){for(var R=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)R[Ae-2]=arguments[Ae];return w.prototype[V].apply(C,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,w,S){S||(S=0);var C=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)C[V]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(V=0;16>V;++V)C[V]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=D.g[0],S=D.g[1],V=D.g[2];var x=D.g[3],R=w+(x^S&(V^x))+C[0]+3614090360&4294967295;w=S+(R<<7&4294967295|R>>>25),R=x+(V^w&(S^V))+C[1]+3905402710&4294967295,x=w+(R<<12&4294967295|R>>>20),R=V+(S^x&(w^S))+C[2]+606105819&4294967295,V=x+(R<<17&4294967295|R>>>15),R=S+(w^V&(x^w))+C[3]+3250441966&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(x^S&(V^x))+C[4]+4118548399&4294967295,w=S+(R<<7&4294967295|R>>>25),R=x+(V^w&(S^V))+C[5]+1200080426&4294967295,x=w+(R<<12&4294967295|R>>>20),R=V+(S^x&(w^S))+C[6]+2821735955&4294967295,V=x+(R<<17&4294967295|R>>>15),R=S+(w^V&(x^w))+C[7]+4249261313&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(x^S&(V^x))+C[8]+1770035416&4294967295,w=S+(R<<7&4294967295|R>>>25),R=x+(V^w&(S^V))+C[9]+2336552879&4294967295,x=w+(R<<12&4294967295|R>>>20),R=V+(S^x&(w^S))+C[10]+4294925233&4294967295,V=x+(R<<17&4294967295|R>>>15),R=S+(w^V&(x^w))+C[11]+2304563134&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(x^S&(V^x))+C[12]+1804603682&4294967295,w=S+(R<<7&4294967295|R>>>25),R=x+(V^w&(S^V))+C[13]+4254626195&4294967295,x=w+(R<<12&4294967295|R>>>20),R=V+(S^x&(w^S))+C[14]+2792965006&4294967295,V=x+(R<<17&4294967295|R>>>15),R=S+(w^V&(x^w))+C[15]+1236535329&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(V^x&(S^V))+C[1]+4129170786&4294967295,w=S+(R<<5&4294967295|R>>>27),R=x+(S^V&(w^S))+C[6]+3225465664&4294967295,x=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(x^w))+C[11]+643717713&4294967295,V=x+(R<<14&4294967295|R>>>18),R=S+(x^w&(V^x))+C[0]+3921069994&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^x&(S^V))+C[5]+3593408605&4294967295,w=S+(R<<5&4294967295|R>>>27),R=x+(S^V&(w^S))+C[10]+38016083&4294967295,x=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(x^w))+C[15]+3634488961&4294967295,V=x+(R<<14&4294967295|R>>>18),R=S+(x^w&(V^x))+C[4]+3889429448&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^x&(S^V))+C[9]+568446438&4294967295,w=S+(R<<5&4294967295|R>>>27),R=x+(S^V&(w^S))+C[14]+3275163606&4294967295,x=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(x^w))+C[3]+4107603335&4294967295,V=x+(R<<14&4294967295|R>>>18),R=S+(x^w&(V^x))+C[8]+1163531501&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^x&(S^V))+C[13]+2850285829&4294967295,w=S+(R<<5&4294967295|R>>>27),R=x+(S^V&(w^S))+C[2]+4243563512&4294967295,x=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(x^w))+C[7]+1735328473&4294967295,V=x+(R<<14&4294967295|R>>>18),R=S+(x^w&(V^x))+C[12]+2368359562&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(S^V^x)+C[5]+4294588738&4294967295,w=S+(R<<4&4294967295|R>>>28),R=x+(w^S^V)+C[8]+2272392833&4294967295,x=w+(R<<11&4294967295|R>>>21),R=V+(x^w^S)+C[11]+1839030562&4294967295,V=x+(R<<16&4294967295|R>>>16),R=S+(V^x^w)+C[14]+4259657740&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^x)+C[1]+2763975236&4294967295,w=S+(R<<4&4294967295|R>>>28),R=x+(w^S^V)+C[4]+1272893353&4294967295,x=w+(R<<11&4294967295|R>>>21),R=V+(x^w^S)+C[7]+4139469664&4294967295,V=x+(R<<16&4294967295|R>>>16),R=S+(V^x^w)+C[10]+3200236656&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^x)+C[13]+681279174&4294967295,w=S+(R<<4&4294967295|R>>>28),R=x+(w^S^V)+C[0]+3936430074&4294967295,x=w+(R<<11&4294967295|R>>>21),R=V+(x^w^S)+C[3]+3572445317&4294967295,V=x+(R<<16&4294967295|R>>>16),R=S+(V^x^w)+C[6]+76029189&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^x)+C[9]+3654602809&4294967295,w=S+(R<<4&4294967295|R>>>28),R=x+(w^S^V)+C[12]+3873151461&4294967295,x=w+(R<<11&4294967295|R>>>21),R=V+(x^w^S)+C[15]+530742520&4294967295,V=x+(R<<16&4294967295|R>>>16),R=S+(V^x^w)+C[2]+3299628645&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(V^(S|~x))+C[0]+4096336452&4294967295,w=S+(R<<6&4294967295|R>>>26),R=x+(S^(w|~V))+C[7]+1126891415&4294967295,x=w+(R<<10&4294967295|R>>>22),R=V+(w^(x|~S))+C[14]+2878612391&4294967295,V=x+(R<<15&4294967295|R>>>17),R=S+(x^(V|~w))+C[5]+4237533241&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~x))+C[12]+1700485571&4294967295,w=S+(R<<6&4294967295|R>>>26),R=x+(S^(w|~V))+C[3]+2399980690&4294967295,x=w+(R<<10&4294967295|R>>>22),R=V+(w^(x|~S))+C[10]+4293915773&4294967295,V=x+(R<<15&4294967295|R>>>17),R=S+(x^(V|~w))+C[1]+2240044497&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~x))+C[8]+1873313359&4294967295,w=S+(R<<6&4294967295|R>>>26),R=x+(S^(w|~V))+C[15]+4264355552&4294967295,x=w+(R<<10&4294967295|R>>>22),R=V+(w^(x|~S))+C[6]+2734768916&4294967295,V=x+(R<<15&4294967295|R>>>17),R=S+(x^(V|~w))+C[13]+1309151649&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~x))+C[4]+4149444226&4294967295,w=S+(R<<6&4294967295|R>>>26),R=x+(S^(w|~V))+C[11]+3174756917&4294967295,x=w+(R<<10&4294967295|R>>>22),R=V+(w^(x|~S))+C[2]+718787259&4294967295,V=x+(R<<15&4294967295|R>>>17),R=S+(x^(V|~w))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+x&4294967295}a.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var S=w-this.blockSize,C=this.B,V=this.h,x=0;x<w;){if(V==0)for(;x<=S;)l(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<w;)if(C[V++]=D.charCodeAt(x++),V==this.blockSize){l(this,C),V=0;break}}else for(;x<w;)if(C[V++]=D[x++],V==this.blockSize){l(this,C),V=0;break}}this.h=V,this.o+=w},a.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var S=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=S&255,S/=256;for(this.u(D),D=Array(16),w=S=0;4>w;++w)for(var C=0;32>C;C+=8)D[S++]=this.g[w]>>>C&255;return D};function c(D,w){var S=p;return Object.prototype.hasOwnProperty.call(S,D)?S[D]:S[D]=w(D)}function d(D,w){this.h=w;for(var S=[],C=!0,V=D.length-1;0<=V;V--){var x=D[V]|0;C&&x==w||(S[V]=x,C=!1)}this.g=S}var p={};function y(D){return-128<=D&&128>D?c(D,function(w){return new d([w|0],0>w?-1:0)}):new d([D|0],0>D?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return Z(v(-D));for(var w=[],S=1,C=0;D>=S;C++)w[C]=D/S|0,S*=4294967296;return new d(w,0)}function A(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return Z(A(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(w,8)),C=b,V=0;V<D.length;V+=8){var x=Math.min(8,D.length-V),R=parseInt(D.substring(V,V+x),w);8>x?(x=v(Math.pow(w,x)),C=C.j(x).add(v(R))):(C=C.j(S),C=C.add(v(R)))}return C}var b=y(0),N=y(1),q=y(16777216);s=d.prototype,s.m=function(){if(et(this))return-Z(this).m();for(var D=0,w=1,S=0;S<this.g.length;S++){var C=this.i(S);D+=(0<=C?C:4294967296+C)*w,w*=4294967296}return D},s.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(et(this))return"-"+Z(this).toString(D);for(var w=v(Math.pow(D,6)),S=this,C="";;){var V=vt(S,w).g;S=lt(S,V.j(w));var x=((0<S.g.length?S.g[0]:S.h)>>>0).toString(D);if(S=V,J(S))return x+C;for(;6>x.length;)x="0"+x;C=x+C}},s.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function et(D){return D.h==-1}s.l=function(D){return D=lt(this,D),et(D)?-1:J(D)?0:1};function Z(D){for(var w=D.g.length,S=[],C=0;C<w;C++)S[C]=~D.g[C];return new d(S,~D.h).add(N)}s.abs=function(){return et(this)?Z(this):this},s.add=function(D){for(var w=Math.max(this.g.length,D.g.length),S=[],C=0,V=0;V<=w;V++){var x=C+(this.i(V)&65535)+(D.i(V)&65535),R=(x>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);C=R>>>16,x&=65535,R&=65535,S[V]=R<<16|x}return new d(S,S[S.length-1]&-2147483648?-1:0)};function lt(D,w){return D.add(Z(w))}s.j=function(D){if(J(this)||J(D))return b;if(et(this))return et(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(et(D))return Z(this.j(Z(D)));if(0>this.l(q)&&0>D.l(q))return v(this.m()*D.m());for(var w=this.g.length+D.g.length,S=[],C=0;C<2*w;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var V=0;V<D.g.length;V++){var x=this.i(C)>>>16,R=this.i(C)&65535,Ae=D.i(V)>>>16,xe=D.i(V)&65535;S[2*C+2*V]+=R*xe,ct(S,2*C+2*V),S[2*C+2*V+1]+=x*xe,ct(S,2*C+2*V+1),S[2*C+2*V+1]+=R*Ae,ct(S,2*C+2*V+1),S[2*C+2*V+2]+=x*Ae,ct(S,2*C+2*V+2)}for(C=0;C<w;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=w;C<2*w;C++)S[C]=0;return new d(S,0)};function ct(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ut(D,w){this.g=D,this.h=w}function vt(D,w){if(J(w))throw Error("division by zero");if(J(D))return new ut(b,b);if(et(D))return w=vt(Z(D),w),new ut(Z(w.g),Z(w.h));if(et(w))return w=vt(D,Z(w)),new ut(Z(w.g),w.h);if(30<D.g.length){if(et(D)||et(w))throw Error("slowDivide_ only works with positive integers.");for(var S=N,C=w;0>=C.l(D);)S=qt(S),C=qt(C);var V=It(S,1),x=It(C,1);for(C=It(C,2),S=It(S,2);!J(C);){var R=x.add(C);0>=R.l(D)&&(V=V.add(S),x=R),C=It(C,1),S=It(S,1)}return w=lt(D,V.j(w)),new ut(V,w)}for(V=b;0<=D.l(w);){for(S=Math.max(1,Math.floor(D.m()/w.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),x=v(S),R=x.j(w);et(R)||0<R.l(D);)S-=C,x=v(S),R=x.j(w);J(x)&&(x=N),V=V.add(x),D=lt(D,R)}return new ut(V,D)}s.A=function(D){return vt(this,D).h},s.and=function(D){for(var w=Math.max(this.g.length,D.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)&D.i(C);return new d(S,this.h&D.h)},s.or=function(D){for(var w=Math.max(this.g.length,D.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)|D.i(C);return new d(S,this.h|D.h)},s.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)^D.i(C);return new d(S,this.h^D.h)};function qt(D){for(var w=D.g.length+1,S=[],C=0;C<w;C++)S[C]=D.i(C)<<1|D.i(C-1)>>>31;return new d(S,D.h)}function It(D,w){var S=w>>5;w%=32;for(var C=D.g.length-S,V=[],x=0;x<C;x++)V[x]=0<w?D.i(x+S)>>>w|D.i(x+S+1)<<32-w:D.i(x+S);return new d(V,D.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,C0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,ts=d}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var N0,Tl,D0,Oc,nm,O0,V0,M0;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,k={next:function(){if(!T&&_<u.length){var B=_++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});var d=d||{},p=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function b(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function N(u,m,_){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:b,N.apply(null,arguments)}function q(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,k,B){for(var tt=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)tt[Ft-2]=arguments[Ft];return m.prototype[k].apply(T,tt)}}function et(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Z(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(y(T)){const k=u.length||0,B=T.length||0;u.length=k+B;for(let tt=0;tt<B;tt++)u[k+tt]=T[tt]}else u.push(T)}}class lt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ct(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function vt(u){return vt[" "](u),u}vt[" "]=function(){};var qt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function It(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function D(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function w(u){const m={};for(const _ in u)m[_]=u[_];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let B=0;B<S.length;B++)_=S[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function x(u){p.setTimeout(()=>{throw u},0)}function R(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,_){const T=xe.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var xe=new lt(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ft=!1,Lt=new Ae,Ht=()=>{const u=p.Promise.resolve(void 0);nt=()=>{u.then(M)}};var M=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){x(_)}var m=xe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var st=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return u})();function gt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(qt){t:{try{vt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:bt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&gt.aa.h.call(this)}}J(gt,W);var bt={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function ie(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++Ue,this.da=this.fa=!1}function Xn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function vi(u){this.src=u,this.g={},this.h=0}vi.prototype.add=function(u,m,_,T,k){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var tt=ea(u,m,T,k);return-1<tt?(m=u[tt],_||(m.fa=!1)):(m=new ie(m,this.src,B,!!T,k),m.fa=_,u.push(m)),m};function fs(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=k)&&Array.prototype.splice.call(T,k,1),B&&(Xn(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ea(u,m,_,T){for(var k=0;k<u.length;++k){var B=u[k];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return k}return-1}var jn="closure_lm_"+(1e6*Math.random()|0),ds={};function na(u,m,_,T,k){if(Array.isArray(m)){for(var B=0;B<m.length;B++)na(u,m[B],_,T,k);return null}return _=$l(_),u&&u[xt]?u.K(m,_,v(T)?!!T.capture:!1,k):Nh(u,m,_,!1,T,k)}function Nh(u,m,_,T,k,B){if(!m)throw Error("Invalid event type");var tt=v(k)?!!k.capture:!!k,Ft=go(u);if(Ft||(u[jn]=Ft=new vi(u)),_=Ft.add(m,_,T,tt,B),_.proxy)return _;if(T=Jl(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)st||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(ra(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Jl(){function u(_){return m.call(u.src,u.listener,_)}const m=Dh;return u}function ia(u,m,_,T,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)ia(u,m[B],_,T,k);else T=v(T)?!!T.capture:!!T,_=$l(_),u&&u[xt]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],_=ea(B,_,T,k),-1<_&&(Xn(B[_]),Array.prototype.splice.call(B,_,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=go(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ea(m,_,T,k)),(_=-1<u?m[u]:null)&&ms(_))}function ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])fs(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ra(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=go(m))?(fs(_,u),_.h==0&&(_.src=null,m[jn]=null)):Xn(u)}}}function ra(u){return u in ds?ds[u]:ds[u]="on"+u}function Dh(u,m){if(u.da)u=!0;else{m=new gt(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&ms(u),u=_.call(T,m)}return u}function go(u){return u=u[jn],u instanceof vi?u:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(u){return typeof u=="function"?u:(u[ke]||(u[ke]=function(m){return u.handleEvent(m)}),u[ke])}function Se(){Q.call(this),this.i=new vi(this),this.M=this,this.F=null}J(Se,Q),Se.prototype[xt]=!0,Se.prototype.removeEventListener=function(u,m,_,T){ia(this,u,m,_,T)};function Ie(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var k=m;m=new W(T,u),C(m,k)}if(k=!0,_)for(var B=_.length-1;0<=B;B--){var tt=m.g=_[B];k=Ei(tt,T,!0,m)&&k}if(tt=m.g=u,k=Ei(tt,T,!0,m)&&k,k=Ei(tt,T,!1,m)&&k,_)for(B=0;B<_.length;B++)tt=m.g=_[B],k=Ei(tt,T,!1,m)&&k}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Xn(_[T]);delete u.g[m],u.h--}}this.F=null},Se.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Se.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function Ei(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,B=0;B<m.length;++B){var tt=m[B];if(tt&&!tt.da&&tt.capture==_){var Ft=tt.listener,me=tt.ha||tt.src;tt.fa&&fs(u.i,tt),k=Ft.call(me,T)!==!1&&k}}return k&&!T.defaultPrevented}function Wl(u,m,_){if(typeof u=="function")_&&(u=N(u,_));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function yo(u){u.g=Wl(()=>{u.g=null,u.i&&(u.i=!1,yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Oh extends Q{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(u){Q.call(this),this.h=u,this.g={}}J(ps,Q);var nr=[];function Qe(u){It(u.g,function(m,_){this.g.hasOwnProperty(_)&&ms(m)},u),u.g={}}ps.prototype.N=function(){ps.aa.N.call(this),Qe(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=p.JSON.stringify,tn=p.JSON.parse,Vh=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function _o(){}_o.prototype.h=null;function tu(u){return u.h||(u.h=u.i())}function gs(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){W.call(this,"d")}J(ir,W);function Bn(){W.call(this,"c")}J(Bn,W);var In={},rr=null;function sa(){return rr=rr||new Se}In.La="serverreachability";function vo(u){W.call(this,In.La,u)}J(vo,W);function Ti(u){const m=sa();Ie(m,new vo(m))}In.STAT_EVENT="statevent";function sr(u,m){W.call(this,In.STAT_EVENT,u),this.stat=m}J(sr,W);function Le(u){const m=sa();Ie(m,new sr(m,u))}In.Ma="timingevent";function Eo(u,m){W.call(this,In.Ma,u),this.size=m}J(Eo,W);function ar(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function or(){this.g=!0}or.prototype.xa=function(){this.g=!1};function To(u,m,_,T,k,B){u.info(function(){if(u.g)if(B)for(var tt="",Ft=B.split("&"),me=0;me<Ft.length;me++){var wt=Ft[me].split("=");if(1<wt.length){var Ne=wt[0];wt=wt[1];var De=Ne.split("_");tt=2<=De.length&&De[1]=="type"?tt+(Ne+"="+wt+"&"):tt+(Ne+"=redacted&")}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+tt})}function Ao(u,m,_,T,k,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+B+" "+tt})}function Ai(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jn(u,_)+(T?" "+T:"")})}function eu(u,m){u.info(function(){return"TIMEOUT: "+m})}or.prototype.info=function(){};function Jn(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var B=k[0];if(B!="noop"&&B!="stop"&&B!="close")for(var tt=1;tt<k.length;tt++)k[tt]=""}}}}return Rn(_)}catch{return m}}var ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function lr(){}J(lr,_o),lr.prototype.g=function(){return new XMLHttpRequest},lr.prototype.i=function(){return{}},$n=new lr;function Wn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nu}function nu(){this.i=null,this.g="",this.h=!1}var So={},Si={};function ys(u,m,_){u.L=1,u.v=Es(oe(m)),u.m=_,u.P=!0,bi(u,null)}function bi(u,m){u.F=Date.now(),qn(u),u.A=oe(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ii(_.i,"t",T),u.C=0,_=u.j.J,u.h=new nu,u.g=_u(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Oh(N(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(nr[0]=k.toString()),k=nr);for(var B=0;B<k.length;B++){var tt=na(_,k[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ti(),To(u.i,u.u,u.A,u.l,u.R,u.m)}Wn.prototype.ca=function(u){u=u.target;const m=this.M;m&&rn(u)==3?m.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)t:{const De=rn(this.g);var m=this.g.Ba();const Tr=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||Ss(this.g)))){this.J||De!=4||m==7||(m==8||0>=Tr?Ti(3):Ti(2)),aa(this);var _=this.g.Z();this.X=_;e:if(wi(this)){var T=Ss(this.g);u="";var k=T.length,B=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),ur(this);var tt="";break e}this.h.i=new p.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=_==200,Ao(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ft,me=this.g;if((Ft=me.g?me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(Ft)){var wt=Ft;break e}}wt=null}if(_=wt)Ai(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ti(this,_);else{this.o=!1,this.s=3,Le(12),en(this),ur(this);break t}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<tt.length;)if(ln=_s(this,tt),ln==Si){De==4&&(this.s=4,Le(14),_=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==So){this.s=4,Le(15),Ai(this.i,this.l,tt,"[Invalid Chunk]"),_=!1;break}else Ai(this.i,this.l,ln,null),ti(this,ln);if(wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||tt.length!=0||this.h.h||(this.s=1,Le(16),_=!1),this.o=this.o&&_,!_)Ai(this.i,this.l,tt,"[Invalid Chunked Response]"),en(this),ur(this);else if(0<tt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),xo(Ne),Ne.M=!0,Le(11))}}else Ai(this.i,this.l,tt,null),ti(this,tt);De==4&&en(this),this.o&&!this.J&&(De==4?pu(this.j,this):(this.o=!1,qn(this)))}else uu(this.g),_==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),en(this),ur(this)}}}catch{}};function wi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _s(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Si:(_=Number(m.substring(_,T)),isNaN(_)?So:(T+=1,T+_>m.length?Si:(m=m.slice(T,T+_),u.C=T+_,m)))}Wn.prototype.cancel=function(){this.J=!0,en(this)};function qn(u){u.S=Date.now()+u.I,ce(u,u.I)}function ce(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ar(N(u.ba,u),m)}function aa(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Wn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(eu(this.i,this.A),this.L!=2&&(Ti(),Le(17)),en(this),this.s=2,ur(this)):ce(this,this.S-u)};function ur(u){u.j.G==0||u.J||pu(u.j,u)}function en(u){aa(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Qe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ti(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||cr(_.h,u))){if(!u.K&&cr(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)vr(_),_r(_);else break t;Mo(_),Le(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=ar(N(_.Za,_),6e3));if(1>=iu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ni(_,11)}else if((u.K||_.g==u)&&vr(_),!ct(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let wt=k[m];if(_.T=wt[0],wt=wt[1],_.G==2)if(wt[0]=="c"){_.K=wt[1],_.ia=wt[2];const Ne=wt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const De=wt[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const Tr=wt[5];Tr!=null&&typeof Tr=="number"&&0<Tr&&(T=1.5*Tr,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const ln=u.g;if(ln){const Rs=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var B=T.h;B.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(hr(B,B.h),B.h=null))}if(T.D){const Di=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Di&&(T.ya=Di,Pt(T.I,T.D,Di))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var tt=u;if(T.qa=yu(T,T.J?T.ia:null,T.W),tt.K){Cn(T.h,tt);var Ft=tt,me=T.L;me&&(Ft.I=me),Ft.B&&(aa(Ft),qn(Ft)),T.g=tt}else du(T);0<_.i.length&&ma(_)}else wt[0]!="stop"&&wt[0]!="close"||Ni(_,7);else _.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Ni(_,7):Oo(_):wt[0]!="noop"&&_.l&&_.l.ta(wt),_.v=0)}}Ti(4)}catch{}}var Mh=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function iu(u){return u.h?1:u.g?u.g.size:0}function cr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function hr(u,m){u.g?u.g.add(m):u.h=m}function Cn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return et(u.i)}function ru(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function xh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function oa(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=xh(u),T=ru(u),k=T.length,B=0;B<k;B++)m.call(void 0,T[B],_&&_[B],u)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),k=null;if(0<=T){var B=u[_].substring(0,T);k=u[_].substring(T+1)}else B=u[_];m(B,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Ri(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ri){this.h=u.h,fr(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.s),this.l=u.l;var m=u.i,_=new ei;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),ua(this,_),this.m=u.m}else u&&(m=String(u).match(Ro))?(this.h=!1,fr(this,m[1]||"",!0),this.o=dr(m[2]||""),this.g=dr(m[3]||"",!0),vs(this,m[4]),this.l=dr(m[5]||"",!0),ua(this,m[6]||"",!0),this.m=dr(m[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}Ri.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Nn(m,Io,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Nn(m,Io,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Nn(_,_.charAt(0)=="/"?Co:su,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Nn(_,Lh)),u.join("")};function oe(u){return new Ri(u)}function fr(u,m,_){u.j=_?dr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ua(u,m,_){m instanceof ei?(u.i=m,au(u.i,u.h)):(_||(m=Nn(m,kh)),u.i=new ei(m,u.h))}function Pt(u,m,_){u.i.set(m,_)}function Es(u){return Pt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function dr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Uh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Uh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Io=/[#\/\?@]/g,su=/[#\?:]/g,Co=/[#\?]/g,kh=/[#\?@]/g,Lh=/#/g;function ei(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ce(u){u.g||(u.g=new Map,u.h=0,u.i&&la(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=ei.prototype,s.add=function(u,m){Ce(this),this.i=null,u=gn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function ca(u,m){Ce(u),m=gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ha(u,m){return Ce(u),m=gn(u,m),u.g.has(m)}s.forEach=function(u,m){Ce(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)},s.na=function(){Ce(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const k=u[T];for(let B=0;B<k.length;B++)_.push(m[T])}return _},s.V=function(u){Ce(this);let m=[];if(typeof u=="string")ha(this,u)&&(m=m.concat(this.g.get(gn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},s.set=function(u,m){return Ce(this),this.i=null,u=gn(this,u),ha(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ii(u,m,_){ca(u,m),0<_.length&&(u.i=null,u.g.set(gn(u,m),et(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const B=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var k=B;tt[T]!==""&&(k+="="+encodeURIComponent(String(tt[T]))),u.push(k)}}return this.i=u.join("&")};function gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function au(u,m){m&&!u.j&&(Ce(u),u.i=null,u.g.forEach(function(_,T){var k=T.toLowerCase();T!=k&&(ca(this,T),Ii(this,k,_))},u)),u.j=m}function No(u,m){const _=new or;if(p.Image){const T=new Image;T.onload=q(on,_,"TestLoadImage: loaded",!0,m,T),T.onerror=q(on,_,"TestLoadImage: error",!1,m,T),T.onabort=q(on,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(on,_,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function ou(u,m){const _=new or,T=new AbortController,k=setTimeout(()=>{T.abort(),on(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(k),B.ok?on(_,"TestPingServer: ok",!0,m):on(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),on(_,"TestPingServer: error",!1,m)})}function on(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function Hn(){this.g=new Vh}function Do(u,m,_){const T=_||"";try{oa(u,function(k,B){let tt=k;v(k)&&(tt=Rn(k)),m.push(T+B+"="+encodeURIComponent(tt))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function ni(u){this.l=u.Ub||null,this.j=u.eb||!1}J(ni,_o),ni.prototype.g=function(){return new yn(this.l,this.j)},ni.prototype.i=(function(u){return function(){return u}})({});function yn(u,m){Se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(yn,Se),s=yn.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,mr(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fa(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function fa(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ii(this):mr(this),this.readyState==3&&fa(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,ii(this))},s.Qa=function(u){this.g&&(this.response=u,ii(this))},s.ga=function(){this.g&&ii(this)};function ii(u){u.readyState=4,u.l=null,u.j=null,u.v=null,mr(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function mr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ts(u){let m="";return It(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function pr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Ts(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Pt(u,m,_))}function $t(u){Se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J($t,Se);var Ke=/^https?$/i,Ci=["POST","PUT"];s=$t.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?tu(this.o):tu($n),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){As(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),k=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ci,m,void 0))||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of _)this.g.setRequestHeader(B,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{da(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){As(this,B)}};function As(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,gr(u),yr(u)}function gr(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ie(this,"complete"),Ie(this,"abort"),yr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),$t.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?lu(this):this.bb())},s.bb=function(){lu(this)};function lu(u){if(u.h&&typeof d<"u"&&(!u.v[1]||rn(u)!=4||u.Z()!=2)){if(u.u&&rn(u)==4)Wl(u.Ea,0,u);else if(Ie(u,"readystatechange"),rn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=tt===0){var k=String(u.D).match(Ro)[1]||null;!k&&p.self&&p.self.location&&(k=p.self.location.protocol.slice(0,-1)),T=!Ke.test(k?k.toLowerCase():"")}_=T}if(_)Ie(u,"complete"),Ie(u,"success");else{u.m=6;try{var B=2<rn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",gr(u)}}finally{yr(u)}}}}function yr(u,m){if(u.g){da(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ie(u,"ready");try{_.onreadystatechange=T}catch{}}}function da(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function rn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),tn(m)}};function Ss(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function uu(u){const m={};u=(u.g&&2<=rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ct(u[T]))continue;var _=V(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[k]||[];m[k]=B,B.push(_)}D(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function cu(u){this.Aa=0,this.i=[],this.j=new or,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,u),this.cb=bs("retryDelaySeedMs",1e4,u),this.Wa=bs("forwardChannelMaxRetries",2,u),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bo(u&&u.concurrentRequestLimit),this.Da=new Hn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=cu.prototype,s.la=8,s.G=1,s.connect=function(u,m,_,T){Le(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=yu(this,null,this.W),ma(this)};function Oo(u){if(hu(u),u.G==3){var m=u.U++,_=oe(u.I);if(Pt(_,"SID",u.K),Pt(_,"RID",m),Pt(_,"TYPE","terminate"),ws(u,_),m=new Wn(u,u.j,m),m.L=2,m.v=Es(oe(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=_u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qn(m)}Uo(u)}function _r(u){u.g&&(xo(u),u.g.cancel(),u.g=null)}function hu(u){_r(u),u.u&&(p.clearTimeout(u.u),u.u=null),vr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ma(u){if(!wo(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||Ht(),ft||(nt(),ft=!0),Lt.add(m,u),u.B=0}}function Ph(u,m){return iu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ar(N(u.Ga,u,m),gu(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Wn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=w(B),C(B,this.S)):B=this.S),this.m!==null||this.O||(k.H=B,B=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Vo(this,k,m),_=oe(this.I),Pt(_,"RID",u),Pt(_,"CVER",22),this.D&&Pt(_,"X-HTTP-Session-Id",this.D),ws(this,_),B&&(this.O?m="headers="+encodeURIComponent(String(Ts(B)))+"&"+m:this.m&&pr(_,this.m,B)),hr(this.h,k),this.Ua&&Pt(_,"TYPE","init"),this.P?(Pt(_,"$req",m),Pt(_,"SID","null"),k.T=!0,ys(k,_,null)):ys(k,_,m),this.G=2}}else this.G==3&&(u?fu(this,u):this.i.length==0||wo(this.h)||fu(this))};function fu(u,m){var _;m?_=m.l:_=u.U++;const T=oe(u.I);Pt(T,"SID",u.K),Pt(T,"RID",_),Pt(T,"AID",u.T),ws(u,T),u.m&&u.o&&pr(T,u.m,u.o),_=new Wn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Vo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),hr(u.h,_),ys(_,T,m)}function ws(u,m){u.H&&It(u.H,function(_,T){Pt(m,T,_)}),u.l&&oa({},function(_,T){Pt(m,T,_)})}function Vo(u,m,_){_=Math.min(u.i.length,_);var T=u.l?N(u.l.Na,u.l,u):null;t:{var k=u.i;let B=-1;for(;;){const tt=["count="+_];B==-1?0<_?(B=k[0].g,tt.push("ofs="+B)):B=0:tt.push("ofs="+B);let Ft=!0;for(let me=0;me<_;me++){let wt=k[me].g;const Ne=k[me].map;if(wt-=B,0>wt)B=Math.max(0,k[me].g-100),Ft=!1;else try{Do(Ne,tt,"req"+wt+"_")}catch{T&&T(Ne)}}if(Ft){T=tt.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function du(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||Ht(),ft||(nt(),ft=!0),Lt.add(m,u),u.v=0}}function Mo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ar(N(u.Fa,u),gu(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ar(N(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),_r(this),mu(this))};function xo(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function mu(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=oe(u.qa);Pt(m,"RID","rpc"),Pt(m,"SID",u.K),Pt(m,"AID",u.T),Pt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pt(m,"TO",u.ja),Pt(m,"TYPE","xmlhttp"),ws(u,m),u.m&&u.o&&pr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Es(oe(m)),_.m=null,_.P=!0,bi(_,u)}s.Za=function(){this.C!=null&&(this.C=null,_r(this),Mo(this),Le(19))};function vr(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function pu(u,m){var _=null;if(u.g==m){vr(u),xo(u),u.g=null;var T=2}else if(cr(u.h,m))_=m.D,Cn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=sa(),Ie(T,new Eo(T,_)),ma(u)}else du(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&Ph(u,m)||T==2&&Mo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),k){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function gu(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var _=N(u.fb,u),T=u.Xa;const k=!T;T=new Ri(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||fr(T,"https"),Es(T),k?No(T.toString(),_):ou(T.toString(),_)}else Le(2);u.G=0,u.l&&u.l.sa(m),Uo(u),hu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function Uo(u){if(u.G=0,u.ka=[],u.l){const m=nn(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,et(u.i),u.i.length=0),u.l.ra()}}function yu(u,m,_){var T=_ instanceof Ri?oe(_):new Ri(_);if(T.g!="")m&&(T.g=m+"."+T.g),vs(T,T.s);else{var k=p.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var B=new Ri(null);T&&fr(B,T),m&&(B.g=m),k&&vs(B,k),_&&(B.l=_),T=B}return _=u.D,m=u.ya,_&&m&&Pt(T,_,m),Pt(T,"VER",u.la),ws(u,T),T}function _u(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new $t(new ni({eb:_})):new $t(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function pa(){}pa.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){Se.call(this),this.g=new cu(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ct(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ct(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Er(this)}J(sn,Se),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Oo(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Rn(u),u=_);m.i.push(new Mh(m.Ya++,u)),m.G==3&&ma(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,sn.aa.N.call(this)};function Eu(u){ir.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(Eu,ir);function Tu(){Bn.call(this),this.status=1}J(Tu,Bn);function Er(u){this.g=u}J(Er,vu),Er.prototype.ua=function(){Ie(this.g,"a")},Er.prototype.ta=function(u){Ie(this.g,new Eu(u))},Er.prototype.sa=function(u){Ie(this.g,new Tu)},Er.prototype.ra=function(){Ie(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,M0=function(){return new pa},V0=function(){return sa()},O0=In,nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,Oc=ae,Pe.COMPLETE="complete",D0=Pe,gs.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Se.prototype.listen=Se.prototype.K,Tl=gs,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,N0=$t}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",W_="4.8.0";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let ho="11.10.0";const Xs=new bm("@firebase/firestore");function Fa(){return Xs.logLevel}function it(s,...t){if(Xs.logLevel<=Vt.DEBUG){const i=t.map(Im);Xs.debug(`Firestore (${ho}): ${s}`,...i)}}function Zi(s,...t){if(Xs.logLevel<=Vt.ERROR){const i=t.map(Im);Xs.error(`Firestore (${ho}): ${s}`,...i)}}function is(s,...t){if(Xs.logLevel<=Vt.WARN){const i=t.map(Im);Xs.warn(`Firestore (${ho}): ${s}`,...i)}}function Im(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function pt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,x0(s,a,i)}function x0(s,t,i){let a=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Zi(a),new Error(a)}function Gt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||x0(t,l,a)}function Tt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends er{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class U0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class hb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class fb{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new es;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new es,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new es)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new U0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class db{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new db(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new tv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}function k0(){return new TextEncoder}class Cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=gb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Rt(s,t){return s<t?-1:s>t?1:0}function im(s,t){let i=0;for(;i<s.length&&i<t.length;){const a=s.codePointAt(i),l=t.codePointAt(i);if(a!==l){if(a<128&&l<128)return Rt(a,l);{const c=k0(),d=yb(c.encode(ev(s,i)),c.encode(ev(t,i)));return d!==0?d:Rt(a,l)}}i+=a>65535?2:1}return Rt(s.length,t.length)}function ev(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function yb(s,t){for(let i=0;i<s.length&&i<t.length;++i)if(s[i]!==t[i])return Rt(s[i],t[i]);return Rt(s.length,t.length)}function eo(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const nv="__name__";class li{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof li?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=li.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Rt(t.length,i.length)}static compareSegments(t,i){const a=li.isNumericId(t),l=li.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?li.extractNumericId(t).compare(li.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ts.fromString(t.substring(4,t.length-2))}}class re extends li{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const _b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends li{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return _b.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new Fe([nv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(re.fromString(t))}static fromName(t){return new dt(re.fromString(t).popFirst(5))}static empty(){return new dt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new re(t.slice()))}}function vb(s,t,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Eb(s,t,i,a){if(t===!0&&a===!0)throw new ot($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function iv(s){if(!dt.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function L0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Nm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function ui(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nm(s);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ee(s,t){const i={typeString:s};return t&&(i.value=t),i}function jl(s,t){if(!L0(s))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot($.INVALID_ARGUMENT,i);return!0}const rv=-62135596800,sv=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*sv);return new ee(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<rv)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jl(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Ee("string",ee._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ee(0,0))}static max(){return new _t(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vl=-1;function Tb(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new ee(i+1,0):new ee(i,a));return new rs(l,dt.empty(),t)}function Ab(s){return new rs(s.readTime,s.key,Vl)}class rs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new rs(_t.min(),dt.empty(),Vl)}static max(){return new rs(_t.max(),dt.empty(),Vl)}}function Sb(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Rt(s.largestBatchId,t.largestBatchId))}const bb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==bb)throw s;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((A=>{d[v]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Rb(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(s){return s.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this._e(a),this.ae=a=>i.writeSequenceNumber(a))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}uh.ue=-1;const Dm=-1;function ch(s){return s==null}function Fc(s){return s===0&&1/s==-1/0}function Ib(s){return typeof s=="number"&&Number.isInteger(s)&&!Fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const P0="";function Cb(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=av(t)),t=Nb(s.get(i),t);return av(t)}function Nb(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case P0:i+="";break;default:i+=c}}return i}function av(s){return s+P0+""}function ov(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function cs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function z0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class se{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new se(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new He(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Re{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new lv(this.data.getIterator())}getIteratorFrom(t){return new lv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Re(this.comparator);return i.data=t,i}}class lv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new wn([])}unionWith(t){let i=new Re(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class j0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new j0("Invalid base64 string: "+c):c}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const Db=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=Db.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function as(s){return typeof s=="string"?Ge.fromBase64String(s):Ge.fromUint8Array(s)}const B0="server_timestamp",q0="__type__",H0="__previous_value__",F0="__local_write_time__";function Om(s){var t,i;return((i=(((t=s?.mapValue)===null||t===void 0?void 0:t.fields)||{})[q0])===null||i===void 0?void 0:i.stringValue)===B0}function hh(s){const t=s.mapValue.fields[H0];return Om(t)?hh(t):t}function Ml(s){const t=ss(s.mapValue.fields[F0].timestampValue);return new ee(t.seconds,t.nanos)}class Ob{constructor(t,i,a,l,c,d,p,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const Gc="(default)";class xl{constructor(t,i){this.projectId=t,this.database=i||Gc}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}const G0="__type__",Vb="__max__",Ic={mapValue:{}},Q0="__vector__",Qc="value";function os(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Om(s)?4:xb(s)?9007199254740991:Mb(s)?10:11:pt(28295,{value:s})}function yi(s,t){if(s===t)return!0;const i=os(s);if(i!==os(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ml(s).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ss(l.timestampValue),p=ss(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return as(l.bytesValue).isEqual(as(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return de(l.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return de(l.integerValue)===de(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=de(l.doubleValue),p=de(c.doubleValue);return d===p?Fc(d)===Fc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return eo(s.arrayValue.values||[],t.arrayValue.values||[],yi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(ov(d)!==ov(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!yi(d[y],p[y])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function Ul(s,t){return(s.values||[]).find((i=>yi(i,t)))!==void 0}function no(s,t){if(s===t)return 0;const i=os(s),a=os(t);if(i!==a)return Rt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=de(c.integerValue||c.doubleValue),y=de(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return uv(s.timestampValue,t.timestampValue);case 4:return uv(Ml(s),Ml(t));case 5:return im(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=as(c),y=as(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const A=Rt(p[v],y[v]);if(A!==0)return A}return Rt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Rt(de(c.latitude),de(d.latitude));return p!==0?p:Rt(de(c.longitude),de(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return cv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){var p,y,v,A;const b=c.fields||{},N=d.fields||{},q=(p=b[Qc])===null||p===void 0?void 0:p.arrayValue,J=(y=N[Qc])===null||y===void 0?void 0:y.arrayValue,et=Rt(((v=q?.values)===null||v===void 0?void 0:v.length)||0,((A=J?.values)===null||A===void 0?void 0:A.length)||0);return et!==0?et:cv(q,J)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const N=im(y[b],A[b]);if(N!==0)return N;const q=no(p[y[b]],v[A[b]]);if(q!==0)return q}return Rt(y.length,A.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{le:i})}}function uv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Rt(s,t);const i=ss(s),a=ss(t),l=Rt(i.seconds,a.seconds);return l!==0?l:Rt(i.nanos,a.nanos)}function cv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=no(i[l],a[l]);if(c)return c}return Rt(i.length,a.length)}function io(s){return rm(s)}function rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ss(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return as(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(s.mapValue):pt(61005,{value:s})}function Vc(s){switch(os(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(s);return t?16+Vc(t):16;case 5:return 2*s.stringValue.length;case 6:return as(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return cs(a.fields,((c,d)=>{l+=c.length+Vc(d)})),l})(s.mapValue);default:throw pt(13486,{value:s})}}function sm(s){return!!s&&"integerValue"in s}function Vm(s){return!!s&&"arrayValue"in s}function hv(s){return!!s&&"nullValue"in s}function fv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Mc(s){return!!s&&"mapValue"in s}function Mb(s){var t,i;return((i=(((t=s?.mapValue)===null||t===void 0?void 0:t.fields)||{})[G0])===null||i===void 0?void 0:i.stringValue)===Q0}function Rl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return cs(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Rl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(s.arrayValue.values[i]);return t}return Object.assign({},s)}function xb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Vb}class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Mc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Rl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){cs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new pn(Rl(this.value))}}function K0(s){const t=[];return cs(s.fields,((i,a)=>{const l=new Fe([i]);if(Mc(a)){const c=K0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new wn(t)}class Je{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),pn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,_t.min(),_t.min(),pn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,_t.min(),_t.min(),pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kc{constructor(t,i){this.position=t,this.inclusive=i}}function dv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=no(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function mv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!yi(s.position[i],t.position[i]))return!1;return!0}class Yc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Ub(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class Y0{}class we extends Y0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Lb(t,i,a):i==="array-contains"?new jb(t,a):i==="in"?new Bb(t,a):i==="not-in"?new qb(t,a):i==="array-contains-any"?new Hb(t,a):new we(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Pb(t,a):new zb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&os(this.value)===os(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends Y0{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new _i(t,i)}matches(t){return X0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function X0(s){return s.op==="and"}function Z0(s){return kb(s)&&X0(s)}function kb(s){for(const t of s.filters)if(t instanceof _i)return!1;return!0}function am(s){if(s instanceof we)return s.field.canonicalString()+s.op.toString()+io(s.value);if(Z0(s))return s.filters.map((t=>am(t))).join(",");{const t=s.filters.map((i=>am(i))).join(",");return`${s.op}(${t})`}}function J0(s,t){return s instanceof we?(function(a,l){return l instanceof we&&a.op===l.op&&a.field.isEqual(l.field)&&yi(a.value,l.value)})(s,t):s instanceof _i?(function(a,l){return l instanceof _i&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&J0(d,l.filters[p])),!0):!1})(s,t):void pt(19439)}function $0(s){return s instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(s):s instanceof _i?(function(i){return i.op.toString()+" {"+i.getFilters().map($0).join(" ,")+"}"})(s):"Filter"}class Lb extends we{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Pb extends we{constructor(t,i){super(t,"in",i),this.keys=W0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class zb extends we{constructor(t,i){super(t,"not-in",i),this.keys=W0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function W0(s,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>dt.fromName(a.referenceValue)))}class jb extends we{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&Ul(i.arrayValue,this.value)}}class Bb extends we{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class qb extends we{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class Hb extends we{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class Fb{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Pe=null}}function pv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new Fb(s,t,i,a,l,c,d)}function Mm(s){const t=Tt(s);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>am(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>io(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>io(a))).join(",")),t.Pe=i}return t.Pe}function xm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Ub(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!J0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!mv(s.startAt,t.startAt)&&mv(s.endAt,t.endAt)}function om(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class fh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Gb(s,t,i,a,l,c,d,p){return new fh(s,t,i,a,l,c,d,p)}function dh(s){return new fh(s)}function gv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Qb(s){return s.collectionGroup!==null}function Il(s){const t=Tt(s);if(t.Te===null){t.Te=[];const i=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Re(Fe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Te.push(new Yc(c,a))})),i.has(Fe.keyField().canonicalString())||t.Te.push(new Yc(Fe.keyField(),a))}return t.Te}function ci(s){const t=Tt(s);return t.Ie||(t.Ie=Kb(t,Il(s))),t.Ie}function Kb(s,t){if(s.limitType==="F")return pv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Yc(l.field,c)}));const i=s.endAt?new Kc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Kc(s.startAt.position,s.startAt.inclusive):null;return pv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function lm(s,t,i){return new fh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function mh(s,t){return xm(ci(s),ci(t))&&s.limitType===t.limitType}function tE(s){return`${Mm(ci(s))}|lt:${s.limitType}`}function Ga(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>$0(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${a})`})(ci(s))}; limitType=${s.limitType})`}function ph(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const v=dv(d,p,y);return d.inclusive?v<=0:v<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,p,y){const v=dv(d,p,y);return d.inclusive?v>=0:v>0})(a.endAt,Il(a),l))})(s,t)}function Yb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function eE(s){return(t,i)=>{let a=!1;for(const l of Il(s)){const c=Xb(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Xb(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?no(y,v):pt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}class $s{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){cs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return z0(this.inner)}size(){return this.innerSize}}const Zb=new se(dt.comparator);function Ji(){return Zb}const nE=new se(dt.comparator);function Al(...s){let t=nE;for(const i of s)t=t.insert(i.key,i);return t}function iE(s){let t=nE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Qs(){return Cl()}function rE(){return Cl()}function Cl(){return new $s((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Jb=new se(dt.comparator),$b=new Re(dt.comparator);function Mt(...s){let t=$b;for(const i of s)t=t.add(i);return t}const Wb=new Re(Rt);function tw(){return Wb}function Um(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function sE(s){return{integerValue:""+s}}function ew(s,t){return Ib(t)?sE(t):Um(s,t)}class gh{constructor(){this._=void 0}}function nw(s,t,i){return s instanceof Xc?(function(l,c){const d={fields:{[q0]:{stringValue:B0},[F0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Om(c)&&(c=hh(c)),c&&(d.fields[H0]=c),{mapValue:d}})(i,t):s instanceof ro?oE(s,t):s instanceof kl?lE(s,t):(function(l,c){const d=aE(l,c),p=yv(d)+yv(l.Ee);return sm(d)&&sm(l.Ee)?sE(p):Um(l.serializer,p)})(s,t)}function iw(s,t,i){return s instanceof ro?oE(s,t):s instanceof kl?lE(s,t):i}function aE(s,t){return s instanceof Zc?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Xc extends gh{}class ro extends gh{constructor(t){super(),this.elements=t}}function oE(s,t){const i=uE(t);for(const a of s.elements)i.some((l=>yi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class kl extends gh{constructor(t){super(),this.elements=t}}function lE(s,t){let i=uE(t);for(const a of s.elements)i=i.filter((l=>!yi(l,a)));return{arrayValue:{values:i}}}class Zc extends gh{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function yv(s){return de(s.integerValue||s.doubleValue)}function uE(s){return Vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class rw{constructor(t,i){this.field=t,this.transform=i}}function sw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof ro&&l instanceof ro||a instanceof kl&&l instanceof kl?eo(a.elements,l.elements,yi):a instanceof Zc&&l instanceof Zc?yi(a.Ee,l.Ee):a instanceof Xc&&l instanceof Xc})(s.transform,t.transform)}class aw{constructor(t,i){this.version=t,this.transformResults=i}}class hi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class yh{}function cE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new fE(s.key,hi.none()):new Bl(s.key,s.data,hi.none());{const i=s.data,a=pn.empty();let l=new Re(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new hs(s.key,a,new wn(l.toArray()),hi.none())}}function ow(s,t,i){s instanceof Bl?(function(l,c,d){const p=l.value.clone(),y=vv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof hs?(function(l,c,d){if(!xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=vv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(hE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(s,t,i,a){return s instanceof Bl?(function(c,d,p,y){if(!xc(c.precondition,d))return p;const v=c.value.clone(),A=Ev(c.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,t,i,a):s instanceof hs?(function(c,d,p,y){if(!xc(c.precondition,d))return p;const v=Ev(c.fieldTransforms,y,d),A=d.data;return A.setAll(hE(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,p){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function lw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=aE(a.transform,l||null);c!=null&&(i===null&&(i=pn.empty()),i.set(a.field,c))}return i||null}function _v(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&eo(a,l,((c,d)=>sw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Bl extends yh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hs extends yh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function vv(s,t,i){const a=new Map;Gt(s.length===i.length,32656,{Ae:i.length,Re:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,iw(d,p,i[l]))}return a}function Ev(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,nw(c,d,t))}return a}class fE extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uw extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&ow(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=rE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=cE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,a)=>_v(i,a)))&&eo(this.baseMutations,t.baseMutations,((i,a)=>_v(i,a)))}}class km{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{Ve:t.mutations.length,me:a.length});let l=(function(){return Jb})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new km(t,i,a,l)}}class hw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fw{constructor(t,i){this.count=t,this.unchangedNames=i}}var ve,kt;function dw(s){switch(s){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function dE(s){if(s===void 0)return Zi("GRPC error has no .code"),$.UNKNOWN;switch(s){case ve.OK:return $.OK;case ve.CANCELLED:return $.CANCELLED;case ve.UNKNOWN:return $.UNKNOWN;case ve.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ve.INTERNAL:return $.INTERNAL;case ve.UNAVAILABLE:return $.UNAVAILABLE;case ve.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ve.NOT_FOUND:return $.NOT_FOUND;case ve.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ve.ABORTED:return $.ABORTED;case ve.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ve.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:s})}}(kt=ve||(ve={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";const mw=new ts([4294967295,4294967295],0);function Tv(s){const t=k0().encode(s),i=new C0;return i.update(t),new Uint8Array(i.digest())}function Av(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ts([i,a],0),new ts([l,c],0)]}class Lm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(a<0)throw new Sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=ts.fromNumber(this.fe)}pe(t,i,a){let l=t.add(i.multiply(ts.fromNumber(a)));return l.compare(mw)===1&&(l=new ts([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=Tv(t),[a,l]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(a,l,c);if(!this.ye(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Lm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.fe===0)return;const i=Tv(t),[a,l]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(a,l,c);this.we(d)}}we(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new _h(_t.min(),l,new se(Rt),Ji(),Mt())}}class ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new ql(a,i,Mt(),Mt(),Mt())}}class Uc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.be=l}}class mE{constructor(t,i){this.targetId=t,this.De=i}}class pE{constructor(t,i,a=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Sv{constructor(){this.ve=0,this.Ce=bv(),this.Fe=Ge.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Mt(),i=Mt(),a=Mt();return this.Ce.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new ql(this.Fe,this.Me,t,i,a)}ke(){this.xe=!1,this.Ce=bv()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class pw{constructor(t){this.We=t,this.Ge=new Map,this.ze=Ji(),this.je=Cc(),this.Je=Cc(),this.He=new se(Rt)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,(i=>{const a=this.tt(i);switch(t.state){case 0:this.nt(i)&&a.Be(t.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(t.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(a.Ke(),a.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),a.Be(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach(((a,l)=>{this.nt(l)&&i(l)}))}it(t){const i=t.targetId,a=t.De.count,l=this.st(i);if(l){const c=l.target;if(om(c))if(a===0){const d=new dt(c.path);this.Xe(i,d,Je.newNoDocument(d,_t.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this.ot(i);if(d!==a){const p=this._t(t),y=p?this.ut(p,t,d):1;if(y!==0){this.rt(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=as(a).toUint8Array()}catch(y){if(y instanceof j0)return is("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Lm(d,l,c)}catch(y){return is(y instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.fe===0?null:p}ut(t,i,a){return i.De.count===a-this.ht(t,i.targetId)?0:2}ht(t,i){const a=this.We.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.We.lt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.Xe(i,c,null),l++)})),l}Pt(t){const i=new Map;this.Ge.forEach(((c,d)=>{const p=this.st(d);if(p){if(c.current&&om(p.target)){const y=new dt(p.target.path);this.Tt(y).has(d)||this.It(d,y)||this.Xe(d,y,Je.newNoDocument(y,t))}c.Ne&&(i.set(d,c.Le()),c.ke())}}));let a=Mt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.st(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.ze.forEach(((c,d)=>d.setReadTime(t)));const l=new _h(t,i,this.He,this.ze,a);return this.ze=Ji(),this.je=Cc(),this.Je=Cc(),this.He=new se(Rt),l}Ze(t,i){if(!this.nt(t))return;const a=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,a),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,a){if(!this.nt(t))return;const l=this.tt(t);this.It(t,i)?l.qe(i,1):l.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),a&&(this.ze=this.ze.insert(i,a))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new Sv,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new Re(Rt),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new Re(Rt),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Sv),this.We.getRemoteKeysForTarget(t).forEach((i=>{this.Xe(t,i,null)}))}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new se(dt.comparator)}function bv(){return new se(dt.comparator)}const gw={asc:"ASCENDING",desc:"DESCENDING"},yw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_w={and:"AND",or:"OR"};class vw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(s,t){return s.useProto3Json||ch(t)?t:{value:t}}function Jc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Ew(s,t){return Jc(s,t.toTimestamp())}function fi(s){return Gt(!!s,49232),_t.fromTimestamp((function(i){const a=ss(i);return new ee(a.seconds,a.nanos)})(s))}function Pm(s,t){return cm(s,t).canonicalString()}function cm(s,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function yE(s){const t=re.fromString(s);return Gt(AE(t),10190,{key:t.toString()}),t}function hm(s,t){return Pm(s.databaseId,t.path)}function Fd(s,t){const i=yE(t);if(i.get(1)!==s.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(vE(i))}function _E(s,t){return Pm(s.databaseId,t)}function Tw(s){const t=yE(s);return t.length===4?re.emptyPath():vE(t)}function fm(s){return new re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function vE(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function wv(s,t,i){return{name:hm(s,t),fields:i.value.mapValue.fields}}function Aw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?$.UNKNOWN:dE(v.code);return new ot(A,v.message||"")})(d);i=new pE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Fd(s,a.document.name),c=fi(a.document.updateTime),d=a.document.createTime?fi(a.document.createTime):_t.min(),p=new pn({mapValue:{fields:a.document.fields}}),y=Je.newFoundDocument(l,c,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Uc(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Fd(s,a.document),c=a.readTime?fi(a.readTime):_t.min(),d=Je.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Uc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Fd(s,a.document),c=a.removedTargetIds||[];i=new Uc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{At:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new fw(l,c),p=a.targetId;i=new mE(p,d)}}return i}function Sw(s,t){let i;if(t instanceof Bl)i={update:wv(s,t.key,t.value)};else if(t instanceof fE)i={delete:hm(s,t.key)};else if(t instanceof hs)i={update:wv(s,t.key,t.data),updateMask:Vw(t.fieldMask)};else{if(!(t instanceof uw))return pt(16599,{Rt:t.type});i={verify:hm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Xc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zc)return{fieldPath:d.field.canonicalString(),increment:p.Ee};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Ew(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(s,t.precondition)),i}function bw(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?fi(l.updateTime):fi(c);return d.isEqual(_t.min())&&(d=fi(c)),new aw(d,l.transformResults||[])})(i,t)))):[]}function ww(s,t){return{documents:[_E(s,t.path)]}}function Rw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=_E(s,l);const c=(function(v){if(v.length!==0)return TE(_i.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(N){return{field:Qa(N.field),direction:Nw(N.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=um(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{Vt:i,parent:l}}function Iw(s){let t=Tw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const N=EE(b);return N instanceof _i&&Z0(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((N=>(function(J){return new Yc(Ka(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let N;return N=typeof b=="object"?b.value:b,ch(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(b){const N=!!b.before,q=b.values||[];return new Kc(q,N)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const N=!b.before,q=b.values||[];return new Kc(q,N)})(i.endAt)),Gb(t,l,d,c,p,"F",y,v)}function Cw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function EE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ka(i.unaryFilter.field);return we.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return we.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return we.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return we.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return _i.create(i.compositeFilter.filters.map((a=>EE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(s):pt(30097,{filter:s})}function Nw(s){return gw[s]}function Dw(s){return yw[s]}function Ow(s){return _w[s]}function Qa(s){return{fieldPath:s.canonicalString()}}function Ka(s){return Fe.fromServerFormat(s.fieldPath)}function TE(s){return s instanceof we?(function(i){if(i.op==="=="){if(fv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NAN"}};if(hv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(fv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NAN"}};if(hv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(i.field),op:Dw(i.op),value:i.value}}})(s):s instanceof _i?(function(i){const a=i.getFilters().map((l=>TE(l)));return a.length===1?a[0]:{compositeFilter:{op:Ow(i.op),filters:a}}})(s):pt(54877,{filter:s})}function Vw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function AE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Zr{constructor(t,i,a,l,c=_t.min(),d=_t.min(),p=Ge.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Mw{constructor(t){this.gt=t}}function xw(s){const t=Iw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?lm(t,t.limit,"L"):t}class Uw{constructor(){this.Dn=new kw}addToCollectionParentIndex(t,i){return this.Dn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(rs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(rs.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class kw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Re(re.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Re(re.comparator)).toArray()}}const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(SE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class so{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new so(0)}static ur(){return new so(-1)}}const Iv="LruGarbageCollector",Lw=1048576;function Cv([s,t],[i,a]){const l=Rt(s,i);return l===0?Rt(t,a):l}class Pw{constructor(t){this.Tr=t,this.buffer=new Re(Cv),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Cv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class zw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){it(Iv,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?it(Iv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Rr(3e5)}))}}class jw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(uh.ue);const a=new Pw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.gr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Rv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.pr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let a,l,c,d,p,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(v=Date.now(),Fa()<=Vt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Bw(s,t){return new jw(s,t)}class qw{constructor(){this.changes=new $s((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Hw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Fw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,wn.empty(),ee.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Qs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Al();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Qs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Ji();const d=Cl(),p=(function(){return Cl()})();return i.forEach(((y,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof hs)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Nl(A.mutation,v,A.mutation.getFieldMask(),ee.now())):d.set(v.key,wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>{var b;return p.set(v,new Hw(A,(b=d.get(v))!==null&&b!==void 0?b:null))})),p)))}recalculateAndSaveOverlays(t,i){const a=Cl();let l=new se(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let A=a.get(y)||wn.empty();A=p.applyToLocalView(v,A),a.set(y,A);const b=(l.get(p.batchId)||Mt()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,A=y.value,b=rE();A.forEach((N=>{if(!c.has(N)){const q=cE(i.get(N),a.get(N));q!==null&&b.set(N,q),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Qb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Qs());let p=Vl,y=c;return d.next((v=>X.forEach(v,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{y=y.insert(A,N)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,Mt()))).next((A=>({batchId:p,changes:iE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=Al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const v=(function(b,N){return new fh(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((A=>{A.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=Al();return d.forEach(((y,v)=>{const A=c.get(y);A!==void 0&&Nl(A.mutation,v,wn.empty(),ee.now()),ph(i,v)&&(p=p.insert(y,v))})),p}))}}class Gw{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return X.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:fi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,(function(l){return{name:l.name,query:xw(l.bundledQuery),readTime:fi(l.readTime)}})(i)),X.resolve()}}class Qw{constructor(){this.overlays=new se(dt.comparator),this.kr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Qs();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.wt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.kr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.kr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Qs(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new se(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=Qs(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Qs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=l)););return X.resolve(p)}wt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.kr.get(l.largestBatchId).delete(a.key);this.kr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new hw(i,a));let c=this.kr.get(i);c===void 0&&(c=Mt(),this.kr.set(i,c)),this.kr.set(i,c.add(a.key))}}class Kw{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class zm{constructor(){this.qr=new Re(Me.Qr),this.$r=new Re(Me.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const a=new Me(t,i);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Me(t,i))}Gr(t,i){t.forEach((a=>this.removeReference(a,i)))}zr(t){const i=new dt(new re([])),a=new Me(i,t),l=new Me(i,t+1),c=[];return this.$r.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new dt(new re([])),a=new Me(i,t),l=new Me(i,t+1);let c=Mt();return this.$r.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Me(t,0),a=this.qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Me{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return dt.comparator(t.key,i.key)||Rt(t.Hr,i.Hr)}static Ur(t,i){return Rt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class Yw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Re(Me.Qr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Yr=this.Yr.add(new Me(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Dm:this.er-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Me(i,0),l=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Re(Rt);return i.forEach((l=>{const c=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Me(new dt(c),0);let p=new Re(Rt);return this.Yr.forEachWhile((y=>{const v=y.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(p=p.add(y.Hr)),!0)}),d),X.resolve(this.ei(p))}ei(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return X.forEach(i.mutations,(l=>{const c=new Me(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Yr=a}))}rr(t){}containsKey(t,i){const a=new Me(i,0),l=this.Yr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Xw{constructor(t){this.ni=t,this.docs=(function(){return new se(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ni(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=Ji();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Ji();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Sb(Ab(A),a)<=0||(l.has(A.key)||ph(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ri(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Zw(this)}getSize(t){return X.resolve(this.size)}}class Zw extends qw{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Or.addEntry(t,l)):this.Or.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}class Jw{constructor(t){this.persistence=t,this.ii=new $s((i=>Mm(i)),xm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.si=0,this.oi=new zm,this.targetCount=0,this._i=so.ar()}forEachTarget(t,i){return this.ii.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.si&&(this.si=i),X.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new so(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.hr(i),X.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ii.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ii.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.oi.Kr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.oi.Gr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.oi.Jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.oi.containsKey(i))}}class bE{constructor(t,i){this.ai={},this.overlays={},this.ui=new uh(0),this.ci=!1,this.ci=!0,this.li=new Kw,this.referenceDelegate=t(this),this.hi=new Jw(this),this.indexManager=new Uw,this.remoteDocumentCache=(function(l){return new Xw(l)})((a=>this.referenceDelegate.Pi(a))),this.serializer=new Mw(i),this.Ti=new Gw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Qw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ai[t.toKey()];return a||(a=new Yw(i,this.referenceDelegate),this.ai[t.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new $w(this.ui.next());return this.referenceDelegate.Ii(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this.ai).map((a=>()=>a.containsKey(t,i))))}}class $w extends wb{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ai=new zm,this.Ri=null}static Vi(t){return new jm(t)}get mi(){if(this.Ri)return this.Ri;throw pt(60996)}addReference(t,i,a){return this.Ai.addReference(a,i),this.mi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ai.removeReference(a,i),this.mi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach((l=>this.mi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.mi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.mi,(a=>{const l=dt.fromPath(a);return this.fi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Ri=null,i.apply(t))))}updateLimboDocument(t,i){return this.fi(t,i).next((a=>{a?this.mi.delete(i.toString()):this.mi.add(i.toString())}))}Pi(t){return 0}fi(t,i){return X.or([()=>X.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class $c{constructor(t,i){this.persistence=t,this.gi=new $s((a=>Cb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Bw(this,i)}static Vi(t,i){return new $c(t,i)}Ii(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}yr(t){let i=0;return this.gr(t,(a=>{i++})).next((()=>i))}gr(t,i){return X.forEach(this.gi,((a,l)=>this.Sr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ri(t,(d=>this.Sr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.gi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.gi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),X.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}Sr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.gi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Bm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Is=a,this.ds=l}static Es(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bm(t,i.fromCache,a,l)}}class Ww{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class tR{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return FA()?8:Rb($e())>0?6:4})()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ps(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ys(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Ww;return this.ws(t,i,d).next((p=>{if(c.result=p,this.Rs)return this.Ss(t,i,d,p.size)}))})).next((()=>c.result))}Ss(t,i,a,l){return a.documentReadCount<this.Vs?(Fa()<=Vt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Fa()<=Vt.DEBUG&&it("QueryEngine","Query:",Ga(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.fs*l?(Fa()<=Vt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ci(i))):X.resolve())}ps(t,i){if(gv(i))return X.resolve(null);let a=ci(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=lm(i,null,"F"),a=ci(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.gs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const v=this.bs(i,p);return this.Ds(i,v,d,y.readTime)?this.ps(t,lm(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ys(t,i,a,l){return gv(i)||l.isEqual(_t.min())?X.resolve(null):this.gs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ds(i,d,a,l)?X.resolve(null):(Fa()<=Vt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.vs(t,d,i,Tb(l,Vl)).next((p=>p)))}))}bs(t,i){let a=new Re(eE(t));return i.forEach(((l,c)=>{ph(t,c)&&(a=a.add(c))})),a}Ds(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ws(t,i,a){return Fa()<=Vt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.gs.getDocumentsMatchingQuery(t,i,rs.min(),a)}vs(t,i,a,l){return this.gs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const qm="LocalStore",eR=3e8;class nR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.Fs=new se(Rt),this.Ms=new $s((c=>Mm(c)),xm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(a)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Fs)))}}function iR(s,t,i,a){return new nR(s,t,i,a)}async function wE(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Ns(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Mt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((v=>({Bs:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function rR(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,A){const b=v.batch,N=b.keys();let q=X.resolve();return N.forEach((J=>{q=q.next((()=>A.getEntry(y,J))).next((et=>{const Z=v.docVersions.get(J);Gt(Z!==null,48541),et.version.compareTo(Z)<0&&(b.applyToRemoteDocument(et,v),et.isValidDocument()&&(et.setReadTime(v.commitVersion),A.addEntry(et)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Mt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function RE(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.hi.getLastRemoteSnapshotVersion(i)))}function sR(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});l=i.Fs;const p=[];t.targetChanges.forEach(((A,b)=>{const N=l.get(b);if(!N)return;p.push(i.hi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.hi.addMatchingKeys(c,A.addedDocuments,b))));let q=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?q=q.withResumeToken(Ge.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,a)),l=l.insert(b,q),(function(et,Z,lt){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=eR?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(N,q,A)&&p.push(i.hi.updateTargetData(c,q))}));let y=Ji(),v=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(aR(c,d,t.documentUpdates).next((A=>{y=A.Ls,v=A.ks}))),!a.isEqual(_t.min())){const A=i.hi.getLastRemoteSnapshotVersion(c).next((b=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Fs=l,c)))}function aR(s,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=Ji();return i.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):it(qm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{Ls:d,ks:l}}))}function oR(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Dm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function lR(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.hi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.hi.allocateTargetId(a).next((d=>(l=new Zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.hi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Fs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(a.targetId,a),i.Ms.set(t,a.targetId)),a}))}async function dm(s,t,i){const a=Tt(s),l=a.Fs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;it(qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Fs=a.Fs.remove(t),a.Ms.delete(l.target)}function Nv(s,t,i){const a=Tt(s);let l=_t.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,A){const b=Tt(y),N=b.Ms.get(A);return N!==void 0?X.resolve(b.Fs.get(N)):b.hi.getTargetData(v,A)})(a,d,ci(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Mt()))).next((p=>(uR(a,Yb(t),p),{documents:p,qs:c})))))}function uR(s,t,i){let a=s.xs.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.xs.set(t,a)}class Dv{constructor(){this.activeTargetIds=tw()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cR{constructor(){this.Fo=new Dv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,a){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new Dv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hR{xo(t){}shutdown(){}}const Ov="ConnectivityMonitor";class Vv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){it(Ov,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){it(Ov,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function mm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Gd="RestConnection",fR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dR{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.Ko=this.databaseId.database===Gc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=mm(),p=this.Go(t,i.toUriEncodedString());it(Gd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,l,c);const{host:v}=new URL(p),A=uo(v);return this.jo(t,p,y,a,A).then((b=>(it(Gd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw is(Gd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}zo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Go(t,i){const a=fR[t];return`${this.$o}/v1/${i}:${a}`}terminate(){}}class mR{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}const Xe="WebChannelConnection";class pR extends dR{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,a,l,c){const d=mm();return new Promise(((p,y)=>{const v=new N0;v.setWithCredentials(!0),v.listenOnce(D0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Oc.NO_ERROR:const b=v.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Oc.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),y(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const N=v.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const J=q?.error;if(J&&J.status&&J.message){const et=(function(lt){const ct=lt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ct)>=0?ct:$.UNKNOWN})(J.status);y(new ot(et,J.message))}else y(new ot($.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ot($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{c_:t,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Xe,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,a,15)}))}P_(t,i,a){const l=mm(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=M0(),p=V0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");it(Xe,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.T_(b);let N=!1,q=!1;const J=new mR({Ho:Z=>{q?it(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(N||(it(Xe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),N=!0),it(Xe,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Yo:()=>b.close()}),et=(Z,lt,ct)=>{Z.listen(lt,(ut=>{try{ct(ut)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return et(b,Tl.EventType.OPEN,(()=>{q||(it(Xe,`RPC '${t}' stream ${l} transport opened.`),J.s_())})),et(b,Tl.EventType.CLOSE,(()=>{q||(q=!0,it(Xe,`RPC '${t}' stream ${l} transport closed`),J.__(),this.I_(b))})),et(b,Tl.EventType.ERROR,(Z=>{q||(q=!0,is(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.__(new ot($.UNAVAILABLE,"The operation could not be completed")))})),et(b,Tl.EventType.MESSAGE,(Z=>{var lt;if(!q){const ct=Z.data[0];Gt(!!ct,16349);const ut=ct,vt=ut?.error||((lt=ut[0])===null||lt===void 0?void 0:lt.error);if(vt){it(Xe,`RPC '${t}' stream ${l} received error:`,vt);const qt=vt.status;let It=(function(S){const C=ve[S];if(C!==void 0)return dE(C)})(qt),D=vt.message;It===void 0&&(It=$.INTERNAL,D="Unknown error status: "+qt+" with message "+vt.message),q=!0,J.__(new ot(It,D)),b.close()}else it(Xe,`RPC '${t}' stream ${l} received:`,ct),J.a_(ct)}})),et(p,O0.STAT_EVENT,(Z=>{Z.stat===nm.PROXY?it(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===nm.NOPROXY&&it(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.o_()}),0),J}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function vh(s){return new vw(s,!0)}class IE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Fi=t,this.timerId=i,this.d_=a,this.E_=l,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Mv="PersistentStream";class CE{constructor(t,i,a,l,c,d,p,y){this.Fi=t,this.w_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new IE(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.b_===i&&this.W_(a,l)}),(a=>{t((()=>{const l=new ot($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(l)}))}))}W_(t,i){const a=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.e_((()=>{a((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((l=>{a((()=>this.G_(l)))})),this.stream.onMessage((l=>{a((()=>++this.C_==1?this.j_(l):this.onNext(l)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return it(Mv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget((()=>this.b_===t?i():(it(Mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gR extends CE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=Aw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?fi(d.readTime):_t.min()})(t);return this.listener.J_(i,a)}H_(t){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=om(y)?{documents:ww(c,y)}:{query:Rw(c,y).Vt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=gE(c,d.resumeToken);const v=um(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Jc(c,d.snapshotVersion.toTimestamp());const v=um(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const a=Cw(this.serializer,t);a&&(i.labels=a),this.k_(i)}Y_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.k_(i)}}class yR extends CE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=bw(t.writeResults,t.commitTime),a=fi(t.commitTime);return this.listener.ta(a,i)}na(){const t={};t.database=fm(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Sw(this.serializer,a)))};this.k_(i)}}class _R{}class vR extends _R{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,cm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($.UNKNOWN,c.toString())}))}Jo(t,i,a,l,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Jo(t,cm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class ER{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Zi(i),this._a=!1):it("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}const Zs="RemoteStore";class TR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo((d=>{a.enqueueAndForget((async()=>{Ws(this)&&(it(Zs,"Restarting streams for network reachability change."),await(async function(y){const v=Tt(y);v.Ia.add(4),await Hl(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Eh(v)})(this))}))})),this.Aa=new ER(a,l)}}async function Eh(s){if(Ws(s))for(const t of s.da)await t(!0)}async function Hl(s){for(const t of s.da)await t(!1)}function NE(s,t){const i=Tt(s);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),Qm(i)?Gm(i):po(i).x_()&&Fm(i,t))}function Hm(s,t){const i=Tt(s),a=po(i);i.Ta.delete(t),a.x_()&&DE(i,t),i.Ta.size===0&&(a.x_()?a.B_():Ws(i)&&i.Aa.set("Unknown"))}function Fm(s,t){if(s.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(s).H_(t)}function DE(s,t){s.Ra.$e(t),po(s).Y_(t)}function Gm(s){s.Ra=new pw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>s.Ta.get(t)||null,lt:()=>s.datastore.serializer.databaseId}),po(s).start(),s.Aa.aa()}function Qm(s){return Ws(s)&&!po(s).M_()&&s.Ta.size>0}function Ws(s){return Tt(s).Ia.size===0}function OE(s){s.Ra=void 0}async function AR(s){s.Aa.set("Online")}async function SR(s){s.Ta.forEach(((t,i)=>{Fm(s,t)}))}async function bR(s,t){OE(s),Qm(s)?(s.Aa.la(t),Gm(s)):s.Aa.set("Unknown")}async function wR(s,t,i){if(s.Aa.set("Online"),t instanceof pE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ta.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ta.delete(p),l.Ra.removeTarget(p))})(s,t)}catch(a){it(Zs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Wc(s,a)}else if(t instanceof Uc?s.Ra.Ye(t):t instanceof mE?s.Ra.it(t):s.Ra.et(t),!i.isEqual(_t.min()))try{const a=await RE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Ra.Pt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ta.get(v);A&&c.Ta.set(v,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const A=c.Ta.get(y);if(!A)return;c.Ta.set(y,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),DE(c,y);const b=new Zr(A.target,y,v,A.sequenceNumber);Fm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){it(Zs,"Failed to raise snapshot:",a),await Wc(s,a)}}async function Wc(s,t,i){if(!mo(t))throw t;s.Ia.add(1),await Hl(s),s.Aa.set("Offline"),i||(i=()=>RE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Zs,"Retrying IndexedDB access"),await i(),s.Ia.delete(1),await Eh(s)}))}function VE(s,t){return t().catch((i=>Wc(s,i,t)))}async function Th(s){const t=Tt(s),i=ls(t);let a=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Dm;for(;RR(t);)try{const l=await oR(t.localStore,a);if(l===null){t.Pa.length===0&&i.B_();break}a=l.batchId,IR(t,l)}catch(l){await Wc(t,l)}ME(t)&&xE(t)}function RR(s){return Ws(s)&&s.Pa.length<10}function IR(s,t){s.Pa.push(t);const i=ls(s);i.x_()&&i.Z_&&i.X_(t.mutations)}function ME(s){return Ws(s)&&!ls(s).M_()&&s.Pa.length>0}function xE(s){ls(s).start()}async function CR(s){ls(s).na()}async function NR(s){const t=ls(s);for(const i of s.Pa)t.X_(i.mutations)}async function DR(s,t,i){const a=s.Pa.shift(),l=km.from(a,t,i);await VE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Th(s)}async function OR(s,t){t&&ls(s).Z_&&await(async function(a,l){if((function(d){return dw(d)&&d!==$.ABORTED})(l.code)){const c=a.Pa.shift();ls(a).N_(),await VE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Th(a)}})(s,t),ME(s)&&xE(s)}async function xv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),it(Zs,"RemoteStore received new credentials");const a=Ws(i);i.Ia.add(3),await Hl(i),a&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await Eh(i)}async function VR(s,t){const i=Tt(s);t?(i.Ia.delete(2),await Eh(i)):t||(i.Ia.add(2),await Hl(i),i.Aa.set("Unknown"))}function po(s){return s.Va||(s.Va=(function(i,a,l){const c=Tt(i);return c.ia(),new gR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:AR.bind(null,s),e_:SR.bind(null,s),n_:bR.bind(null,s),J_:wR.bind(null,s)}),s.da.push((async t=>{t?(s.Va.N_(),Qm(s)?Gm(s):s.Aa.set("Unknown")):(await s.Va.stop(),OE(s))}))),s.Va}function ls(s){return s.ma||(s.ma=(function(i,a,l){const c=Tt(i);return c.ia(),new yR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:CR.bind(null,s),n_:OR.bind(null,s),ea:NR.bind(null,s),ta:DR.bind(null,s)}),s.da.push((async t=>{t?(s.ma.N_(),await Th(s)):(await s.ma.stop(),s.Pa.length>0&&(it(Zs,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))}))),s.ma}class Km{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Km(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(s,t){if(Zi("AsyncQueue",`${t}: ${s}`),mo(s))return new ot($.UNAVAILABLE,`${t}: ${s}`);throw s}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Al(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Xa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Uv{constructor(){this.fa=new se(dt.comparator)}track(t){const i=t.doc.key,a=this.fa.get(i);a?t.type!==0&&a.type===3?this.fa=this.fa.insert(i,t):t.type===3&&a.type!==1?this.fa=this.fa.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.fa=this.fa.remove(i):t.type===1&&a.type===2?this.fa=this.fa.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):pt(63341,{At:t,ga:a}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ao{constructor(t,i,a,l,c,d,p,y,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ao(t,i,Xa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class MR{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class xR{constructor(){this.queries=kv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=kv(),c.forEach(((d,p)=>{for(const y of p.wa)y.onError(a)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function kv(){return new $s((s=>tE(s)),mh)}async function UE(s,t){const i=Tt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.ba()&&(a=2):(c=new MR,a=t.ba()?0:1);try{switch(a){case 0:c.ya=await i.onListen(l,!0);break;case 1:c.ya=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Ym(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.wa.push(t),t.va(i.onlineState),c.ya&&t.Ca(c.ya)&&Xm(i)}async function kE(s,t){const i=Tt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.wa.indexOf(t);d>=0&&(c.wa.splice(d,1),c.wa.length===0?l=t.ba()?0:1:!c.Sa()&&t.ba()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function UR(s,t){const i=Tt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.wa)p.Ca(l)&&(a=!0);d.ya=l}}a&&Xm(i)}function kR(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const c of l.wa)c.onError(i);a.queries.delete(t)}function Xm(s){s.Da.forEach((t=>{t.next()}))}var pm,Lv;(Lv=pm||(pm={})).Fa="default",Lv.Cache="cache";class LE{constructor(t,i,a){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ao(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const a=i!=="Offline";return(!this.options.ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==pm.Cache}}class PE{constructor(t){this.key=t}}class zE{constructor(t){this.key=t}}class LR{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Mt(),this.mutatedKeys=Mt(),this.Xa=eE(t),this.eu=new Xa(this.Xa)}get tu(){return this.Ha}nu(t,i){const a=i?i.ru:new Uv,l=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const N=l.get(A),q=ph(this.query,b)?b:null,J=!!N&&this.mutatedKeys.has(N.key),et=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Z=!1;N&&q?N.data.isEqual(q.data)?J!==et&&(a.track({type:3,doc:q}),Z=!0):this.iu(N,q)||(a.track({type:2,doc:q}),Z=!0,(y&&this.Xa(q,y)>0||v&&this.Xa(q,v)<0)&&(p=!0)):!N&&q?(a.track({type:0,doc:q}),Z=!0):N&&!q&&(a.track({type:1,doc:N}),Z=!0,(y||v)&&(p=!0)),Z&&(q?(d=d.add(q),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{eu:d,ru:a,Ds:p,mutatedKeys:c}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const d=t.ru.pa();d.sort(((A,b)=>(function(q,J){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{At:Z})}};return et(q)-et(J)})(A.type,b.type)||this.Xa(A.doc,b.doc))),this.su(a),l=l!=null&&l;const p=i&&!l?this.ou():[],y=this.Za.size===0&&this.current&&!l?1:0,v=y!==this.Ya;return this.Ya=y,d.length!==0||v?{snapshot:new ao(this.query,t.eu,c,d,t.mutatedKeys,y===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Uv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((i=>this.Ha=this.Ha.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ha=this.Ha.delete(i))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Mt(),this.eu.forEach((a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))}));const i=[];return t.forEach((a=>{this.Za.has(a)||i.push(new zE(a))})),this.Za.forEach((a=>{t.has(a)||i.push(new PE(a))})),i}uu(t){this.Ha=t.qs,this.Za=Mt();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return ao.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Zm="SyncEngine";class PR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class zR{constructor(t){this.key=t,this.lu=!1}}class jR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new $s((p=>tE(p)),mh),this.Tu=new Map,this.Iu=new Set,this.du=new se(dt.comparator),this.Eu=new Map,this.Au=new zm,this.Ru={},this.Vu=new Map,this.mu=so.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function BR(s,t,i=!0){const a=GE(s);let l;const c=a.Pu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.cu()):l=await jE(a,t,i,!0),l}async function qR(s,t){const i=GE(s);await jE(i,t,!0,!1)}async function jE(s,t,i,a){const l=await lR(s.localStore,ci(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await HR(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&NE(s.remoteStore,l),p}async function HR(s,t,i,a,l){s.gu=(b,N,q)=>(async function(et,Z,lt,ct){let ut=Z.view.nu(lt);ut.Ds&&(ut=await Nv(et.localStore,Z.query,!1).then((({documents:D})=>Z.view.nu(D,ut))));const vt=ct&&ct.targetChanges.get(Z.targetId),qt=ct&&ct.targetMismatches.get(Z.targetId)!=null,It=Z.view.applyChanges(ut,et.isPrimaryClient,vt,qt);return zv(et,Z.targetId,It._u),It.snapshot})(s,b,N,q);const c=await Nv(s.localStore,t,!0),d=new LR(t,c.qs),p=d.nu(c.documents),y=ql.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),v=d.applyChanges(p,s.isPrimaryClient,y);zv(s,i,v._u);const A=new PR(t,i,d);return s.Pu.set(t,A),s.Tu.has(i)?s.Tu.get(i).push(t):s.Tu.set(i,[t]),v.snapshot}async function FR(s,t,i){const a=Tt(s),l=a.Pu.get(t),c=a.Tu.get(l.targetId);if(c.length>1)return a.Tu.set(l.targetId,c.filter((d=>!mh(d,t)))),void a.Pu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await dm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Hm(a.remoteStore,l.targetId),gm(a,l.targetId)})).catch(fo)):(gm(a,l.targetId),await dm(a.localStore,l.targetId,!0))}async function GR(s,t){const i=Tt(s),a=i.Pu.get(t),l=i.Tu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Hm(i.remoteStore,a.targetId))}async function QR(s,t,i){const a=WR(s);try{const l=await(function(d,p){const y=Tt(d),v=ee.now(),A=p.reduce(((q,J)=>q.add(J.key)),Mt());let b,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let J=Ji(),et=Mt();return y.Os.getEntries(q,A).next((Z=>{J=Z,J.forEach(((lt,ct)=>{ct.isValidDocument()||(et=et.add(lt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,J))).next((Z=>{b=Z;const lt=[];for(const ct of p){const ut=lw(ct,b.get(ct.key).overlayedDocument);ut!=null&&lt.push(new hs(ct.key,ut,K0(ut.value.mapValue),hi.exists(!0)))}return y.mutationQueue.addMutationBatch(q,v,lt,p)})).next((Z=>{N=Z;const lt=Z.applyToLocalDocumentSet(b,et);return y.documentOverlayCache.saveOverlays(q,Z.batchId,lt)}))})).then((()=>({batchId:N.batchId,changes:iE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let v=d.Ru[d.currentUser.toKey()];v||(v=new se(Rt)),v=v.insert(p,y),d.Ru[d.currentUser.toKey()]=v})(a,l.batchId,i),await Fl(a,l.changes),await Th(a.remoteStore)}catch(l){const c=Ym(l,"Failed to persist write");i.reject(c)}}async function BE(s,t){const i=Tt(s);try{const a=await sR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Eu.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.lu=!0:l.modifiedDocuments.size>0?Gt(d.lu,14607):l.removedDocuments.size>0&&(Gt(d.lu,42227),d.lu=!1))})),await Fl(i,a,t)}catch(a){await fo(a)}}function Pv(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Pu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Tt(d);y.onlineState=p;let v=!1;y.queries.forEach(((A,b)=>{for(const N of b.wa)N.va(p)&&(v=!0)})),v&&Xm(y)})(a.eventManager,t),l.length&&a.hu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function KR(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Eu.get(t),c=l&&l.key;if(c){let d=new se(dt.comparator);d=d.insert(c,Je.newNoDocument(c,_t.min()));const p=Mt().add(c),y=new _h(_t.min(),new Map,new se(Rt),d,p);await BE(a,y),a.du=a.du.remove(c),a.Eu.delete(t),Jm(a)}else await dm(a.localStore,t,!1).then((()=>gm(a,t,i))).catch(fo)}async function YR(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await rR(i.localStore,t);HE(i,a,null),qE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fl(i,l)}catch(l){await fo(l)}}async function XR(s,t,i){const a=Tt(s);try{const l=await(function(d,p){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return y.mutationQueue.lookupMutationBatch(v,p).next((b=>(Gt(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(v,b)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>y.localDocuments.getDocuments(v,A)))}))})(a.localStore,t);HE(a,t,i),qE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Fl(a,l)}catch(l){await fo(l)}}function qE(s,t){(s.Vu.get(t)||[]).forEach((i=>{i.resolve()})),s.Vu.delete(t)}function HE(s,t,i){const a=Tt(s);let l=a.Ru[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Ru[a.currentUser.toKey()]=l}}function gm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Tu.get(t))s.Pu.delete(a),i&&s.hu.pu(a,i);s.Tu.delete(t),s.isPrimaryClient&&s.Au.zr(t).forEach((a=>{s.Au.containsKey(a)||FE(s,a)}))}function FE(s,t){s.Iu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Hm(s.remoteStore,i),s.du=s.du.remove(t),s.Eu.delete(i),Jm(s))}function zv(s,t,i){for(const a of i)a instanceof PE?(s.Au.addReference(a.key,t),ZR(s,a)):a instanceof zE?(it(Zm,"Document no longer in limbo: "+a.key),s.Au.removeReference(a.key,t),s.Au.containsKey(a.key)||FE(s,a.key)):pt(19791,{yu:a})}function ZR(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Iu.has(a)||(it(Zm,"New document in limbo: "+i),s.Iu.add(a),Jm(s))}function Jm(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Iu.values().next().value;s.Iu.delete(t);const i=new dt(re.fromString(t)),a=s.mu.next();s.Eu.set(a,new zR(i)),s.du=s.du.insert(i,a),NE(s.remoteStore,new Zr(ci(dh(i.path)),a,"TargetPurposeLimboResolution",uh.ue))}}async function Fl(s,t,i){const a=Tt(s),l=[],c=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach(((p,y)=>{d.push(a.gu(y,t,i).then((v=>{var A;if((v||i)&&a.isPrimaryClient){const b=v?!v.fromCache:(A=i?.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(v){l.push(v);const b=Bm.Es(y.targetId,v);c.push(b)}})))})),await Promise.all(d),a.hu.J_(l),await(async function(y,v){const A=Tt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(v,(N=>X.forEach(N.Is,(q=>A.persistence.referenceDelegate.addReference(b,N.targetId,q))).next((()=>X.forEach(N.ds,(q=>A.persistence.referenceDelegate.removeReference(b,N.targetId,q)))))))))}catch(b){if(!mo(b))throw b;it(qm,"Failed to update sequence numbers: "+b)}for(const b of v){const N=b.targetId;if(!b.fromCache){const q=A.Fs.get(N),J=q.snapshotVersion,et=q.withLastLimboFreeSnapshotVersion(J);A.Fs=A.Fs.insert(N,et)}}})(a.localStore,c))}async function JR(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){it(Zm,"User change. New user:",t.toKey());const a=await wE(i.localStore,t);i.currentUser=t,(function(c,d){c.Vu.forEach((p=>{p.forEach((y=>{y.reject(new ot($.CANCELLED,d))}))})),c.Vu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Fl(i,a.Bs)}}function $R(s,t){const i=Tt(s),a=i.Eu.get(t);if(a&&a.lu)return Mt().add(a.key);{let l=Mt();const c=i.Tu.get(t);if(!c)return l;for(const d of c){const p=i.Pu.get(d);l=l.unionWith(p.view.tu)}return l}}function GE(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=BE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$R.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KR.bind(null,t),t.hu.J_=UR.bind(null,t.eventManager),t.hu.pu=kR.bind(null,t.eventManager),t}function WR(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XR.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return iR(this.persistence,new tR,t.initialUser,this.serializer)}Du(t){return new bE(jm.Vi,this.serializer)}bu(t){return new cR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class t2 extends th{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){Gt(this.persistence.referenceDelegate instanceof $c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new zw(a,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new bE((a=>$c.Vi(a,i)),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=JR.bind(null,this.syncEngine),await VR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new xR})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),a=(function(c){return new pR(c)})(t.databaseInfo);return(function(c,d,p,y){return new vR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new TR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Vv.C()?new Vv:new hR})())}createSyncEngine(t,i){return(function(l,c,d,p,y,v,A){const b=new jR(l,c,d,p,y,v);return A&&(b.fu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=Tt(l);it(Zs,"RemoteStore shutting down."),c.Ia.add(5),await Hl(c),c.Ea.shutdown(),c.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ym.provider={build:()=>new ym};class QE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const us="FirestoreClient";class e2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(us,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(us,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Ym(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Kd(s,t){s.asyncQueue.verifyOperationInProgress(),it(us,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await wE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>{is("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then((()=>{it("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((l=>{is("Terminating Firestore due to IndexedDb database deletion failed",l)}))})),s._offlineComponents=t}async function jv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await n2(s);it(us,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>xv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>xv(t.remoteStore,l))),s._onlineComponents=t}async function n2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(us,"Using user provided OfflineComponentProvider");try{await Kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;is("Error using user provided cache. Falling back to memory cache: "+i),await Kd(s,new th)}}else it(us,"Using default OfflineComponentProvider"),await Kd(s,new t2(void 0));return s._offlineComponents}async function KE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(us,"Using user provided OnlineComponentProvider"),await jv(s,s._uninitializedComponentsProvider._online)):(it(us,"Using default OnlineComponentProvider"),await jv(s,new ym))),s._onlineComponents}function i2(s){return KE(s).then((t=>t.syncEngine))}async function _m(s){const t=await KE(s),i=t.eventManager;return i.onListen=BR.bind(null,t.syncEngine),i.onUnlisten=FR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=qR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=GR.bind(null,t.syncEngine),i}function r2(s,t,i={}){const a=new es;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,v){const A=new QE({next:N=>{A.Ou(),d.enqueueAndForget((()=>kE(c,b)));const q=N.docs.has(p);!q&&N.fromCache?v.reject(new ot($.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&N.fromCache&&y&&y.source==="server"?v.reject(new ot($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),b=new LE(dh(p.path),A,{includeMetadataChanges:!0,ka:!0});return UE(c,b)})(await _m(s),s.asyncQueue,t,i,a))),a.promise}function YE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Bv=new Map;const XE="firestore.googleapis.com",qv=!0;class Hv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XE,this.ssl=qv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:qv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Lw)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Eb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $m{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new cb;switch(a.type){case"firstParty":return new mb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Bv.get(i);a&&(it("ComponentProvider","Removing Datastore"),Bv.delete(i),a.terminate())})(this),Promise.resolve()}}function s2(s,t,i,a={}){var l;s=ui(s,$m);const c=uo(t),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),y=`${t}:${i}`;c&&(E0(`https://${y}`),T0("Firestore",!0)),d.host!==XE&&d.host!==y&&is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:a});if(!ns(v,p)&&(s._setSettings(v),a.mockUserToken)){let A,b;if(typeof a.mockUserToken=="string")A=a.mockUserToken,b=Ze.MOCK_USER;else{A=UA(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ze(N)}s._authCredentials=new hb(new U0(A,b))}}class Ah{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ah(this.firestore,t,this._query)}}class Te{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Te(this.firestore,t,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(jl(i,Te._jsonSchema))return new Te(t,a||null,new dt(re.fromString(i.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:Ee("string",Te._jsonSchemaVersion),referencePath:Ee("string")};class Ll extends Ah{constructor(t,i,a){super(t,i,dh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Te(this.firestore,null,new dt(t))}withConverter(t){return new Ll(this.firestore,t,this._path)}}function qs(s,t,...i){if(s=We(s),arguments.length===1&&(t=Cm.newId()),vb("doc","path",t),s instanceof $m){const a=re.fromString(t,...i);return iv(a),new Te(s,null,new dt(a))}{if(!(s instanceof Te||s instanceof Ll))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(re.fromString(t,...i));return iv(a),new Te(s.firestore,s instanceof Ll?s.converter:null,new dt(a))}}const Fv="AsyncQueue";class Gv{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new IE(this,"async_queue_retry"),this.oc=()=>{const a=Qd();a&&it(Fv,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const i=new es;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!mo(t))throw t;it(Fv,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const i=this._c.then((()=>(this.nc=!0,t().catch((a=>{throw this.tc=a,this.nc=!1,Zi("INTERNAL UNHANDLED ERROR: ",Qv(a)),a})).then((a=>(this.nc=!1,a))))));return this._c=i,i}enqueueAfterDelay(t,i,a){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const l=Km.createAndSchedule(this,t,i,a,(c=>this.lc(c)));return this.ec.push(l),l}ac(){this.tc&&pt(47125,{hc:Qv(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function Qv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function Kv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class oo extends $m{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Gv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Gv(t),this._firestoreClient=void 0,await t}}}function a2(s,t){const i=typeof s=="object"?s:w0(),a=typeof s=="string"?s:Gc,l=Rm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=MA("firestore");c&&s2(l,...c)}return l}function Wm(s){if(s._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||o2(s),s._firestoreClient}function o2(s){var t,i,a;const l=s._freezeSettings(),c=(function(p,y,v,A){return new Ob(p,y,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,YE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new e2(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&(function(p){const y=p?._online.build();return{_offline:p?._offline.build(y),_online:y}})(s._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Ge.fromBase64String(t))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jl(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ee("string",zn._jsonSchemaVersion),bytes:Ee("string")};class Sh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bh{constructor(t){this._methodName=t}}class di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(t){if(jl(t,di._jsonSchema))return new di(t.latitude,t.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Ee("string",di._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};class mi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jl(t,mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new mi(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Ee("string",mi._jsonSchemaVersion),vectorValues:Ee("object")};const l2=/^__.*__$/;class u2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new hs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bl(t,this.data,i,this.fieldTransforms)}}class ZE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new hs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function JE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ec:s})}}class wh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new wh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:a,mc:!1});return l.fc(t),l}gc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:a,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return eh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(JE(this.Ec)&&l2.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class c2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||vh(t)}Dc(t,i,a,l=!1){return new wh({Ec:t,methodName:i,bc:a,path:Fe.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $E(s){const t=s._freezeSettings(),i=vh(s._databaseId);return new c2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function h2(s,t,i,a,l,c={}){const d=s.Dc(c.merge||c.mergeFields?2:0,t,i,l);ep("Data must be an object, but it was:",d,a);const p=WE(a,d);let y,v;if(c.merge)y=new wn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const N=vm(t,b,i);if(!d.contains(N))throw new ot($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);eT(A,N)||A.push(N)}y=new wn(A),v=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,v=d.fieldTransforms;return new u2(new pn(p),y,v)}class Rh extends bh{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}function f2(s,t,i){return new wh({Ec:3,bc:t.settings.bc,methodName:s._methodName,mc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class tp extends bh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=f2(this,t,!0),a=this.vc.map((c=>Gl(c,i))),l=new ro(a);return new rw(t.path,l)}isEqual(t){return t instanceof tp&&ns(this.vc,t.vc)}}function d2(s,t,i,a){const l=s.Dc(1,t,i);ep("Data must be an object, but it was:",l,a);const c=[],d=pn.empty();cs(a,((y,v)=>{const A=np(t,y,i);v=We(v);const b=l.gc(A);if(v instanceof Rh)c.push(A);else{const N=Gl(v,b);N!=null&&(c.push(A),d.set(A,N))}}));const p=new wn(c);return new ZE(d,p,l.fieldTransforms)}function m2(s,t,i,a,l,c){const d=s.Dc(1,t,i),p=[vm(t,a,i)],y=[l];if(c.length%2!=0)throw new ot($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(vm(t,c[N])),y.push(c[N+1]);const v=[],A=pn.empty();for(let N=p.length-1;N>=0;--N)if(!eT(v,p[N])){const q=p[N];let J=y[N];J=We(J);const et=d.gc(q);if(J instanceof Rh)v.push(q);else{const Z=Gl(J,et);Z!=null&&(v.push(q),A.set(q,Z))}}const b=new wn(v);return new ZE(A,b,d.fieldTransforms)}function Gl(s,t){if(tT(s=We(s)))return ep("Unsupported field value:",t,s),WE(s,t);if(s instanceof bh)return(function(a,l){if(!JE(l.Ec))throw l.wc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Gl(p,l.yc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ew(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ee.fromDate(a);return{timestampValue:Jc(l.serializer,c)}}if(a instanceof ee){const c=new ee(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,c)}}if(a instanceof di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:gE(l.serializer,a._byteString)};if(a instanceof Te){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof mi)return(function(d,p){return{mapValue:{fields:{[G0]:{stringValue:Q0},[Qc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.wc("VectorValues must only contain numeric values.");return Um(p.serializer,v)}))}}}}}})(a,l);throw l.wc(`Unsupported field value: ${Nm(a)}`)})(s,t)}function WE(s,t){const i={};return z0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cs(s,((a,l)=>{const c=Gl(l,t.Vc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function tT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ee||s instanceof di||s instanceof zn||s instanceof Te||s instanceof bh||s instanceof mi)}function ep(s,t,i){if(!tT(i)||!L0(i)){const a=Nm(i);throw a==="an object"?t.wc(s+" a custom object"):t.wc(s+" "+a)}}function vm(s,t,i){if((t=We(t))instanceof Sh)return t._internalPath;if(typeof t=="string")return np(s,t);throw eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const p2=new RegExp("[~\\*/\\[\\]]");function np(s,t,i){if(t.search(p2)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Sh(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function eh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ot($.INVALID_ARGUMENT,p+s+y)}function eT(s,t){return s.some((i=>i.isEqual(t)))}class nT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new g2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(iT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class g2 extends nT{data(){return super.data()}}function iT(s,t){return typeof t=="string"?np(s,t):t instanceof Sh?t._internalPath:t._delegate._internalPath}function y2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _2{convertValue(t,i="none"){switch(os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(as(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return cs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i[Qc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((d=>de(d.doubleValue)));return new mi(c)}convertGeoPoint(t){return new di(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=ss(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Gt(AE(a),9688,{name:t});const l=new xl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||Zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function v2(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ks extends nT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(iT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ks._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Ee("string",Ks._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class kc extends Ks{data(t={}){return super.data(t)}}class Za{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new kc(this._firestore,this._userDataWriter,a.key,a,new bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:E2(p.type),doc:y,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function E2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}function T2(s){s=ui(s,Te);const t=ui(s.firestore,oo);return r2(Wm(t),s._key).then((i=>aT(t,s,i)))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Ee("string",Za._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class rT extends _2{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,i)}}function A2(s,t,i){s=ui(s,Te);const a=ui(s.firestore,oo),l=v2(s.converter,t);return sT(a,[h2($E(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,hi.none())])}function vl(s,t,i,...a){s=ui(s,Te);const l=ui(s.firestore,oo),c=$E(l);let d;return d=typeof(t=We(t))=="string"||t instanceof Sh?m2(c,"updateDoc",s._key,t,i,a):d2(c,"updateDoc",s._key,t),sT(l,[d.toMutation(s._key,hi.exists(!0))])}function S2(s,...t){var i,a,l;s=We(s);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||Kv(t[d])||(c=t[d++]);const p={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Kv(t[d])){const b=t[d];t[d]=(i=b.next)===null||i===void 0?void 0:i.bind(b),t[d+1]=(a=b.error)===null||a===void 0?void 0:a.bind(b),t[d+2]=(l=b.complete)===null||l===void 0?void 0:l.bind(b)}let y,v,A;if(s instanceof Te)v=ui(s.firestore,oo),A=dh(s._key.path),y={next:b=>{t[d]&&t[d](aT(v,s,b))},error:t[d+1],complete:t[d+2]};else{const b=ui(s,Ah);v=ui(b.firestore,oo),A=b._query;const N=new rT(v);y={next:q=>{t[d]&&t[d](new Za(v,N,b,q))},error:t[d+1],complete:t[d+2]},y2(s._query)}return(function(N,q,J,et){const Z=new QE(et),lt=new LE(q,Z,J);return N.asyncQueue.enqueueAndForget((async()=>UE(await _m(N),lt))),()=>{Z.Ou(),N.asyncQueue.enqueueAndForget((async()=>kE(await _m(N),lt)))}})(Wm(v),A,p,y)}function sT(s,t){return(function(a,l){const c=new es;return a.asyncQueue.enqueueAndForget((async()=>QR(await i2(a),l,c))),c.promise})(Wm(s),t)}function aT(s,t,i){const a=i.docs.get(t._key),l=new rT(s);return new Ks(s,l,t._key,a,new bl(i.hasPendingWrites,i.fromCache),t.converter)}function Yd(...s){return new tp("arrayUnion",s)}(function(t,i=!0){(function(l){ho=l})(co),to(new Ys("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new oo(new fb(a.getProvider("auth-internal")),new pb(d,a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(v.options.projectId,A)})(d,l),d);return c=Object.assign({useFetchStreams:i},c),p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Wr($_,W_,t),Wr($_,W_,"esm2017")})();function ip(s,t){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(i[a[l]]=s[a[l]]);return i}function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b2=oT,lT=new Pl("auth","Firebase",oT());const nh=new bm("@firebase/auth");function w2(s,...t){nh.logLevel<=Vt.WARN&&nh.warn(`Auth (${co}): ${s}`,...t)}function Lc(s,...t){nh.logLevel<=Vt.ERROR&&nh.error(`Auth (${co}): ${s}`,...t)}function $i(s,...t){throw rp(s,...t)}function pi(s,...t){return rp(s,...t)}function uT(s,t,i){const a=Object.assign(Object.assign({},b2()),{[t]:i});return new Pl("auth","Firebase",a).create(t,{appName:s.name})}function Yi(s){return uT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rp(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return lT.create(s,...t)}function yt(s,t,...i){if(!s)throw rp(t,...i)}function Qi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Lc(t),new Error(t)}function Wi(s,t){s||Qi(t)}function Em(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function R2(){return Yv()==="http:"||Yv()==="https:"}function Yv(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}function I2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R2()||BA()||"connection"in navigator)?navigator.onLine:!0}function C2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=PA()||qA()}get(){return I2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sp(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class cT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const D2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O2=new Ql(3e4,6e4);function Kl(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function ta(s,t,i,a,l={}){return hT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=zl(Object.assign({key:s.config.apiKey},d)).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const v=Object.assign({method:t,headers:y},c);return jA()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&uo(s.emulatorConfig.host)&&(v.credentials="include"),cT.fetch()(await fT(s,s.config.apiHost,i,p),v)})}async function hT(s,t,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},N2),t);try{const l=new V2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Dc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Dc(s,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw uT(s,A,v);$i(s,A)}}catch(l){if(l instanceof er)throw l;$i(s,"network-request-failed",{message:String(l)})}}async function ap(s,t,i,a,l={}){const c=await ta(s,t,i,a,l);return"mfaPendingCredential"in c&&$i(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function fT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?sp(s.config,l):`${s.config.apiScheme}://${l}`;return D2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class V2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(pi(this.auth,"network-request-failed")),O2.get())})}}function Dc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=pi(s,t,a);return l.customData._tokenResponse=i,l}async function M2(s,t){return ta(s,"POST","/v1/accounts:delete",t)}async function ih(s,t){return ta(s,"POST","/v1/accounts:lookup",t)}function Dl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function x2(s,t=!1){const i=We(s),a=await i.getIdToken(t),l=op(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Dl(Xd(l.auth_time)),issuedAtTime:Dl(Xd(l.iat)),expirationTime:Dl(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function op(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=g0(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Xv(s){const t=op(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function lo(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof er&&U2(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function U2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class k2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(s){var t;const i=s.auth,a=await s.getIdToken(),l=await lo(s,ih(i,{idToken:a}));yt(l?.users.length,i,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?dT(c.providerUserInfo):[],p=P2(s.providerData,d),y=s.isAnonymous,v=!(s.email&&c.passwordHash)&&!p?.length,A=y?v:!1,b={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new Tm(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(s,b)}async function L2(s){const t=We(s);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function P2(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function dT(s){return s.map(t=>{var{providerId:i}=t,a=ip(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}async function z2(s,t){const i=await hT(s,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await fT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&uo(s.emulatorConfig.host)&&(y.credentials="include"),cT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function j2(s,t){return ta(s,"POST","/v2/accounts:revokeToken",Kl(s,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Xv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=Xv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await z2(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function Fr(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Kn{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,c=ip(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new k2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Tm(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await lo(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return x2(this,t)}reload(){return L2(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Kn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Yi(this.auth));const t=await this.getIdToken();return await lo(this,M2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,c,d,p,y,v,A;const b=(a=i.displayName)!==null&&a!==void 0?a:void 0,N=(l=i.email)!==null&&l!==void 0?l:void 0,q=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,J=(d=i.photoURL)!==null&&d!==void 0?d:void 0,et=(p=i.tenantId)!==null&&p!==void 0?p:void 0,Z=(y=i._redirectEventId)!==null&&y!==void 0?y:void 0,lt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,ct=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ut,emailVerified:vt,isAnonymous:qt,providerData:It,stsTokenManager:D}=i;yt(ut&&D,t,"internal-error");const w=Ja.fromJSON(this.name,D);yt(typeof ut=="string",t,"internal-error"),Fr(b,t.name),Fr(N,t.name),yt(typeof vt=="boolean",t,"internal-error"),yt(typeof qt=="boolean",t,"internal-error"),Fr(q,t.name),Fr(J,t.name),Fr(et,t.name),Fr(Z,t.name),Fr(lt,t.name),Fr(ct,t.name);const S=new Kn({uid:ut,auth:t,email:N,emailVerified:vt,displayName:b,isAnonymous:qt,photoURL:J,phoneNumber:q,tenantId:et,stsTokenManager:w,createdAt:lt,lastLoginAt:ct});return It&&Array.isArray(It)&&(S.providerData=It.map(C=>Object.assign({},C))),Z&&(S._redirectEventId=Z),S}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new Kn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await rh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?dT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ja;p.updateFromIdToken(a);const y=new Kn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const Zv=new Map;function Ki(s){Wi(s instanceof Function,"Expected a class definition");let t=Zv.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Zv.set(s,t),t)}class mT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}mT.type="NONE";const Jv=mT;function Pc(s,t,i){return`firebase:${s}:${t}:${i}`}class $a{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ih(this.auth,{idToken:t}).catch(()=>{});return i?Kn._fromGetAccountInfoResponse(this.auth,i,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new $a(Ki(Jv),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Ki(Jv);const d=Pc(a,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let b;if(typeof A=="string"){const N=await ih(t,{idToken:A}).catch(()=>{});if(!N)break;b=await Kn._fromGetAccountInfoResponse(t,N,A)}else b=Kn._fromJSON(t,A);v!==c&&(p=b),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new $a(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new $a(c,t,a))}}function $v(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_T(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ET(t))return"Blackberry";if(TT(t))return"Webos";if(gT(t))return"Safari";if((t.includes("chrome/")||yT(t))&&!t.includes("edge/"))return"Chrome";if(vT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function pT(s=$e()){return/firefox\//i.test(s)}function gT(s=$e()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yT(s=$e()){return/crios\//i.test(s)}function _T(s=$e()){return/iemobile/i.test(s)}function vT(s=$e()){return/android/i.test(s)}function ET(s=$e()){return/blackberry/i.test(s)}function TT(s=$e()){return/webos/i.test(s)}function lp(s=$e()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function B2(s=$e()){var t;return lp(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function q2(){return HA()&&document.documentMode===10}function AT(s=$e()){return lp(s)||vT(s)||TT(s)||ET(s)||/windows phone/i.test(s)||_T(s)}function ST(s,t=[]){let i;switch(s){case"Browser":i=$v($e());break;case"Worker":i=`${$v($e())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class H2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function F2(s,t={}){return ta(s,"GET","/v2/passwordPolicy",Kl(s,t))}const G2=6;class Q2{constructor(t){var i,a,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:G2,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,c,d,p;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(i=y.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(a=y.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(c=y.containsUppercaseLetter)!==null&&c!==void 0?c:!0),y.isValid&&(y.isValid=(d=y.containsNumericCharacter)!==null&&d!==void 0?d:!0),y.isValid&&(y.isValid=(p=y.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),y}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class K2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wv(this),this.idTokenSubscription=new Wv(this),this.beforeStateQueue=new H2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ki(i)),this._initializationPromise=this.queue(async()=>{var a,l,c;if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ih(this,{idToken:t}),a=await Kn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Pn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=l?._redirectEventId,y=await this.tryRedirectSignIn(t);(!d||d===p)&&y?.user&&(l=y.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=C2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(Yi(this));const i=t?We(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await F2(this),i=new Q2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await j2(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ki(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ST(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i?.error&&w2(`Error while retrieving App Check token: ${i.error}`),i?.token}}function Yl(s){return We(s)}class Wv{constructor(t){this.auth=t,this.observer=null,this.addObserver=JA(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y2(s){up=s}function X2(s){return up.loadJS(s)}function Z2(){return up.gapiScript}function J2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function $2(s,t){const i=Rm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ns(c,t??{}))return l;$i(l,"already-initialized")}return i.initialize({options:t})}function W2(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ki);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function tI(s,t,i){const a=Yl(s);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=bT(t),{host:d,port:p}=eI(t),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(ns(v,a.config.emulator)&&ns(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(E0(`${c}//${d}${y}`),T0("Auth",!0)):nI()}function bT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function eI(s){const t=bT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:t0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:t0(d)}}}function t0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function nI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class wT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,i){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function Wa(s,t){return ap(s,"POST","/v1/accounts:signInWithIdp",Kl(s,t))}const iI="http://localhost";class Js extends wT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):$i("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,c=ip(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new Js(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Wa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Wa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Wa(t,i)}buildRequest(){const t={requestUri:iI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zl(i)}return t}}class RT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends RT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qr extends Xl{constructor(){super("facebook.com")}static credential(t){return Js._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class Kr extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Js._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Kr.credential(i,a)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";class Yr extends Xl{constructor(){super("github.com")}static credential(t){return Js._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";class Xr extends Xl{constructor(){super("twitter.com")}static credential(t,i){return Js._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Xr.credential(i,a)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";async function rI(s,t){return ap(s,"POST","/v1/accounts:signUp",Kl(s,t))}class tr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Kn._fromIdTokenResponse(t,a,l),d=e0(a);return new tr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=e0(a);return new tr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function e0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function sI(s){var t;if(Pn(s.app))return Promise.reject(Yi(s));const i=Yl(s);if(await i._initializationPromise,!((t=i.currentUser)===null||t===void 0)&&t.isAnonymous)return new tr({user:i.currentUser,providerId:null,operationType:"signIn"});const a=await rI(i,{returnSecureToken:!0}),l=await tr._fromIdTokenResponse(i,"signIn",a,!0);return await i._updateCurrentUser(l.user),l}class sh extends er{constructor(t,i,a,l){var c;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new sh(t,i,a,l)}}function IT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,t,a):c})}async function aI(s,t,i=!1){const a=await lo(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return tr._forOperation(s,"link",a)}async function oI(s,t,i=!1){const{auth:a}=s;if(Pn(a.app))return Promise.reject(Yi(a));const l="reauthenticate";try{const c=await lo(s,IT(a,l,t,s),i);yt(c.idToken,a,"internal-error");const d=op(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(s.uid===p,a,"user-mismatch"),tr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&$i(a,"user-mismatch"),c}}async function lI(s,t,i=!1){if(Pn(s.app))return Promise.reject(Yi(s));const a="signIn",l=await IT(s,a,t),c=await tr._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function uI(s,t){return ap(s,"POST","/v1/accounts:signInWithCustomToken",Kl(s,t))}async function cI(s,t){if(Pn(s.app))return Promise.reject(Yi(s));const i=Yl(s),a=await uI(i,{token:t,returnSecureToken:!0}),l=await tr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}async function hI(s,t){return ta(s,"POST","/v1/accounts:update",t)}async function fI(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const a=We(s),c={idToken:await a.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await lo(a,hI(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const p=a.providerData.find(({providerId:y})=>y==="password");p&&(p.displayName=a.displayName,p.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function dI(s,t,i,a){return We(s).onIdTokenChanged(t,i,a)}function mI(s,t,i){return We(s).beforeAuthStateChanged(t,i)}function pI(s,t,i,a){return We(s).onAuthStateChanged(t,i,a)}const ah="__sak";class CT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const gI=1e3,yI=10;class NT extends CT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);q2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,yI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},gI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}NT.type="LOCAL";const _I=NT;class DT extends CT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}DT.type="SESSION";const OT=DT;function vI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ih(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),y=await vI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];function cp(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class EI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=cp("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const N=b;if(N.data.eventId===v)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function gi(){return window}function TI(s){gi().location.href=s}function VT(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function AI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SI(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function bI(){return VT()?self:null}const MT="firebaseLocalStorageDb",wI=1,oh="firebaseLocalStorage",xT="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ch(s,t){return s.transaction([oh],t?"readwrite":"readonly").objectStore(oh)}function RI(){const s=indexedDB.deleteDatabase(MT);return new Zl(s).toPromise()}function Am(){const s=indexedDB.open(MT,wI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(oh,{keyPath:xT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(oh)?t(a):(a.close(),await RI(),t(await Am()))})})}async function n0(s,t,i){const a=Ch(s,!0).put({[xT]:t,value:i});return new Zl(a).toPromise()}async function II(s,t){const i=Ch(s,!1).get(t),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function i0(s,t){const i=Ch(s,!0).delete(t);return new Zl(i).toPromise()}const CI=800,NI=3;class UT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>NI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(bI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await AI(),!this.activeServiceWorker)return;this.sender=new EI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Am();return await n0(t,ah,"1"),await i0(t,ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>n0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>II(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>i0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ch(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UT.type="LOCAL";const DI=UT;new Ql(3e4,6e4);function OI(s,t){return t?Ki(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class hp extends wT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Wa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function VI(s){return lI(s.auth,new hp(s),s.bypassAuthState)}function MI(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),oI(i,new hp(s),s.bypassAuthState)}async function xI(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),aI(i,new hp(s),s.bypassAuthState)}class kT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return VI;case"linkViaPopup":case"linkViaRedirect":return xI;case"reauthViaPopup":case"reauthViaRedirect":return MI;default:$i(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UI=new Ql(2e3,1e4);class Ya extends kT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,UI.get())};t()}}Ya.currentPopupAction=null;const kI="pendingRedirect",zc=new Map;class LI extends kT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const a=await PI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PI(s,t){const i=BI(t),a=jI(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function zI(s,t){zc.set(s._key(),t)}function jI(s){return Ki(s._redirectPersistence)}function BI(s){return Pc(kI,s.config.apiKey,s.name)}async function qI(s,t,i=!1){if(Pn(s.app))return Promise.reject(Yi(s));const a=Yl(s),l=OI(a,t),d=await new LI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const HI=600*1e3;class FI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!LT(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(pi(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=HI&&this.cachedEventUids.clear(),this.cachedEventUids.has(r0(t))}saveEventToCache(t){this.cachedEventUids.add(r0(t)),this.lastProcessedEventTime=Date.now()}}function r0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function LT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function GI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(s);default:return!1}}async function QI(s,t={}){return ta(s,"GET","/v1/projects",t)}const KI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YI=/^https?/;async function XI(s){if(s.config.emulator)return;const{authorizedDomains:t}=await QI(s);for(const i of t)try{if(ZI(i))return}catch{}$i(s,"unauthorized-domain")}function ZI(s){const t=Em(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!YI.test(i))return!1;if(KI.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const JI=new Ql(3e4,6e4);function s0(){const s=gi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function $I(s){return new Promise((t,i)=>{var a,l,c;function d(){s0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{s0(),i(pi(s,"network-request-failed"))},timeout:JI.get()})}if(!((l=(a=gi().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=gi().gapi)===null||c===void 0)&&c.load)d();else{const p=J2("iframefcb");return gi()[p]=()=>{gapi.load?d():i(pi(s,"network-request-failed"))},X2(`${Z2()}?onload=${p}`).catch(y=>i(y))}}).catch(t=>{throw jc=null,t})}let jc=null;function WI(s){return jc=jc||$I(s),jc}const tC=new Ql(5e3,15e3),eC="__/auth/iframe",nC="emulator/auth/iframe",iC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sC(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?sp(t,nC):`https://${s.config.authDomain}/${eC}`,a={apiKey:t.apiKey,appName:s.name,v:co},l=rC.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zl(a).slice(1)}`}async function aC(s){const t=await WI(s),i=gi().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:sC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=pi(s,"network-request-failed"),p=gi().setTimeout(()=>{c(d)},tC.get());function y(){gi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const oC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lC=500,uC=600,cC="_blank",hC="http://localhost";class a0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fC(s,t,i,a=lC,l=uC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y=Object.assign(Object.assign({},oC),{width:a.toString(),height:l.toString(),top:c,left:d}),v=$e().toLowerCase();i&&(p=yT(v)?cC:i),pT(v)&&(t=t||hC,y.scrollbars="yes");const A=Object.entries(y).reduce((N,[q,J])=>`${N}${q}=${J},`,"");if(B2(v)&&p!=="_self")return dC(t||"",p),new a0(null);const b=window.open(t||"",p,A);yt(b,s,"popup-blocked");try{b.focus()}catch{}return new a0(b)}function dC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const mC="__/auth/handler",pC="emulator/auth/handler",gC=encodeURIComponent("fac");async function o0(s,t,i,a,l,c){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:co,eventId:l};if(t instanceof RT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",ZA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Xl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await s._getAppCheckToken(),v=y?`#${gC}=${encodeURIComponent(y)}`:"";return`${yC(s)}?${zl(p).slice(1)}${v}`}function yC({config:s}){return s.emulator?sp(s,pC):`https://${s.authDomain}/${mC}`}const Zd="webStorageSupport";class _C{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OT,this._completeRedirectFn=qI,this._overrideRedirectResult=zI}async _openPopup(t,i,a,l){var c;Wi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await o0(t,i,a,Em(),l);return fC(t,d,cp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await o0(t,i,a,Em(),l);return TI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await aC(t),a=new FI(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Zd,{type:Zd},l=>{var c;const d=(c=l?.[0])===null||c===void 0?void 0:c[Zd];d!==void 0&&i(!!d),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=XI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return AT()||gT()||lp()}}const vC=_C;var l0="@firebase/auth",u0="1.10.8";class EC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AC(s){to(new Ys("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ST(s)},v=new K2(a,l,c,y);return W2(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),to(new Ys("auth-internal",t=>{const i=Yl(t.getProvider("auth").getImmediate());return(a=>new EC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(l0,u0,TC(s)),Wr(l0,u0,"esm2017")}const SC=300,bC=v0("authIdTokenMaxAge")||SC;let c0=null;const wC=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>bC)return;const l=i?.token;c0!==l&&(c0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function RC(s=w0()){const t=Rm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=$2(s,{popupRedirectResolver:vC,persistence:[DI,_I,OT]}),a=v0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=wC(c.toString());mI(i,d,()=>d(i.currentUser)),dI(i,p=>d(p))}}const l=y0("auth");return l&&tI(i,`http://${l}`),i}function IC(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}Y2({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=pi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",IC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AC("Browser");const CC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();var NC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DC=Ve.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Ve.createElement("svg",{ref:y,...NC,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:PT("lucide",l),...p},[...d.map(([v,A])=>Ve.createElement(v,A)),...Array.isArray(c)?c:[c]]));const Yn=(s,t)=>{const i=Ve.forwardRef(({className:a,...l},c)=>Ve.createElement(DC,{ref:c,iconNode:t,className:PT(`lucide-${CC(s)}`,a),...l}));return i.displayName=`${s}`,i};const OC=Yn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const VC=Yn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const MC=Yn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const h0=Yn("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const xC=Yn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const UC=Yn("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const kC=Yn("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);const LC=Yn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const PC=Yn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const zC=Yn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const f0=Yn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);let Bc;try{typeof window<"u"&&window.__firebase_config?Bc=JSON.parse(window.__firebase_config):typeof __firebase_config<"u"?Bc=JSON.parse(__firebase_config):(console.warn("Firebase  VITE_FIREBASE_CONFIG  __firebase_config "),Bc={apiKey:"your-api-key",authDomain:"your-project.firebaseapp.com",projectId:"your-project-id",storageBucket:"your-project.appspot.com",messagingSenderId:"123456789",appId:"your-app-id"})}catch(s){throw console.error("Firebase :",s),new Error("Firebase ")}const zT=b0(Bc),Gr=RC(zT),Hs=a2(zT),Fs=typeof window<"u"&&window.__app_id||(typeof __app_id<"u"?__app_id:"travel-planner-pro"),El={channelId:"",channelSecret:"",redirectUri:window.location.origin+window.location.pathname};function jC(){const[s,t]=Ve.useState(null),[i,a]=Ve.useState(null),[l,c]=Ve.useState(null),[d,p]=Ve.useState(!0),[y,v]=Ve.useState(!1),[A,b]=Ve.useState("overview"),[N,q]=Ve.useState(null),[J,et]=Ve.useState(null),[Z,lt]=Ve.useState(null),ct=()=>new Date().toISOString().split("T")[0],ut=()=>{const S=new Date;return`${String(S.getHours()).padStart(2,"0")}:${String(S.getMinutes()).padStart(2,"0")}`},[vt,qt]=Ve.useState({splitWithIds:[],amount:0,note:"",date:ct(),startDate:ct(),time:ut()});Ve.useEffect(()=>{(async()=>{pI(Gr,x=>{t(x),p(!1)});const V=new URLSearchParams(window.location.search).get("code");if(V&&!Gr.currentUser?.displayName)v(!0),await D(V),v(!1),window.history.replaceState({},document.title,window.location.pathname);else if(!Gr.currentUser){const x=typeof window<"u"&&window.__initial_auth_token||(typeof __initial_auth_token<"u"?__initial_auth_token:null);x?await cI(Gr,x):await sI(Gr)}})()},[]);const It=()=>{const S=Math.random().toString(36).substring(7),C=`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${El.channelId}&redirect_uri=${encodeURIComponent(El.redirectUri)}&state=${S}&scope=profile%20openid`;window.location.href=C},D=async S=>{try{const V=await(await fetch("https://api.line.me/oauth2/v2.1/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:S,redirect_uri:El.redirectUri,client_id:El.channelId,client_secret:El.channelSecret})})).json();if(V.access_token){const R=await(await fetch("https://api.line.me/v2/profile",{headers:{Authorization:`Bearer ${V.access_token}`}})).json();Gr.currentUser&&(await fI(Gr.currentUser,{displayName:R.displayName,photoURL:R.pictureUrl}),t({...Gr.currentUser,displayName:R.displayName,photoURL:R.pictureUrl}))}}catch(C){console.error("LINE Login Error:",C)}};Ve.useEffect(()=>{if(!s||!i)return;const S=qs(Hs,"artifacts",Fs,"public","data","projects",i),C=S2(S,V=>{V.exists()&&c(V.data())});return()=>C()},[s,i]);const w=async S=>{if(S.preventDefault(),!i)return;const C=qs(Hs,"artifacts",Fs,"public","data","projects",i),V=Date.now().toString(),x={createdBy:s.uid,creatorName:s.displayName||"",creatorPic:s.photoURL||""},R={...vt,...x,id:V};N==="itinerary"?await vl(C,{itinerary:Yd(R)}):N==="accommodation"&&await vl(C,{accommodations:Yd(R)}),q(null),qt({splitWithIds:[],amount:0,note:"",date:ct(),startDate:ct(),time:ut()})};return d||y?G.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-gray-50",children:[G.jsx(PC,{className:"animate-spin text-blue-500 mb-4",size:40}),G.jsx("p",{className:"font-black text-gray-400",children:" LINE ..."})]}):s?.displayName?i?G.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col md:pl-64 text-gray-800 font-sans",children:[G.jsxs("nav",{className:"fixed left-0 top-0 bottom-0 w-64 bg-white border-r hidden md:flex flex-col p-8 z-10",children:[G.jsxs("div",{className:"mb-10 space-y-6",children:[G.jsx("h2",{className:"text-2xl font-black text-blue-600 truncate",children:l?.name}),G.jsxs("div",{className:"flex items-center gap-3 bg-blue-50 p-3 rounded-2xl",children:[G.jsx("img",{src:s.photoURL,className:"w-8 h-8 rounded-full border border-blue-200"}),G.jsx("p",{className:"text-xs font-black truncate",children:s.displayName})]})]}),G.jsx("div",{className:"flex-1 space-y-2",children:["overview","itinerary","accommodation","members"].map(S=>G.jsx("button",{onClick:()=>b(S),className:`w-full text-left px-5 py-4 rounded-2xl font-black transition-all capitalize ${A===S?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:bg-gray-50"}`,children:S==="overview"?"":S==="itinerary"?"":S==="accommodation"?"":""},S))}),G.jsxs("button",{onClick:()=>a(null),className:"mt-auto flex items-center gap-2 text-red-400 font-black p-4 hover:bg-red-50 rounded-xl transition",children:[G.jsx(MC,{size:18})," "]})]}),G.jsxs("main",{className:"flex-1 p-6 md:p-12 max-w-4xl mx-auto w-full pb-32",children:[A==="overview"&&G.jsxs("div",{className:"space-y-8 animate-in fade-in",children:[G.jsx("h3",{className:"text-3xl font-black",children:""}),G.jsx("div",{className:"space-y-6 border-l-4 border-gray-100 pl-8 ml-4",children:l?.itinerary?.sort((S,C)=>(S.date+S.time).localeCompare(C.date+C.time)).map(S=>G.jsxs("div",{onClick:()=>et({...S,type:"itinerary"}),className:"bg-white p-6 rounded-[2rem] shadow-sm border hover:shadow-md cursor-pointer transition-all flex items-center justify-between group",children:[G.jsxs("div",{className:"flex items-center gap-5",children:[G.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-500 rounded-2xl flex items-center justify-center",children:G.jsx(h0,{size:24})}),G.jsxs("div",{children:[G.jsxs("p",{className:"text-xs font-black text-blue-400",children:[S.date," ",S.time]}),G.jsx("h4",{className:"font-black text-lg",children:S.name}),G.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[G.jsx("img",{src:S.creatorPic,className:"w-4 h-4 rounded-full border"}),G.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[S.creatorName," "]})]})]})]}),G.jsx(OC,{className:"text-gray-300 group-hover:text-blue-500 transition-colors"})]},S.id))})]}),(A==="itinerary"||A==="accommodation")&&G.jsxs("div",{className:"space-y-6",children:[G.jsxs("div",{className:"flex justify-between items-center",children:[G.jsx("h3",{className:"text-3xl font-black",children:A==="itinerary"?"":""}),G.jsx("button",{onClick:()=>{qt({splitWithIds:[],amount:0,note:"",date:ct(),startDate:ct(),time:ut()}),q(A)},className:"bg-blue-600 text-white p-4 rounded-2xl shadow-lg hover:scale-105 transition",children:G.jsx(LC,{size:24})})]}),G.jsx("div",{className:"grid gap-4",children:(A==="itinerary"?l?.itinerary:l?.accommodations)?.map(S=>G.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border flex items-center justify-between shadow-sm",children:[G.jsxs("div",{className:"flex items-center gap-4",children:[G.jsxs("div",{className:"w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center font-black text-[10px] flex-col text-gray-500",children:[G.jsx("span",{children:S.date?.slice(5)||S.startDate?.slice(5)}),G.jsx("span",{className:"opacity-60",children:S.time||""})]}),G.jsxs("div",{children:[G.jsx("h4",{className:"font-black text-lg",children:S.name}),G.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[G.jsx("img",{src:S.creatorPic,className:"w-3.5 h-3.5 rounded-full"}),G.jsxs("p",{className:"text-[10px] font-bold text-gray-400",children:[S.creatorName," "]})]})]})]}),G.jsxs("div",{className:"flex gap-2",children:[G.jsx("button",{onClick:()=>lt({...S,type:A}),className:"p-2 text-gray-300 hover:text-blue-500 transition",children:G.jsx(UC,{size:18})}),G.jsx("button",{onClick:async()=>{const C=A==="itinerary"?"itinerary":"accommodations";await vl(qs(Hs,"artifacts",Fs,"public","data","projects",i),{[C]:l[C].filter(V=>V.id!==S.id)})},className:"p-2 text-gray-300 hover:text-red-500 transition",children:G.jsx(zC,{size:18})})]})]},S.id))})]})]}),Z&&G.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 bg-gray-900/60 backdrop-blur-md",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[3rem] p-10 shadow-2xl space-y-6",children:[G.jsxs("h4",{className:"text-2xl font-black",children:["",Z.type==="itinerary"?"":""]}),G.jsxs("div",{className:"space-y-4",children:[G.jsxs("div",{className:"space-y-1",children:[G.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:""}),G.jsx("input",{type:"text",value:Z.name,className:"w-full border-2 rounded-2xl px-5 py-4 font-bold outline-none focus:border-blue-500",onChange:S=>lt({...Z,name:S.target.value})})]}),G.jsxs("div",{className:"flex gap-4",children:[G.jsxs("div",{className:"flex-1 space-y-1",children:[G.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:""}),G.jsx("input",{type:"date",value:Z.date||Z.startDate,className:"w-full border-2 rounded-2xl px-4 py-4 text-sm font-bold outline-none",onChange:S=>lt({...Z,[Z.type==="itinerary"?"date":"startDate"]:S.target.value})})]}),Z.type==="itinerary"&&G.jsxs("div",{className:"flex-1 space-y-1",children:[G.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:""}),G.jsx("input",{type:"time",value:Z.time,className:"w-full border-2 rounded-2xl px-4 py-4 text-sm font-bold outline-none",onChange:S=>lt({...Z,time:S.target.value})})]})]}),G.jsxs("div",{className:"space-y-1",children:[G.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:""}),G.jsx("textarea",{value:Z.note||"",rows:"3",className:"w-full border-2 rounded-2xl px-5 py-4 text-sm font-bold resize-none outline-none focus:border-blue-500",onChange:S=>lt({...Z,note:S.target.value})})]})]}),G.jsx("button",{onClick:async()=>{const S=Z.type==="itinerary"?"itinerary":"accommodations",C=l[S].map(V=>V.id===Z.id?Z:V);await vl(qs(Hs,"artifacts",Fs,"public","data","projects",i),{[S]:C}),lt(null)},className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-black shadow-xl hover:bg-blue-700 transition-colors",children:""}),G.jsx("button",{onClick:()=>lt(null),className:"w-full text-gray-400 font-bold py-2",children:""})]})}),N&&G.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-gray-900/60 backdrop-blur-sm",children:G.jsxs("form",{onSubmit:w,className:"bg-white w-full max-w-md rounded-[3rem] p-10 shadow-2xl space-y-6",children:[G.jsxs("div",{className:"flex justify-between items-center",children:[G.jsxs("h4",{className:"text-2xl font-black",children:["",N==="itinerary"?"":""]}),G.jsx("button",{type:"button",onClick:()=>q(null),className:"text-gray-300 hover:text-gray-600",children:G.jsx(f0,{})})]}),G.jsxs("div",{className:"space-y-4",children:[G.jsx("input",{required:!0,type:"text",placeholder:"...",className:"w-full border-2 rounded-2xl px-5 py-4 font-bold outline-none focus:border-blue-500",onChange:S=>qt({...vt,name:S.target.value})}),G.jsxs("div",{className:"flex gap-4",children:[G.jsx("input",{required:!0,type:"date",value:vt.date,className:"w-full border-2 rounded-2xl px-4 py-4 text-sm font-bold outline-none",onChange:S=>qt({...vt,date:S.target.value,startDate:S.target.value})}),N==="itinerary"&&G.jsx("input",{required:!0,type:"time",value:vt.time,className:"w-full border-2 rounded-2xl px-4 py-4 text-sm font-bold outline-none",onChange:S=>qt({...vt,time:S.target.value})})]}),G.jsx("textarea",{placeholder:"...",rows:"3",className:"w-full border-2 rounded-2xl px-5 py-4 text-sm font-bold resize-none outline-none focus:border-blue-500",onChange:S=>qt({...vt,note:S.target.value})})]}),G.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-black shadow-xl hover:bg-blue-700",children:""})]})}),J&&G.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-gray-900/60 backdrop-blur-lg",children:G.jsxs("div",{className:"bg-white w-full max-w-md rounded-[3rem] p-10 shadow-2xl relative",children:[G.jsx("button",{onClick:()=>et(null),className:"absolute top-8 right-8 text-gray-300 hover:text-gray-600 transition-colors",children:G.jsx(f0,{})}),G.jsxs("div",{className:"space-y-8",children:[G.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-[1.5rem] flex items-center justify-center text-white shadow-lg",children:G.jsx(h0,{size:32})}),G.jsxs("div",{children:[G.jsx("h2",{className:"text-3xl font-black",children:J.name}),G.jsxs("p",{className:"text-gray-400 font-bold mt-1",children:[J.date," ",J.time]})]}),G.jsxs("div",{className:"bg-gray-50 p-6 rounded-[2rem] space-y-4",children:[G.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[G.jsx(VC,{size:12})," "]}),G.jsx("p",{className:"text-sm font-bold text-gray-600 italic leading-relaxed",children:J.note||""}),G.jsxs("div",{className:"pt-4 border-t border-gray-200 flex items-center gap-3",children:[G.jsx("img",{src:J.creatorPic,className:"w-8 h-8 rounded-full border shadow-sm"}),G.jsxs("p",{className:"text-xs font-black text-gray-500",children:[J.creatorName," "]})]})]})]})]})})]}):G.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:G.jsxs("div",{className:"w-full max-w-sm bg-white p-10 rounded-[3rem] shadow-2xl space-y-8",children:[G.jsxs("div",{className:"flex items-center gap-4 border-b pb-6",children:[G.jsx("img",{src:s.photoURL,className:"w-12 h-12 rounded-full border-2 border-emerald-500"}),G.jsxs("div",{children:[G.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:""}),G.jsx("p",{className:"font-black text-gray-800",children:s.displayName})]})]}),G.jsxs("div",{className:"space-y-4",children:[G.jsx("input",{type:"text",placeholder:"...",className:"w-full border-2 rounded-2xl px-5 py-4 outline-none font-bold",onKeyDown:async S=>{if(S.key==="Enter"&&S.target.value){const C=Math.random().toString(36).substring(2,9).toUpperCase();await A2(qs(Hs,"artifacts",Fs,"public","data","projects",C),{id:C,name:S.target.value,members:[{id:s.uid,name:s.displayName,pic:s.photoURL}],itinerary:[],accommodations:[],expenses:[],createdAt:new Date().toISOString()}),a(C)}}}),G.jsx("div",{className:"relative py-2 text-center text-[10px] font-black text-gray-300 uppercase",children:""}),G.jsx("input",{type:"text",placeholder:" ID...",className:"w-full border-2 rounded-2xl px-5 py-4 outline-none uppercase font-mono tracking-widest text-center bg-gray-50",onKeyDown:async S=>{if(S.key==="Enter"){const C=S.target.value.toUpperCase();(await T2(qs(Hs,"artifacts",Fs,"public","data","projects",C))).exists()&&(await vl(qs(Hs,"artifacts",Fs,"public","data","projects",C),{members:Yd({id:s.uid,name:s.displayName,pic:s.photoURL})}),a(C))}}})]})]})}):G.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:G.jsxs("div",{className:"w-full max-w-sm bg-white rounded-[3rem] shadow-2xl text-center p-10",children:[G.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto text-white shadow-xl mb-8 rotate-6",children:G.jsx(kC,{size:40})}),G.jsxs("div",{className:"space-y-2 mb-8",children:[G.jsx("h1",{className:"text-3xl font-black text-gray-900",children:""}),G.jsx("p",{className:"text-gray-400 font-bold text-sm",children:""})]}),G.jsxs("button",{onClick:It,className:"w-full bg-[#06C755] text-white font-black py-5 rounded-2xl shadow-xl flex items-center justify-center gap-3 hover:brightness-95 transition active:scale-95 mb-8",children:[G.jsx(xC,{size:24,fill:"currentColor"}),G.jsx("span",{children:" LINE "})]}),G.jsx("p",{className:"text-[10px] text-gray-300 font-bold tracking-widest uppercase",children:"LINE ID: 2009107386"})]})})}const d0=document.getElementById("root");d0?bA.createRoot(d0).render(G.jsx(yA.StrictMode,{children:G.jsx(jC,{})})):console.error(" #root  React ");
